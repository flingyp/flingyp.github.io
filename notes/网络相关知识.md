# 网络相关知识

## HTTP 和 HTTPS 的区别

:::tip 介绍

`HTTP` 即 **超文本传输协议**，是实现网络通信的一种方式。在实际应用中，`HTTP` 常被用于在浏览器和服务器之间传递信息，以明文方式发送内容，不提供任何方式的数据加密。

为了保证数据传输之间的安全性，让 `HTTP` 运行并且通过 `SSL/TLS` 协议进行数据加密，即 `HTTPS = HTTP + SSL/TLS`，通过 SSL 证书来验证服务器的身份，并为浏览器和服务器之间的通信进行加密

SSL 协议位于 TCP/IP 协议与各种应用层协议之间，浏览器和服务器在使用 SSL 建立连接时需要选择一组恰当的加密算法来实现安全通信，为数据通讯提供安全支持

:::

![](https://static.vue-js.com/078c50c0-b20c-11eb-ab90-d9ae814b240d.png)

![](https://static.vue-js.com/0e409fc0-b20c-11eb-85f6-6fac77c0c9b3.png)

区别：

1. HTTPS 是 HTTP 协议的安全版本，HTTP 协议的数据传输是明文的，是不安全的，HTTPS 使用了 SSL/TLS 协议进行了加密处理，相对更安全。
2. HTTP 和 HTTPS 使用连接方式不同，默认端口也不一样，HTTP 是 80，HTTPS 是 443。

## 说说 HTTP1.0/1.1/2.0 的区别

:::tip

HTTP1.0：浏览器与服务器只保存短暂的连接，每次请求都需要和服务器建立 TCP 连接，请求完成后会立即断开连接。如果需要建立长连接，需要设置一个非标准字段 `Connection: keep-alive`

HTTP1.1：默认支持长连接。即在一个 TCP 连接上可以传送多个 HTTP 请求和响应，减少了建立和关闭连接的消耗和延迟。HTTP1.1 还允许客户端不用等待上一次请求结果返回，就可以发出下一个请求。同时在 1.0 的基础上新增了更多请求头和响应头，还添加了其他的请求方法 如 `put`、`delete`

HTTP2.0：性能有很大提升。添加了如下特性：

- 多路复用：复用 TCP 连接，在一个连接里，客户端和浏览器都可以同时发送多个请求或回应，而且不用按照顺序一一对应，这样就避免了队头堵塞
- 二进制分帧：2.0 采用二进制格式传输数据，而非 HTTP 1.x 的文本格式，解析起来更高效
- 首部压缩
- 服务器推送：2.0 引入服务器推送，允许服务端推送资源给客户端

:::

## 3. 浏览器输入 URL 后，发送了什么

:::tip

1. 浏览器会先判断你的 URL 是否有效（URL 地址解析）
2. 进行 DNS 域名解析，获取对应的 IP 地址（DNS 域名解析）
3. 进行 TCP 连接：确认 IP 后，向服务器发起三次握手建立 TCP 连接（建立 TCP 连接）
4. 建立 TCP 连接后，浏览器开始想服务器发送 `HTTP` 请求（发起请求）
5. 当服务器接收到请求后，就会响应请求（响应请求）
6. 获取到请求内容后，浏览器就开始解析 HTML 代码，并且请求代码中的相关资源了（页面渲染）
7. 断开 TCP 连接，与服务器进行四次挥手。确定断开连接（四次挥手）

:::

## 4. 常见的状态码有哪些，使用的场景

HTTP 状态码，用来表示网页服务器超文本传输协议响应状态的 3 位数字代码

:::tip 分类

- 1xx 表示消息：代表请求已被接受，需要继续处理。这类响应是临时响应，只包含状态行和某些可选的响应头信息，并以空行结束
- 2xx 表示成功：代表请求已成功被服务器接收、理解、并接受
- 3xx 表示重定向：表示要完成请求，需要进一步操作。 通常，这些状态代码用来重定向
- 4xx 表示请求错误：代表了客户端看起来可能发生了错误，妨碍了服务器的处理
- 5xx 表示服务器错误：表示服务器无法完成明显有效的请求。这类状态码代表了服务器在处理请求的过程中有错误或者异常状态发生

:::

## 5. TCP 的三次握手

第一次握手：客户端会向服务端发送请求（确保客户端发送能力没问题）

第二次握手：服务端会给客户端发送响应（确保服务端的接受能力、发送能力没问题）

第三次握手：客户端接收到服务端的响应（确保客户端的接收能力没问题）

通过三次握手，就可以确定双方的接发收能力是正常的。之后就可以正常通信了

## 6. TCP 的四次挥手

第一次挥手：客户端发送一个 FIN，关闭客户端到服务器端的数据传送

第二次挥手：服务器接收到 FIN，会向客户端返回一个 ACK

第三次挥手：服务器会关闭客户端的链接，发送一个 FIN 给客户端

第四次挥手：客户端接收到 FIN 返回 ACK

四次挥手的原因：服务端在收到客户端断开连接`Fin`报文后，并不会立即关闭连接，而是先发送一个`ACK`包先告诉客户端收到关闭连接的请求，只有当服务器的所有报文发送完毕之后，才发送`FIN`报文断开连接，因此需要四次挥手

## 7. UDP 和 TCP 的区别

|              | UDP                                          | TCP                                    |
| ------------ | -------------------------------------------- | -------------------------------------- |
| 是否连接     | 无连接                                       | 面向连接                               |
| 是否可靠     | 不可靠运算，不使用流量控制和拥塞控制         | 可靠传输，使用流量控制和拥塞控制       |
| 连接对象个数 | 支持一对一、一对多、多对一和多得多的交互通信 | 只能是一对一通信                       |
| 传输方式     | 面向报文                                     | 面向字节流                             |
| 首部开销     | 首部开销小，8字节                            | 首部最小20字节，最大60字节             |
| 适用场景     | 适用于实时应用，例如视频会议、直播           | 适用于要求可靠传输的应用，例如文件传输 |

