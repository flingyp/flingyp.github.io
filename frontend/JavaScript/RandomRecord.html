<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 杂记 | Growth Record</title>
    <meta name="description" content="个人博客">
    <link rel="stylesheet" href="/assets/style.b494be6e.css">
    <link rel="modulepreload" href="/assets/app.8775426f.js">
    <link rel="modulepreload" href="/assets/frontend_JavaScript_RandomRecord.md.d4e6a978.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-0d8242cd><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5bad87e6></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5bad87e6> Skip to content </a><!--]--><!----><header class="VPNav" data-v-0d8242cd data-v-6c6f86d4><div class="VPNavBar has-sidebar" data-v-6c6f86d4 data-v-389130ec><div class="container" data-v-389130ec><div class="VPNavBarTitle has-sidebar" data-v-389130ec data-v-29a852c5><a class="title" href="/" data-v-29a852c5><!--[--><!--]--><!--[--><img class="VPImage logo" src="/docs-logo.png" data-v-0e8d41ab><!--]--><!--[-->Growth Record<!--]--><!--[--><!--]--></a></div><div class="content" data-v-389130ec><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-389130ec data-v-1afc9dec><span id="main-nav-aria-label" class="visually-hidden" data-v-1afc9dec>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-712d8bb6><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-712d8bb6><span class="text" data-v-712d8bb6><!----> 前端宝藏库 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-712d8bb6><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-712d8bb6><div class="VPMenu" data-v-712d8bb6 data-v-27a01d34><div class="items" data-v-27a01d34><!--[--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/HTML5/RandomRecord.html" data-v-44c3a200 data-v-34a71698><!--[-->HTML5<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/CSS3/Layout.html" data-v-44c3a200 data-v-34a71698><!--[-->CSS3<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/JavaScript/ES6.html" data-v-44c3a200 data-v-34a71698><!--[-->JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/TypeScript/" data-v-44c3a200 data-v-34a71698><!--[-->TypeScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/Vue/Vue3.html" data-v-44c3a200 data-v-34a71698><!--[-->Vue<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/React/React.html" data-v-44c3a200 data-v-34a71698><!--[-->React<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-712d8bb6><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-712d8bb6><span class="text" data-v-712d8bb6><!----> 前端工程化 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-712d8bb6><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-712d8bb6><div class="VPMenu" data-v-712d8bb6 data-v-27a01d34><div class="items" data-v-27a01d34><!--[--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/frontend/Engineering/CodeStandard.html" data-v-44c3a200 data-v-34a71698><!--[-->代码规范化<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-712d8bb6><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-712d8bb6><span class="text" data-v-712d8bb6><!----> 相关链接 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-712d8bb6><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-712d8bb6><div class="VPMenu" data-v-712d8bb6 data-v-27a01d34><div class="items" data-v-27a01d34><!--[--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="https://vadmire.top" target="_blank" rel="noreferrer" data-v-44c3a200 data-v-34a71698><!--[-->VAdmire Plus<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-34a71698><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="https://yyblog.top/flypeng-tool" target="_blank" rel="noreferrer" data-v-44c3a200 data-v-34a71698><!--[-->@flypeng/tool<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-34a71698><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Sites.html" data-v-1afc9dec data-v-1d8250a9 data-v-34a71698><!--[-->宝藏网站<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-712d8bb6><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-712d8bb6><span class="text" data-v-712d8bb6><!----> 随机文章 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-712d8bb6><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-712d8bb6><div class="VPMenu" data-v-712d8bb6 data-v-27a01d34><div class="items" data-v-27a01d34><!--[--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/notes/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-44c3a200 data-v-34a71698><!--[-->Git常用命令it常用命令.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/notes/Linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4.html" data-v-44c3a200 data-v-34a71698><!--[-->Linux基本命令inux基本命令.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/notes/Nginx%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html" data-v-44c3a200 data-v-34a71698><!--[-->Nginx基本使用ginx基本使用.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/notes/RegExp%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8.html" data-v-44c3a200 data-v-34a71698><!--[-->RegExp介绍与使用egExp介绍与使用.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/notes/%E5%8A%9B%E6%89%A3%E9%A2%98%E8%AE%B0%E5%BD%95.html" data-v-44c3a200 data-v-34a71698><!--[-->力扣题记录扣题记录.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-27a01d34 data-v-44c3a200><a class="VPLink link" href="/notes/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95.html" data-v-44c3a200 data-v-34a71698><!--[-->小程序开发记录程序开发记录.md<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-389130ec data-v-0b2f3bac><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0b2f3bac data-v-741b6450 data-v-ab2de182><span class="check" data-v-ab2de182><span class="icon" data-v-ab2de182><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-741b6450><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-741b6450><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-389130ec data-v-5c5de4da data-v-7dcd7d60><!--[--><a class="VPSocialLink" href="https://github.com/flingyp" target="_blank" rel="noopener" data-v-7dcd7d60 data-v-96f0fbe2><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-389130ec data-v-5fe59986 data-v-712d8bb6><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-712d8bb6><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-712d8bb6><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-712d8bb6><div class="VPMenu" data-v-712d8bb6 data-v-27a01d34><!----><!--[--><!--[--><!----><div class="group" data-v-5fe59986><div class="item appearance" data-v-5fe59986><p class="label" data-v-5fe59986>Appearance</p><div class="appearance-action" data-v-5fe59986><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-5fe59986 data-v-741b6450 data-v-ab2de182><span class="check" data-v-ab2de182><span class="icon" data-v-ab2de182><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-741b6450><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-741b6450><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-5fe59986><div class="item social-links" data-v-5fe59986><div class="VPSocialLinks social-links-list" data-v-5fe59986 data-v-7dcd7d60><!--[--><a class="VPSocialLink" href="https://github.com/flingyp" target="_blank" rel="noopener" data-v-7dcd7d60 data-v-96f0fbe2><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-389130ec data-v-657c5a30><span class="container" data-v-657c5a30><span class="top" data-v-657c5a30></span><span class="middle" data-v-657c5a30></span><span class="bottom" data-v-657c5a30></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-0d8242cd data-v-395172d0><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-395172d0><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-395172d0><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-395172d0>Menu</span></button><a class="top-link" href="#" data-v-395172d0> Return to top </a></div><aside class="VPSidebar" data-v-0d8242cd data-v-721dab0e><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-721dab0e><span class="visually-hidden" id="sidebar-aria-label" data-v-721dab0e> Sidebar Navigation </span><!--[--><div class="group" data-v-721dab0e><section class="VPSidebarGroup collapsible" data-v-721dab0e data-v-92414d3a><div class="title" role="button" data-v-92414d3a><h2 class="title-text" data-v-92414d3a>HTML</h2><div class="action" data-v-92414d3a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-92414d3a><!--[--><a class="VPLink link link" href="/frontend/HTML5/RandomRecord.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>杂记</span><!----><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-721dab0e><section class="VPSidebarGroup collapsible" data-v-721dab0e data-v-92414d3a><div class="title" role="button" data-v-92414d3a><h2 class="title-text" data-v-92414d3a>CSS3</h2><div class="action" data-v-92414d3a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-92414d3a><!--[--><a class="VPLink link link" href="/frontend/CSS3/Layout.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>布局</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/CSS3/Flex.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>Flex布局</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/CSS3/Grid.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>Grid网格布局</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/CSS3/Skill.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>CSS常用技巧</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/CSS3/RandomRecord.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>杂记</span><!----><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-721dab0e><section class="VPSidebarGroup collapsible" data-v-721dab0e data-v-92414d3a><div class="title" role="button" data-v-92414d3a><h2 class="title-text" data-v-92414d3a>JavaScript</h2><div class="action" data-v-92414d3a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-92414d3a><!--[--><a class="VPLink link link" href="/frontend/JavaScript/ES6.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>ES6语法</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/JavaScript/Skill.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>JavaScript常用技巧</span><!----><!--]--><!----></a><a class="VPLink link link active" href="/frontend/JavaScript/RandomRecord.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>杂记</span><!----><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-721dab0e><section class="VPSidebarGroup collapsible" data-v-721dab0e data-v-92414d3a><div class="title" role="button" data-v-92414d3a><h2 class="title-text" data-v-92414d3a>Vue</h2><div class="action" data-v-92414d3a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-92414d3a><!--[--><a class="VPLink link link" href="/frontend/Vue/Vue2.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>Vue2相关语法</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/Vue/Vue3.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>Vue3相关语法</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/Vue/Vue3Tsx.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>Vue3+TSX语法写法总结</span><!----><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-721dab0e><section class="VPSidebarGroup collapsible" data-v-721dab0e data-v-92414d3a><div class="title" role="button" data-v-92414d3a><h2 class="title-text" data-v-92414d3a>React</h2><div class="action" data-v-92414d3a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-92414d3a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-92414d3a><!--[--><a class="VPLink link link" href="/frontend/React/React.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>React</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/React/ReactRouter.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>ReactRouter</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/React/Redux.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>Redux</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/React/ReactRedux.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>ReactRedux</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/React/ReactHooks.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>ReactHooks</span><!----><!--]--><!----></a><a class="VPLink link link" href="/frontend/React/NextJS.html" data-v-92414d3a data-v-a2580590 data-v-34a71698><!--[--><span class="link-text" data-v-a2580590>NextJS</span><!----><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-0d8242cd data-v-439bc911><div class="VPDoc has-sidebar has-aside" data-v-439bc911 data-v-5937c1a3><div class="container" data-v-5937c1a3><div class="aside" data-v-5937c1a3><div class="aside-curtain" data-v-5937c1a3></div><div class="aside-container" data-v-5937c1a3><div class="aside-content" data-v-5937c1a3><div class="VPDocAside" data-v-5937c1a3 data-v-ab3cfea0><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-ab3cfea0 data-v-10e7cf1e><div class="content" data-v-10e7cf1e><div class="outline-marker" data-v-10e7cf1e></div><div class="outline-title" data-v-10e7cf1e>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-10e7cf1e><span class="visually-hidden" id="doc-outline-aria-label" data-v-10e7cf1e> Table of Contents for current page </span><ul class="root" data-v-10e7cf1e><!--[--><li style="" data-v-10e7cf1e><a class="outline-link" href="#_1-什么是闭包？为什么要用闭包？" data-v-10e7cf1e>1. 什么是闭包？为什么要用闭包？</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_2-延迟加载-js-方式有哪些？" data-v-10e7cf1e>2. 延迟加载 JS 方式有哪些？</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_3-javascript-数据类型有哪些？" data-v-10e7cf1e>3. JavaScript 数据类型有哪些？</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_4-null-和-undefined-的区别？" data-v-10e7cf1e>4. null 和 undefined 的区别？</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_5-和-的区别" data-v-10e7cf1e>5. == 和 === 的区别</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_6-javascript-微任务和宏任务" data-v-10e7cf1e>6. JavaScript 微任务和宏任务</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_7-javascript-作用域" data-v-10e7cf1e>7. JavaScript 作用域</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_8-javascript-预编译是什么" data-v-10e7cf1e>8. JavaScript 预编译是什么</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_9-原型与原型链" data-v-10e7cf1e>9. 原型与原型链</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_10-slice-和-splice-分别是干嘛的" data-v-10e7cf1e>10. slice 和 splice 分别是干嘛的</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_11-实现数组去重的方式" data-v-10e7cf1e>11. 实现数组去重的方式</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_12-函数内部-this-指向" data-v-10e7cf1e>12. 函数内部 this 指向</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_13-new-操作符具体做了什么" data-v-10e7cf1e>13. new 操作符具体做了什么</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_14-call、apply、bind-的区别" data-v-10e7cf1e>14. call、apply、bind 的区别</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_15-深拷贝和浅拷贝" data-v-10e7cf1e>15. 深拷贝和浅拷贝</a><!----></li><li style="" data-v-10e7cf1e><a class="outline-link" href="#_16-var、const、let-的区别" data-v-10e7cf1e>16. var、const、let 的区别</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-ab3cfea0></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-5937c1a3><div class="content-container" data-v-5937c1a3><!--[--><!--]--><main class="main" data-v-5937c1a3><div style="position:relative;" class="vp-doc _frontend_JavaScript_RandomRecord" data-v-5937c1a3><div><h1 id="javascript-杂记" tabindex="-1">JavaScript 杂记 <a class="header-anchor" href="#javascript-杂记" aria-hidden="true">#</a></h1><h2 id="_1-什么是闭包？为什么要用闭包？" tabindex="-1">1. 什么是闭包？为什么要用闭包？ <a class="header-anchor" href="#_1-什么是闭包？为什么要用闭包？" aria-hidden="true">#</a></h2><p>执行上下文（执行环境）：全局环境（全局作用域）、函数环境（函数作用域）</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>什么是闭包：是指可访问另一个作用域下的变量的函数。或者说函数嵌套，内部函数就是闭包。</p><p>我们可以在内部函数中访问外部函数作用域的变量就可以采用闭包的形式。</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>闭包的优点：</p><ol><li><p>可以在外部访问闭包中的内部函数的局部变量</p></li><li><p>不需要将啥杂七杂八的变量都定义在全局环境当中。避免变量污染全局</p></li><li><p>把变量存到独立的作用域，作为私有成员的存在</p></li></ol><p>闭包的缺点：</p><ol><li>变量会驻留在内存中，会造成内存损耗问题</li></ol></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// 问题：会打印四个4，但是就是想根据循环打印 1 2 3 4 呢</span></span>
<span class="line"><span style="color:#758575;">// 解释问题：首先根据JS执行顺序，会先执行完所有for循环，再去执行异步任务 setTimeout。但是变量是使用 var 关键字声明的，此时的i是作用在全局的。执行完循环后i已经变成4了，所以打印出来的i就都是4了</span></span>
<span class="line"><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#CB7676;">++</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">i</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 打印四个 4</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1000</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 使用闭包配合立即执行函数解决此问题，此时的i作为参数传入立即执行函数当中，会存在到这个闭包当中</span></span>
<span class="line"><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#CB7676;">++</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">i</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">i</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 打印四个 4</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1000</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">})(</span><span style="color:#B8A965;">i</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// 问题：会打印四个4，但是就是想根据循环打印 1 2 3 4 呢</span></span>
<span class="line"><span style="color:#A0ADA0;">// 解释问题：首先根据JS执行顺序，会先执行完所有for循环，再去执行异步任务 setTimeout。但是变量是使用 var 关键字声明的，此时的i是作用在全局的。执行完循环后i已经变成4了，所以打印出来的i就都是4了</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 打印四个 4</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1000</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 使用闭包配合立即执行函数解决此问题，此时的i作为参数传入立即执行函数当中，会存在到这个闭包当中</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 打印四个 4</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1000</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">})(</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-延迟加载-js-方式有哪些？" tabindex="-1">2. 延迟加载 JS 方式有哪些？ <a class="header-anchor" href="#_2-延迟加载-js-方式有哪些？" aria-hidden="true">#</a></h2><p>一般 HTML 文件当中的 <code>script</code> 脚本引入我们会放置在 <code>body</code> 的下面，以确保浏览器优先加载 DOM</p><p>延迟加载的作用：确保等待页面加载完成之后再加载 JavaScript 脚本文件</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>延迟加载方式有： async、defer</p><p><code>&lt;srcipt async type=&quot;text/javascript&quot; src=&quot;xxx.js&quot;&gt;&lt;/script&gt;</code></p><p><code>&lt;srcipt defer type=&quot;text/javascript&quot; src=&quot;xxx.js&quot;&gt;&lt;/script&gt;</code></p></div><p><strong>两者区别：</strong></p><ul><li><p>async：async 是和 html 加载同步的（一起），不是顺次执行 JS 脚本（谁先加载完谁先执行）</p></li><li><p>defer：等 html 全部加载完成，才会执行 JS 代码，顺次执行 JS 脚本文件</p></li></ul><h2 id="_3-javascript-数据类型有哪些？" tabindex="-1">3. JavaScript 数据类型有哪些？ <a class="header-anchor" href="#_3-javascript-数据类型有哪些？" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>基本类型：string、number、boolean、undefined、null、symbol</p><p>引用类型：object</p></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#CB7676;">typeof</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">NaN</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// number</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#CB7676;">typeof</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">undefined</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// undefined</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#CB7676;">typeof</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// object</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#4D9375;">true</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 2</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;name&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// nametrue</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#D4976C;">undefined</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// NaN</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">NaN</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// number</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">undefined</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// undefined</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// object</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">true</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 2</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;name&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// nametrue</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">undefined</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// NaN</span></span>
<span class="line"></span></code></pre></div><h2 id="_4-null-和-undefined-的区别？" tabindex="-1">4. null 和 undefined 的区别？ <a class="header-anchor" href="#_4-null-和-undefined-的区别？" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>JavaScript 在最初设计的时候，参考了 Java 语言，所以有了 null。而 null 会被隐式转换成 0，不容易发现错误，所以为了弥补 null 的坑，出现了 undefined。</p><p>null 的字面意思是：空值 。这个值的语义是，希望表示一个对象被人为的重置为空对象，而非一个变量最原始的状态 。 在内存里的表示就是，栈中的变量没有指向堆中的内存对象</p><p>共同点：它们都表示的是一个无效的值</p><p>区别：null 是一个表示 无 的对象（空对象指针），undefined 一个变量自然的、最原始的状态值。</p><p>所以，在实际使用过程中，为了保证变量所代表的语义，不要对一个变量显式的赋值 undefined，当需要释放一个对象时，直接赋值为 null 即可。</p></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#D4976C;">undefined</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"><span style="color:#D4976C;">undefined</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// false</span></span>
<span class="line"><span style="color:#E0A569;">Number</span><span style="color:#858585;">(</span><span style="color:#D4976C;">null</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 0</span></span>
<span class="line"><span style="color:#E0A569;">Number</span><span style="color:#858585;">(</span><span style="color:#D4976C;">undefined</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// NaN</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A65E2B;">undefined</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"><span style="color:#A65E2B;">undefined</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// false</span></span>
<span class="line"><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 0</span></span>
<span class="line"><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">undefined</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// NaN</span></span>
<span class="line"></span></code></pre></div><h2 id="_5-和-的区别" tabindex="-1">5. == 和 === 的区别 <a class="header-anchor" href="#_5-和-的区别" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>== 比较的是值，之间的比较会存在隐式转换</p><p>=== 除了比较值，还比较两者的类型</p></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1&quot;</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true  string 转换为 number</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#4D9375;">true</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true  boolean 转换为 number</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#D4976C;">null</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">undefined</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">([</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1,2&quot;</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1&quot;</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true  string 转换为 number</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">true</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true  boolean 转换为 number</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">null</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">undefined</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">([</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1,2&quot;</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"></span></code></pre></div><h2 id="_6-javascript-微任务和宏任务" tabindex="-1">6. JavaScript 微任务和宏任务 <a class="header-anchor" href="#_6-javascript-微任务和宏任务" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>JavaScript 是单线程语言。</p><p>JS 的代码执行循序：先执行主线程的同步任务，后执行事件循环 Event Table 中的异步任务（宏任务、微任务）。</p><p>异步任务包括：Ajax 请求、setTimeout、<code>promise.then()</code> 等</p><p>任务队列 Event Queue：JS 中有两类任务队列。宏任务队列 和 微任务队列。宏任务队列可以有多个。微任务队列只能有一个</p><p>宏任务：script（全局任务就是主线程的同步任务）, setTimeout, setInterval, setImmediate, I/O, UI rendering</p><p>微任务： process.nextTick （node.js 中进程相关的对象）, Promise.then、catch、finally, Object.observer, MutationObserver</p></div><p><img src="https://img-blog.csdnimg.cn/20200714184207672.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NjI0Mzg2,size_16,color_FFFFFF,t_70" alt="JS代码执行顺序"></p><p>先执行一个宏任务，查看是否有可执行的微任务，执行完所有微任务后再执行新的宏任务</p><p><img src="https://img-blog.csdnimg.cn/20200714184526268.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NjI0Mzg2,size_16,color_FFFFFF,t_70" alt="宏微任务执行关系"></p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;1&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">2</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">3</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}).</span><span style="color:#A1B567;">then</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">4</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">5</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">then</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">6</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">then</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">7</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">8</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">9</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}).</span><span style="color:#A1B567;">then</span><span style="color:#858585;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">10</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#758575;">// 1 5 6 7 2 3 4 8 9 10</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;1&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}).</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">7</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">8</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">9</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}).</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">10</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// 1 5 6 7 2 3 4 8 9 10</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><ol><li><p>先执行主线程的所有同步任务。打印：1 5</p></li><li><p>在执行当前所有的微任务。打印：6 7</p></li><li><p>进入事件循环中执行异步任务</p></li><li><p>执行第一个 setTimeout 宏任务。 打印：2 3</p></li><li><p>执行第一个 setTimeout 宏任务所有微任务。打印：4</p></li><li><p>执行第二个 setTimeout 宏任务。打印：8 9</p></li><li><p>执行第二个 setTimeout 宏任务所有微任务。打印：10</p></li></ol><p>所以执行顺序是：1 5 6 7 2 3 4 8 9 10</p></div><p><strong>总结</strong>：先执行主线程所有同步任务（一次宏任务）- 执行所有当前微任务 - 在执行异步任务（一次宏任务）- 在执行当前的所有微任务 - 周而复始</p><h2 id="_7-javascript-作用域" tabindex="-1">7. JavaScript 作用域 <a class="header-anchor" href="#_7-javascript-作用域" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>静态作用域：静态作用域又叫词法作用域，JavaScript 就是静态作用域</p></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">10</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 如果此处声明了变量x则返回的是自身作用域的局部变量x</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// var x = 30</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 此时访问的x变量是全局变量x</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">g</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">20</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 执行函数f，就去定义该函数的地方查找</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#A1B567;">g</span><span style="color:#858585;">());</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 如果此处声明了变量x则返回的是自身作用域的局部变量x</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// var x = 30</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 此时访问的x变量是全局变量x</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">g</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">20</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 执行函数f，就去定义该函数的地方查找</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#6C7834;">g</span><span style="color:#8E8F8B;">());</span></span>
<span class="line"></span></code></pre></div><p>上述代码中，函数 f 返回的 x 是外层定义的 x，也就是 10，我们调用 g 的时候，虽然 g 里面也有个变量 x，但是在这里我们并没有用它，用的是 f 里面的 x。也就是说我们调用一个函数时，如果这个函数的变量没有在函数中定义，就去定义该函数的地方查找，这种查找关系在我们代码写出来的时候其实就确定了，所以叫静态作用域</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>变量提升：在 ES6 之前，我们申明变量都是使用 var，使用 var 申明的变量都是函数作用域，即在函数体内可见，这会带来变量提升的问题（即变量声明提前）</p></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">x</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// undefined</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">x</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 2</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#758575;">// 上面代码相当于如下代码：</span></span>
<span class="line"><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">x</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// undefined</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">x</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 2</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// undefined</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 2</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#A0ADA0;">// 上面代码相当于如下代码：</span></span>
<span class="line"><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// undefined</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 2</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span></code></pre></div><p>在函数体内部使用了关键字<code>var</code>声明变量 x。所以它其实在整个函数内部可见，也就是说，变量 x 的声明相当于提前到了函数内部的最开始地方，但是变量赋值还是在运行的<code>x = 2</code>地方执行。所以第一个输出 <code>undefined</code>，第二个输出 <code>2</code></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>函数提升：和变量提升同理</p></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">x</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 普通函数声明提前</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">x</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#758575;">// 上面代码相当于如下代码：</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">x</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">x</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 普通函数声明提前</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#A0ADA0;">// 上面代码相当于如下代码：</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span></code></pre></div><p>注意：将上面的 <code>x</code> 函数换成函数表达式就不行了，会报错</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">x</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#758575;">// 上面代码相当于如下代码：</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 此时的x是undefined，但是你将它当中函数调用。所以它会报错</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// Uncaught TypeError: x is not a function</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">x</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">f</span><span style="color:#858585;">();</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#A0ADA0;">// 上面代码相当于如下代码：</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 此时的x是undefined，但是你将它当中函数调用。所以它会报错</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// Uncaught TypeError: x is not a function</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>变量声明和函数声明的优先级谁更高？（如果有二个名称相同的变量和函数，谁优先级谁更高）</p><p>答案是：函数声明的优先级更高</p></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">x</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">x</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span></span>
<span class="line"><span style="color:#758575;">// 所以说是想声明了函数再声明了变量，从而覆盖了函数的声明</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">x</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 1</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">x</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">x</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span></span>
<span class="line"><span style="color:#A0ADA0;">// 所以说是想声明了函数再声明了变量，从而覆盖了函数的声明</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>参考文章：</p><p><a href="https://blog.csdn.net/dennis_jiang/article/details/106157904" target="_blank" rel="noreferrer">https://blog.csdn.net/dennis_jiang/article/details/106157904</a></p></div><h2 id="_8-javascript-预编译是什么" tabindex="-1">8. JavaScript 预编译是什么 <a class="header-anchor" href="#_8-javascript-预编译是什么" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">介绍</p><p>JavaScript 代码是由浏览器的 JS 解析器执行的。解析器在执行过程时分为两步：<strong>预编译和代码执行</strong></p><p>预编译的概念：在当前作用域下，JS 代码执行前，浏览器会默认将带有 <code>var</code> 和 <code>function</code> 声明的变量和函数在内存中提前声明和定义。</p><p>因此也有了变量提升和函数提升的概念。</p><p>优先级：函数提升 &gt; 变量提升</p><p>也就是说同样一个名称的函数和变量，函数会优先被声明，变量则会在后续声明，从而会覆盖声明的函数。</p></div><h2 id="_9-原型与原型链" tabindex="-1">9. 原型与原型链 <a class="header-anchor" href="#_9-原型与原型链" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>必须知道的点：</p><ol><li>所有的构造函数都是通过 Function 创建的</li><li>所以的对象都是通过 new 实例化出来的</li><li>所有的函数都是对象</li></ol><p><code>prototype</code> -&gt; 原型：本质就是一个对象</p><p><code>__proto__</code> -&gt; 原型链（形成原型链的一个桥节点）</p></div><h3 id="原型与原型链的总结" tabindex="-1">原型与原型链的总结 <a class="header-anchor" href="#原型与原型链的总结" aria-hidden="true">#</a></h3><ol><li>构造函数中存在一个属性叫做 <code>prototype</code>（原型）</li><li>对象都有一个隐藏属性 <code>__proto__</code>，这个属性保存着该对象的构造函数 <code>contructor</code> 的 <code>prototype</code> 属性</li></ol><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// 构造函数 Test</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Test</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 实例化对象 test</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">test</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Test</span><span style="color:#858585;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 根据上面的两点结论得出</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">test</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Test</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"><span style="color:#758575;">// 又因为 prototype 本质是一个对象，那么它自己本身也有一个 __proto__ 属性</span></span>
<span class="line"><span style="color:#758575;">// Test.prototype 是个对象，所以它的构造函数是Object</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#E0A569;">Test</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Object</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"><span style="color:#758575;">// 同理 Object.prototype 也是个对象，但是Object是最顶层的了 所以它的 __proto__ 是 null</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#E0A569;">Object</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// null</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// 构造函数 Test</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Test</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 实例化对象 test</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">test</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Test</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 根据上面的两点结论得出</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">test</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Test</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"><span style="color:#A0ADA0;">// 又因为 prototype 本质是一个对象，那么它自己本身也有一个 __proto__ 属性</span></span>
<span class="line"><span style="color:#A0ADA0;">// Test.prototype 是个对象，所以它的构造函数是Object</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Test</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"><span style="color:#A0ADA0;">// 同理 Object.prototype 也是个对象，但是Object是最顶层的了 所以它的 __proto__ 是 null</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// null</span></span>
<span class="line"></span></code></pre></div><p>根据上面的描述可以总结出下面的结构内容：</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">test</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">__proto__</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Test</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">__proto</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#E0A569;">Object</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">__proto__</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}),</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">test</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">__proto__</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Test</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">__proto</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">__proto__</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}),</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><p><strong>总结：</strong> <code>__proto__</code> 指向的是构造出自己的那个构造函数的 <code>prototype</code> 属性。而每个对象（包括构造函数）上都会有一个隐式 <strong>proto</strong> 去指向 prototype。最后形成一条链，指向的终点就是 Object。形成这条链后就又有另一个概念<strong>原型继承</strong>。如果去访问对象中某个属性，如果自身内部不存在那么就会去原型链上向上查找该属性。</p><h3 id="function-和-object" tabindex="-1">Function 和 Object <a class="header-anchor" href="#function-和-object" aria-hidden="true">#</a></h3><p>根据这三点去看本质</p><ol><li>所有的构造函数都是通过 Function 创建的</li><li>所以的对象都是通过 new 实例化出来的</li><li>所有的函数都是对象</li></ol><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// 构造函数 Test</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Test</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span></span>
<span class="line"><span style="color:#758575;">// 实例化对象 test</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">test</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Test</span><span style="color:#858585;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 1. 所有的构造函数都是通过 Function 创建的</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">Test</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Function</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#E0A569;">Object</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Function</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"><span style="color:#758575;">// 那么构造函数 Function 本身呢由谁构造出来呢？</span></span>
<span class="line"><span style="color:#758575;">// 可以看到 Function 的构造函数是自己本身</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#E0A569;">Function</span><span style="color:#858585;">.</span><span style="color:#429988;">constructor</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// ƒ Function() {}</span></span>
<span class="line"><span style="color:#758575;">// 所以下面这句话也是成立的</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#E0A569;">Function</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Function</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 从而推出这句话</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#E0A569;">Object</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Function</span><span style="color:#858585;">.</span><span style="color:#429988;">__proto__</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// true</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// 构造函数 Test</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Test</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span></span>
<span class="line"><span style="color:#A0ADA0;">// 实例化对象 test</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">test</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Test</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 1. 所有的构造函数都是通过 Function 创建的</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">Test</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Function</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Function</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"><span style="color:#A0ADA0;">// 那么构造函数 Function 本身呢由谁构造出来呢？</span></span>
<span class="line"><span style="color:#A0ADA0;">// 可以看到 Function 的构造函数是自己本身</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Function</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">constructor</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// ƒ Function() {}</span></span>
<span class="line"><span style="color:#A0ADA0;">// 所以下面这句话也是成立的</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Function</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Function</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 从而推出这句话</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Function</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">__proto__</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"></span></code></pre></div><p>总结：</p><ol><li><p>在 JS 中万物皆对象</p></li><li><p>所有构造函数都是通过 <code>new Function()</code> 构造出来</p></li><li><p><code>object.__proto__ === object.contructor.prototype</code></p></li></ol><h2 id="_10-slice-和-splice-分别是干嘛的" tabindex="-1">10. <code>slice</code> 和 <code>splice</code> 分别是干嘛的 <a class="header-anchor" href="#_10-slice-和-splice-分别是干嘛的" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>slice 用来截取数组中某段片段，返回一个新的数组</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">slice</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [2,3]</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">[(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#858585;">)].</span><span style="color:#A1B567;">slice</span><span style="color:#858585;">(</span><span style="color:#6394BF;">2</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [3,4,5,6]</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">[(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#858585;">)].</span><span style="color:#A1B567;">slice</span><span style="color:#858585;">(</span><span style="color:#CB7676;">-</span><span style="color:#6394BF;">2</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [5,6]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">slice</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [2,3]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">[(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">)].</span><span style="color:#6C7834;">slice</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [3,4,5,6]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">[(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">)].</span><span style="color:#6C7834;">slice</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [5,6]</span></span>
<span class="line"></span></code></pre></div><p>splice 用来删除元素或添加数组元素，返回删除的数组，会改变原数组</p><p><code>Array.prototype.splice(index, many, ...items)</code></p><ol><li><p>index 要从哪里开始删除元素</p></li><li><p>many 删除多少个元素</p></li><li><p>items 添加到数组的元素</p></li></ol><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">splice</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [1,3,4,5,6]</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">[(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#858585;">)].</span><span style="color:#A1B567;">splice</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [1,2,3,4,5,6]</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">[(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">4</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#858585;">)].</span><span style="color:#A1B567;">splice</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">7</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">9</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [1,7,8,9,2,4,5,6]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">splice</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [1,3,4,5,6]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">[(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">)].</span><span style="color:#6C7834;">splice</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [1,2,3,4,5,6]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">[(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">)].</span><span style="color:#6C7834;">splice</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">7</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">9</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [1,7,8,9,2,4,5,6]</span></span>
<span class="line"></span></code></pre></div></div><h2 id="_11-实现数组去重的方式" tabindex="-1">11. 实现数组去重的方式 <a class="header-anchor" href="#_11-实现数组去重的方式" aria-hidden="true">#</a></h2><h3 id="第一种：array-from-和-set" tabindex="-1">第一种：<code>Array.from()</code> 和 <code>Set</code> <a class="header-anchor" href="#第一种：array-from-和-set" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">介绍</p><p>Set： 允许你存储任何类型的唯一值，无论是原始值或者是对象引用</p><p><code>Array.from()</code>：对一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例</p></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">array</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#6394BF;">12</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">24</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">12</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">31</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">24</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;天气&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">];</span></span>
<span class="line"><span style="color:#758575;">// 去重操作</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">clearRepeat</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">array</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Array</span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">unknow</span><span style="color:#858585;">&gt;)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Array</span><span style="color:#858585;">.</span><span style="color:#A1B567;">from</span><span style="color:#858585;">(</span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Set</span><span style="color:#858585;">(</span><span style="color:#B8A965;">array</span><span style="color:#858585;">));</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// [12, 24, 30, 31, &#39;你好&#39;, &#39;天气&#39;]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">array</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">12</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">24</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">12</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">31</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">24</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;天气&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">];</span></span>
<span class="line"><span style="color:#A0ADA0;">// 去重操作</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">clearRepeat</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">array</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Array</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">unknow</span><span style="color:#8E8F8B;">&gt;)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Array</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">from</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Set</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">array</span><span style="color:#8E8F8B;">));</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// [12, 24, 30, 31, &#39;你好&#39;, &#39;天气&#39;]</span></span>
<span class="line"></span></code></pre></div><h3 id="第二种：使用-includes-去重操作" tabindex="-1">第二种：使用 <code>includes()</code> 去重操作 <a class="header-anchor" href="#第二种：使用-includes-去重操作" aria-hidden="true">#</a></h3><p><code>indexOf</code> 也是同理的</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">array</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#6394BF;">12</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">24</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">12</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">31</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">24</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;天气&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">];</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">clearRepeat</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">array</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">newArray</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[];</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">array</span><span style="color:#858585;">.</span><span style="color:#A1B567;">forEach</span><span style="color:#858585;">((</span><span style="color:#B8A965;">item</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newArray</span><span style="color:#858585;">.</span><span style="color:#A1B567;">includes</span><span style="color:#858585;">(</span><span style="color:#B8A965;">item</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">void</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">newArray</span><span style="color:#858585;">.</span><span style="color:#A1B567;">push</span><span style="color:#858585;">(</span><span style="color:#B8A965;">item</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">newArray</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#A1B567;">clearRepeat</span><span style="color:#858585;">(</span><span style="color:#B8A965;">array</span><span style="color:#858585;">));</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">array</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">12</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">24</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">12</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">31</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">24</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;天气&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">];</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">clearRepeat</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">array</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">newArray</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[];</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">array</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">forEach</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newArray</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">includes</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">void</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">newArray</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">push</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">newArray</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#6C7834;">clearRepeat</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">array</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"></span></code></pre></div><h3 id="第三种：sort-排序" tabindex="-1">第三种：<code>sort</code> 排序 <a class="header-anchor" href="#第三种：sort-排序" aria-hidden="true">#</a></h3><p>对数组进行排序整理，循环遍历每一项都与自己的上一项去做比较</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">array</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#6394BF;">12</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">24</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">12</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">31</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">24</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;天气&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">];</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">clearRepeat</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">arr</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">arr</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">arr</span><span style="color:#858585;">.</span><span style="color:#A1B567;">sort</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">newArray</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[];</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">arr</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#CB7676;">++</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">newArray</span><span style="color:#858585;">.</span><span style="color:#A1B567;">push</span><span style="color:#858585;">(</span><span style="color:#B8A965;">arr</span><span style="color:#858585;">[</span><span style="color:#B8A965;">i</span><span style="color:#858585;">]);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">arr</span><span style="color:#858585;">[</span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">!==</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">arr</span><span style="color:#858585;">[</span><span style="color:#B8A965;">i</span><span style="color:#858585;">])</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">newArray</span><span style="color:#858585;">.</span><span style="color:#A1B567;">push</span><span style="color:#858585;">(</span><span style="color:#B8A965;">arr</span><span style="color:#858585;">[</span><span style="color:#B8A965;">i</span><span style="color:#858585;">]);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">newArray</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#A1B567;">clearRepeat</span><span style="color:#858585;">(</span><span style="color:#B8A965;">array</span><span style="color:#858585;">));</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">array</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">12</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">24</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">12</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">31</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">24</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;天气&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">];</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">clearRepeat</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">arr</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">sort</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">newArray</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[];</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">newArray</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">push</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">]);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!==</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">])</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">newArray</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">push</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">]);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">newArray</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#6C7834;">clearRepeat</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">array</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"></span></code></pre></div><h2 id="_12-函数内部-this-指向" tabindex="-1">12. 函数内部 this 指向 <a class="header-anchor" href="#_12-函数内部-this-指向" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">介绍</p><p>函数的<code>this</code>在调用绑定时，完全取决于函数的调用位置。谁调用函数就指向谁。</p><p>参考文章：<a href="https://juejin.cn/post/6844903746984476686#heading-0" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903746984476686#heading-0</a></p></div><h2 id="_13-new-操作符具体做了什么" tabindex="-1">13. new 操作符具体做了什么 <a class="header-anchor" href="#_13-new-操作符具体做了什么" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">介绍</p><ol><li>创建了一个空对象</li><li>将空对象的<code>__proto__</code> 指向于构造函数的<code>prototype</code>原型</li><li>将空对象作为构造函数的上下文（改变 this 指向）</li><li>对构造函数有返回值的处理判断（默认返回 this）</li></ol></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Foo</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;张三&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// return this // 默认</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// return 11; // 如果返回值是基础数据类型，则会忽略，返回 this</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// return {test: &#39;引用类型&#39;} // 如果返回值的是引用类型，则构造出来的对象就变成返回的引用数据</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">foo</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Foo</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">foo</span><span style="color:#858585;">);</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Foo</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">name</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;张三&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// return this // 默认</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// return 11; // 如果返回值是基础数据类型，则会忽略，返回 this</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// return {test: &#39;引用类型&#39;} // 如果返回值的是引用类型，则构造出来的对象就变成返回的引用数据</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">foo</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Foo</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">foo</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre></div><p>自定义实现：</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Fun</span><span style="color:#858585;">(</span><span style="color:#B8A965;">age</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">name</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">age</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">age</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">name</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">create</span><span style="color:#858585;">(</span><span style="color:#B8A965;">fn</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">...</span><span style="color:#B8A965;">args</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 1. 创建了一个空对象</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">obj</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{};</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 2. 将空对象的`__proto__` 指向于构造函数的`prototype`原型</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">Object</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setPrototypeOf</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">fn</span><span style="color:#858585;">.</span><span style="color:#429988;">prototype</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 3. 将空对象作为构造函数的上下文（改变 this 指向）</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">result</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">fn</span><span style="color:#858585;">.</span><span style="color:#A1B567;">apply</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">args</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 4. 对构造函数有返回值的处理判断（默认返回 this）</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">result</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">instanceof</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Object</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">result</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">obj</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#A1B567;">create</span><span style="color:#858585;">(</span><span style="color:#B8A965;">Fun</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">18</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;张三&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Fun</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">age</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">name</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">age</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">age</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">name</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">name</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">create</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">fn</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">...</span><span style="color:#8C862B;">args</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 1. 创建了一个空对象</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">obj</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{};</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 2. 将空对象的`__proto__` 指向于构造函数的`prototype`原型</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setPrototypeOf</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B58451;">fn</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">prototype</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 3. 将空对象作为构造函数的上下文（改变 this 指向）</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">result</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">fn</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">apply</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">args</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 4. 对构造函数有返回值的处理判断（默认返回 this）</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">result</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">instanceof</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Object</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">result</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#6C7834;">create</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">Fun</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">18</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;张三&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="_14-call、apply、bind-的区别" tabindex="-1">14. <code>call</code>、<code>apply</code>、<code>bind</code> 的区别 <a class="header-anchor" href="#_14-call、apply、bind-的区别" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">介绍</p><p>共同点：修改函数内部的 this 指向 区别：</p><ol><li>call、apply 会立即执行。bind 不会立即执行，因为 bind 返回的是一个函数</li><li>参数的传递：apply 第二个参数是数组. call、bind 有多少个参数就写多少个</li></ol></div><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">str</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;你好&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">obj</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">str</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;这是obj对象内部的str&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">fun</span><span style="color:#858585;">(</span><span style="color:#B8A965;">name</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">name</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">str</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// call 立即执行</span></span>
<span class="line"><span style="color:#B8A965;">fun</span><span style="color:#858585;">.</span><span style="color:#A1B567;">call</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;张三&quot;</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// { str: &quot;这是obj对象内部的str&quot;, name: &#39;张三&#39; } 这是obj对象内部的str</span></span>
<span class="line"><span style="color:#758575;">// apply 立即执行</span></span>
<span class="line"><span style="color:#B8A965;">fun</span><span style="color:#858585;">.</span><span style="color:#A1B567;">apply</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#DBD7CA;">，</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;张三&quot;</span><span style="color:#858585;">]);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// { str: &quot;这是obj对象内部的str&quot;, name: &#39;张三&#39; } 这是obj对象内部的str</span></span>
<span class="line"><span style="color:#758575;">// bind 不会立即执行，因为 bind 返回的是一个函数</span></span>
<span class="line"><span style="color:#B8A965;">fun</span><span style="color:#858585;">.</span><span style="color:#A1B567;">bind</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;张三&#39;</span><span style="color:#858585;">)();</span><span style="color:#DBD7CA;">  </span><span style="color:#758575;">// { str: &quot;这是obj对象内部的str&quot;, name: &#39;张三&#39; } 这是obj对象内部的str</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A1B567;">fun</span><span style="color:#858585;">();</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// window{} 你好</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">str</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;你好&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">obj</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">str</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;这是obj对象内部的str&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">fun</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">name</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">name</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">name</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">str</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// call 立即执行</span></span>
<span class="line"><span style="color:#8C862B;">fun</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">call</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;张三&quot;</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// { str: &quot;这是obj对象内部的str&quot;, name: &#39;张三&#39; } 这是obj对象内部的str</span></span>
<span class="line"><span style="color:#A0ADA0;">// apply 立即执行</span></span>
<span class="line"><span style="color:#8C862B;">fun</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">apply</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#393A34;">，</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;张三&quot;</span><span style="color:#8E8F8B;">]);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// { str: &quot;这是obj对象内部的str&quot;, name: &#39;张三&#39; } 这是obj对象内部的str</span></span>
<span class="line"><span style="color:#A0ADA0;">// bind 不会立即执行，因为 bind 返回的是一个函数</span></span>
<span class="line"><span style="color:#8C862B;">fun</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">bind</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;张三&#39;</span><span style="color:#8E8F8B;">)();</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">// { str: &quot;这是obj对象内部的str&quot;, name: &#39;张三&#39; } 这是obj对象内部的str</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">fun</span><span style="color:#8E8F8B;">();</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// window{} 你好</span></span>
<span class="line"></span></code></pre></div><h2 id="_15-深拷贝和浅拷贝" tabindex="-1">15. 深拷贝和浅拷贝 <a class="header-anchor" href="#_15-深拷贝和浅拷贝" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>浅拷贝是拷贝一层，深层次的对象级别的就拷贝引用；深拷贝是拷贝多层，每一级别的数据都会拷贝出来</p></div><h3 id="理解" tabindex="-1">理解 <a class="header-anchor" href="#理解" aria-hidden="true">#</a></h3><h4 id="基本类型-名-和-值存储在栈内存中" tabindex="-1">基本类型-&gt; (名 和 值存储在栈内存中) <a class="header-anchor" href="#基本类型-名-和-值存储在栈内存中" aria-hidden="true">#</a></h4><p>例如 let a = 1</p><p>栈内存</p><table><thead><tr><th style="text-align:center;">name</th><th style="text-align:center;">val</th></tr></thead><tbody><tr><td style="text-align:center;">a</td><td style="text-align:center;">1</td></tr></tbody></table><ul><li>当 b = a 赋值时， 栈内存会新开辟一块内存 用于存放 b</li></ul><table><thead><tr><th style="text-align:center;">name</th><th style="text-align:center;">val</th></tr></thead><tbody><tr><td style="text-align:center;">a</td><td style="text-align:center;">1</td></tr><tr><td style="text-align:center;">b</td><td style="text-align:center;">1</td></tr></tbody></table><p>所以当你此时修改 a=2，对 b 并不会造成影响，因为此时的 b 已自食其力，翅膀硬了，不受 a 的影响了。当然，let a=1,b=a;虽然 b 不受 a 影响，但这也算不上深拷贝。</p><p>因为深拷贝本身只针对较为复杂的 object 类型数据。</p><h4 id="引用数据类型" tabindex="-1">引用数据类型 <a class="header-anchor" href="#引用数据类型" aria-hidden="true">#</a></h4><ul><li>名存在栈内存中， 值也存在内存中。但是栈内存会提供一个引用地址指向推内存中的值</li></ul><p><img src="https://images2018.cnblogs.com/blog/1213309/201711/1213309-20171124133428359-1292133331.jpg" alt=""></p><ul><li>当 b = a 进行拷贝时， 其实复制的是 a 的引用地址，而并非堆里面的值</li></ul><p><img src="https://images2018.cnblogs.com/blog/1213309/201711/1213309-20171124133647796-1390255671.jpg" alt=""></p><ul><li>而当我们 a[0] = 1 是进行数据修改时，由于 a 与 b 指向的是同一个地址，所以自然 b 也受到影响了。 <strong>这就是 浅拷贝</strong></li></ul><p><img src="https://images2018.cnblogs.com/blog/1213309/201711/1213309-20171124133934328-67216865.jpg" alt=""></p><ul><li>如果，我们在堆内存中也开辟一个新的内存专门为 b 存放值， 就和基本类型那样。 就可以达到深拷贝的效果了</li></ul><p><img src="https://images2018.cnblogs.com/blog/1213309/201711/1213309-20171124140906203-2099568933.jpg" alt=""></p><h3 id="如何实现-深拷贝" tabindex="-1">如何实现 深拷贝 <a class="header-anchor" href="#如何实现-深拷贝" aria-hidden="true">#</a></h3><h4 id="json-stringify-结合-json-parse-实现深拷贝" tabindex="-1">JSON.stringify 结合 JSON.parse 实现深拷贝 <a class="header-anchor" href="#json-stringify-结合-json-parse-实现深拷贝" aria-hidden="true">#</a></h4><ul><li>JSON.stringify 把 JS 对象 转换为 字符串</li><li>JSON.parse 把 JSON 字符串 转换为 JS 对象</li></ul><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#D4976C;">JSON</span><span style="color:#858585;">.</span><span style="color:#E0A569;">parse</span><span style="color:#858585;">(</span><span style="color:#D4976C;">JSON</span><span style="color:#858585;">.</span><span style="color:#E0A569;">stringify</span><span style="color:#858585;">(</span><span style="color:#B8A965;">arr</span><span style="color:#858585;">));</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">arr</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"></span></code></pre></div><h4 id="简单的实现深拷贝" tabindex="-1">简单的实现深拷贝 <a class="header-anchor" href="#简单的实现深拷贝" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>深拷贝的原理就是： 基本类型 赋值的 原理。 在堆内存中也开辟一个新的内存专门为 b 存放值</p></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// 深拷贝</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">deepCopy</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">copy</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{};</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#E0A569;">Array</span><span style="color:#858585;">.</span><span style="color:#A1B567;">isArray</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">))</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">copy</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[];</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">key</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">obj</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">typeof</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">obj</span><span style="color:#858585;">[</span><span style="color:#B8A965;">key</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;object&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">copy</span><span style="color:#858585;">[</span><span style="color:#B8A965;">key</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">deepCopy</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">[</span><span style="color:#B8A965;">key</span><span style="color:#858585;">]);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">copy</span><span style="color:#858585;">[</span><span style="color:#B8A965;">key</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">obj</span><span style="color:#858585;">[</span><span style="color:#B8A965;">key</span><span style="color:#858585;">];</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">copy</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// 深拷贝</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">deepCopy</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">copy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{};</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Array</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">isArray</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">))</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">copy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[];</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">in</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;object&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">copy</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">deepCopy</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">]);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">copy</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">];</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">copy</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_16-var、const、let-的区别" tabindex="-1">16. <code>var、const、let</code> 的区别 <a class="header-anchor" href="#_16-var、const、let-的区别" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li><p>使用 <code>var</code> 声明的变量存在变量提升的机制，<code>const、let</code> 则不存在这个机制了</p></li><li><p><code>const</code> 声明的变量不可以被再次赋值</p></li><li><p>ES5 之前没有块级作用域的概念、ES6 之后 <code>const、let</code> 声明的变量有块级作用域了</p></li></ol></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-5937c1a3 data-v-0ca881f5><div class="edit-info" data-v-0ca881f5><div class="edit-link" data-v-0ca881f5><a class="VPLink link edit-link-button" href="https://github.com/flingyp/vitepress-basic-docs/tree/main/frontend/JavaScript/RandomRecord.md" target="_blank" rel="noreferrer" data-v-0ca881f5 data-v-34a71698><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-0ca881f5><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><!----></div><div class="prev-next" data-v-0ca881f5><div class="pager" data-v-0ca881f5><a class="pager-link prev" href="/frontend/JavaScript/Skill.html" data-v-0ca881f5><span class="desc" data-v-0ca881f5>Previous page</span><span class="title" data-v-0ca881f5>JavaScript常用技巧</span></a></div><div class="has-prev pager" data-v-0ca881f5><a class="pager-link next" href="/frontend/Vue/Vue2.html" data-v-0ca881f5><span class="desc" data-v-0ca881f5>Next page</span><span class="title" data-v-0ca881f5>Vue2相关语法</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-0d8242cd data-v-31028a0d><div class="container" data-v-31028a0d><p class="message" data-v-31028a0d>Released under the MIT License.</p><p class="copyright" data-v-31028a0d>Copyright © 2022-present FlingYP</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"changelog.md\":\"2c98fa36\",\"readme.md\":\"6a15d5f0\",\"sites.md\":\"ac68ac4e\",\"frontend_css3_flex.md\":\"5c678c44\",\"frontend_css3_grid.md\":\"9c27c002\",\"frontend_css3_layout.md\":\"217e5af5\",\"frontend_css3_randomrecord.md\":\"3728a5b7\",\"frontend_css3_skill.md\":\"ffcc858b\",\"frontend_engineering_codestandard.md\":\"8719a64f\",\"frontend_html5_index.md\":\"3a9c7341\",\"frontend_html5_randomrecord.md\":\"995ea867\",\"frontend_javascript_es6.md\":\"25f17e0f\",\"frontend_javascript_randomrecord.md\":\"d4e6a978\",\"frontend_javascript_skill.md\":\"2a5de74c\",\"frontend_react_nextjs.md\":\"3e397f0e\",\"frontend_react_react.md\":\"90c049dc\",\"frontend_react_reacthooks.md\":\"207cdc13\",\"frontend_react_reactredux.md\":\"169860c3\",\"frontend_react_reactrouter.md\":\"76ccc3f5\",\"frontend_react_redux.md\":\"83ace83e\",\"frontend_typesscript_index.md\":\"22d249e2\",\"frontend_vue_vue2.md\":\"34e6f3e5\",\"frontend_vue_vue3.md\":\"8f900f3d\",\"frontend_vue_vue3tsx.md\":\"004dd2ce\",\"index.md\":\"d49503e8\",\"notes_git常用命令.md\":\"cea6c3a6\",\"notes_linux基本命令.md\":\"5a42b162\",\"notes_nginx基本使用.md\":\"50fda12e\",\"notes_regexp介绍与使用.md\":\"1403c09f\",\"notes_力扣题记录.md\":\"c32095fe\",\"notes_小程序开发记录.md\":\"8ce205aa\"}")</script>
    <script type="module" async src="/assets/app.8775426f.js"></script>
    
  </body>
</html>