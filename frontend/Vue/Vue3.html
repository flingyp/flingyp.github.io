<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用响应式 API 介绍 | Growth Record</title>
    <meta name="description" content="个人博客">
    <link rel="stylesheet" href="/assets/style.ec2d7dd6.css">
    <link rel="modulepreload" href="/assets/app.8a9f2866.js">
    <link rel="modulepreload" href="/assets/frontend_Vue_Vue3.md.010c1742.lean.js">
    
    <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b7788134><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5bad87e6></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5bad87e6> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b7788134 data-v-0f827909><div class="VPNavBar has-sidebar" data-v-0f827909 data-v-10058498><div class="container" data-v-10058498><div class="VPNavBarTitle has-sidebar" data-v-10058498 data-v-477b2930><a class="title" href="/" data-v-477b2930><!--[--><img class="VPImage logo" src="/docs-logo.png" data-v-0e8d41ab><!--]--><!--[-->Growth Record<!--]--></a></div><div class="content" data-v-10058498><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-10058498 data-v-1afc9dec><span id="main-nav-aria-label" class="visually-hidden" data-v-1afc9dec>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0635fb1f><span class="text" data-v-0635fb1f><!----> 前端宝藏库 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-0635fb1f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><div class="items" data-v-e3d492a8><!--[--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/frontend/HTML5/RandomRecord.html" data-v-44c3a200 data-v-48abdd18><!--[-->HTML5<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/frontend/CSS3/Layout.html" data-v-44c3a200 data-v-48abdd18><!--[-->CSS3<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/frontend/JavaScript/ES6.html" data-v-44c3a200 data-v-48abdd18><!--[-->JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/frontend/TypeScript/" data-v-44c3a200 data-v-48abdd18><!--[-->TypeScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link active" href="/frontend/Vue/Vue3.html" data-v-44c3a200 data-v-48abdd18><!--[-->Vue<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/frontend/React/React.html" data-v-44c3a200 data-v-48abdd18><!--[-->React<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0635fb1f><span class="text" data-v-0635fb1f><!----> 前端工程化 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-0635fb1f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><div class="items" data-v-e3d492a8><!--[--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/frontend/Engineering/CodeStandard.html" data-v-44c3a200 data-v-48abdd18><!--[-->代码规范化<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0635fb1f><span class="text" data-v-0635fb1f><!----> 相关链接 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-0635fb1f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><div class="items" data-v-e3d492a8><!--[--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="https://vadmire.top" target="_blank" rel="noopener noreferrer" data-v-44c3a200 data-v-48abdd18><!--[-->VAdmire Plus<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-48abdd18><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="https://yyblog.top/flypeng-tool" target="_blank" rel="noopener noreferrer" data-v-44c3a200 data-v-48abdd18><!--[-->@flypeng/tool<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-48abdd18><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Sites.html" data-v-1afc9dec data-v-1d8250a9 data-v-48abdd18><!--[-->宝藏网站<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0635fb1f><span class="text" data-v-0635fb1f><!----> 随机文章 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-0635fb1f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><div class="items" data-v-e3d492a8><!--[--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/notes/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-44c3a200 data-v-48abdd18><!--[-->Git常用命令it常用命令.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/notes/Linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4.html" data-v-44c3a200 data-v-48abdd18><!--[-->Linux基本命令inux基本命令.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/notes/Nginx%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html" data-v-44c3a200 data-v-48abdd18><!--[-->Nginx基本使用ginx基本使用.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/notes/RegExp%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8.html" data-v-44c3a200 data-v-48abdd18><!--[-->RegExp介绍与使用egExp介绍与使用.md<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e3d492a8 data-v-44c3a200><a class="VPLink link" href="/notes/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95.html" data-v-44c3a200 data-v-48abdd18><!--[-->小程序开发记录程序开发记录.md<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-10058498 data-v-0b2f3bac><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0b2f3bac data-v-741b6450 data-v-ab2de182><span class="check" data-v-ab2de182><span class="icon" data-v-ab2de182><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-741b6450><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-741b6450><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-10058498 data-v-5c5de4da data-v-7dcd7d60><!--[--><a class="VPSocialLink" href="https://github.com/flingyp" title="github" target="_blank" rel="noopener noreferrer" data-v-7dcd7d60 data-v-610fed1a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-610fed1a><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-610fed1a>github</span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-10058498 data-v-5fe59986 data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0635fb1f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-0635fb1f><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><!----><!--[--><!--[--><!----><div class="group" data-v-5fe59986><div class="item appearance" data-v-5fe59986><p class="label" data-v-5fe59986>Appearance</p><div class="appearance-action" data-v-5fe59986><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-5fe59986 data-v-741b6450 data-v-ab2de182><span class="check" data-v-ab2de182><span class="icon" data-v-ab2de182><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-741b6450><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-741b6450><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-5fe59986><div class="item social-links" data-v-5fe59986><div class="VPSocialLinks social-links-list" data-v-5fe59986 data-v-7dcd7d60><!--[--><a class="VPSocialLink" href="https://github.com/flingyp" title="github" target="_blank" rel="noopener noreferrer" data-v-7dcd7d60 data-v-610fed1a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-610fed1a><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-610fed1a>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-10058498 data-v-2ead6e10><span class="container" data-v-2ead6e10><span class="top" data-v-2ead6e10></span><span class="middle" data-v-2ead6e10></span><span class="bottom" data-v-2ead6e10></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-b7788134 data-v-395172d0><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-395172d0><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-395172d0><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-395172d0>Menu</span></button><a class="top-link" href="#" data-v-395172d0> Return to top </a></div><aside class="VPSidebar" data-v-b7788134 data-v-edcb5950><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-edcb5950><span class="visually-hidden" id="sidebar-aria-label" data-v-edcb5950> Sidebar Navigation </span><!--[--><div class="group" data-v-edcb5950><section class="VPSidebarGroup collapsible" data-v-edcb5950 data-v-25699cea><div class="title" role="button" data-v-25699cea><h2 class="title-text" data-v-25699cea>HTML</h2><div class="action" data-v-25699cea><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-25699cea><!--[--><a class="VPLink link" href="/frontend/HTML5/RandomRecord.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>杂记</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-edcb5950><section class="VPSidebarGroup collapsible" data-v-edcb5950 data-v-25699cea><div class="title" role="button" data-v-25699cea><h2 class="title-text" data-v-25699cea>CSS3</h2><div class="action" data-v-25699cea><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-25699cea><!--[--><a class="VPLink link" href="/frontend/CSS3/Layout.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>布局</span><!--]--><!----></a><a class="VPLink link" href="/frontend/CSS3/Flex.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>Flex布局</span><!--]--><!----></a><a class="VPLink link" href="/frontend/CSS3/Grid.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>Grid网格布局</span><!--]--><!----></a><a class="VPLink link" href="/frontend/CSS3/Skill.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>CSS常用技巧</span><!--]--><!----></a><a class="VPLink link" href="/frontend/CSS3/RandomRecord.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>杂记</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-edcb5950><section class="VPSidebarGroup collapsible" data-v-edcb5950 data-v-25699cea><div class="title" role="button" data-v-25699cea><h2 class="title-text" data-v-25699cea>JavaScript</h2><div class="action" data-v-25699cea><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-25699cea><!--[--><a class="VPLink link" href="/frontend/JavaScript/ES6.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>ES6语法</span><!--]--><!----></a><a class="VPLink link" href="/frontend/JavaScript/Skill.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>JavaScript常用技巧</span><!--]--><!----></a><a class="VPLink link" href="/frontend/JavaScript/RandomRecord.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>杂记</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-edcb5950><section class="VPSidebarGroup collapsible" data-v-edcb5950 data-v-25699cea><div class="title" role="button" data-v-25699cea><h2 class="title-text" data-v-25699cea>Vue</h2><div class="action" data-v-25699cea><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-25699cea><!--[--><a class="VPLink link" href="/frontend/Vue/Vue2.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>Vue2相关语法</span><!--]--><!----></a><a class="VPLink link active" href="/frontend/Vue/Vue3.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>Vue3相关语法</span><!--]--><!----></a><a class="VPLink link" href="/frontend/Vue/Vue3Tsx.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>Vue3+TSX语法写法总结</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-edcb5950><section class="VPSidebarGroup collapsible" data-v-edcb5950 data-v-25699cea><div class="title" role="button" data-v-25699cea><h2 class="title-text" data-v-25699cea>React</h2><div class="action" data-v-25699cea><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-25699cea><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-25699cea><!--[--><a class="VPLink link" href="/frontend/React/React.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>React</span><!--]--><!----></a><a class="VPLink link" href="/frontend/React/ReactRouter.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>ReactRouter</span><!--]--><!----></a><a class="VPLink link" href="/frontend/React/Redux.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>Redux</span><!--]--><!----></a><a class="VPLink link" href="/frontend/React/ReactRedux.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>ReactRedux</span><!--]--><!----></a><a class="VPLink link" href="/frontend/React/ReactHooks.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>ReactHooks</span><!--]--><!----></a><a class="VPLink link" href="/frontend/React/NextJS.html" data-v-25699cea data-v-7bd8aee4 data-v-48abdd18><!--[--><span class="link-text" data-v-7bd8aee4>NextJS</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b7788134 data-v-09411f0c><div class="VPDoc has-sidebar" data-v-09411f0c data-v-5200d57a><div class="container" data-v-5200d57a><div class="aside" data-v-5200d57a><div class="aside-curtain" data-v-5200d57a></div><div class="aside-container" data-v-5200d57a><div class="aside-content" data-v-5200d57a><div class="VPDocAside" data-v-5200d57a data-v-ab3cfea0><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-ab3cfea0 data-v-0adf76b1><div class="content" data-v-0adf76b1><div class="outline-marker" data-v-0adf76b1></div><div class="outline-title" data-v-0adf76b1>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-0adf76b1><span class="visually-hidden" id="doc-outline-aria-label" data-v-0adf76b1> Table of Contents for current page </span><ul class="root" data-v-0adf76b1><!--[--><li style="" data-v-0adf76b1><a class="outline-link" href="#常用响应式-api-介绍" data-v-0adf76b1>常用响应式 API 介绍</a><!----></li><li style="" data-v-0adf76b1><a class="outline-link" href="#组件通信-defineprops-和-defineemits" data-v-0adf76b1>组件通信-defineProps 和 defineEmits</a><!----></li><li style="" data-v-0adf76b1><a class="outline-link" href="#自定义指令的使用" data-v-0adf76b1>自定义指令的使用</a><!----></li><li style="" data-v-0adf76b1><a class="outline-link" href="#插槽的使用" data-v-0adf76b1>插槽的使用</a><!----></li><li style="" data-v-0adf76b1><a class="outline-link" href="#provide-和-inject" data-v-0adf76b1>Provide 和 Inject</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-ab3cfea0></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-5200d57a><div class="content-container" data-v-5200d57a><!--[--><!--]--><main class="main" data-v-5200d57a><div style="position:relative;" class="vp-doc _frontend_Vue_Vue3" data-v-5200d57a><div><h2 id="常用响应式-api-介绍" tabindex="-1">常用响应式 API 介绍 <a class="header-anchor" href="#常用响应式-api-介绍" aria-hidden="true">#</a></h2><h3 id="ref" tabindex="-1">ref <a class="header-anchor" href="#ref" aria-hidden="true">#</a></h3><p>通常使用 ref 方法来声明一个<strong>基本数据类型</strong>的<strong>响应式变量</strong></p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">div</span><span style="color:#858585;">&gt;</span><span style="color:#B8A965;">ref变量</span><span style="color:#DBD7CA;">：</span><span style="color:#858585;">{{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">count</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;ts&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">count</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">number</span><span style="color:#858585;">&gt;(</span><span style="color:#6394BF;">5</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 类型是：Ref&lt;number&gt;</span></span>
<span class="line"><span style="color:#758575;">// 在script当中访问值的方式：</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">div</span><span style="color:#8E8F8B;">&gt;</span><span style="color:#8C862B;">ref变量</span><span style="color:#393A34;">：</span><span style="color:#8E8F8B;">{{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">count</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;ts&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">count</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">&gt;(</span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 类型是：Ref&lt;number&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">// 在script当中访问值的方式：</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="isref" tabindex="-1">isRef <a class="header-anchor" href="#isref" aria-hidden="true">#</a></h3><p>检查参数是否是 Ref 类型的，返回 boolean 值</p><h3 id="unref" tabindex="-1">unref <a class="header-anchor" href="#unref" aria-hidden="true">#</a></h3><p>如果参数是一个 Ref 类型的，则返回内部值即 <code>xx.value</code> 否则返回参数本身。 实际就是 <code>isRef(val) ? val.value : val</code> 这样的判断而已。</p><h3 id="toref" tabindex="-1">toRef <a class="header-anchor" href="#toref" aria-hidden="true">#</a></h3><p>可以为一个源响应式对象的某个属性去创建一个 ref 并且会保持源响应式对象上的属性 和 ref 的响应式连接。</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reactive</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">toRef</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">state</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">reactive</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">foo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;我是reactive&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">toRefText</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">toRef</span><span style="color:#858585;">(</span><span style="color:#B8A965;">state</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;text&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Old-Text&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">toRefText</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 我是reactive</span></span>
<span class="line"><span style="color:#B8A965;">state</span><span style="color:#858585;">.</span><span style="color:#B8A965;">text</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;我是reactive-ToRef&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;New-Text&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">toRefText</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// 我是reactive-ToRef</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reactive</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">toRef</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">state</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">reactive</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">foo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;我是reactive&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">toRefText</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">toRef</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">state</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;text&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Old-Text&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">toRefText</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 我是reactive</span></span>
<span class="line"><span style="color:#8C862B;">state</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">text</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;我是reactive-ToRef&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;New-Text&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">toRefText</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 我是reactive-ToRef</span></span>
<span class="line"></span></code></pre></div><h3 id="torefs" tabindex="-1">toRefs <a class="header-anchor" href="#torefs" aria-hidden="true">#</a></h3><p>将响应式对象解构为一个个 Ref 类型的响应式变量</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reactive</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">toRefs</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">state</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">reactive</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">foo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;我是reactive&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">foo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">text</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">toRefs</span><span style="color:#858585;">(</span><span style="color:#B8A965;">state</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#758575;">// foo： Ref&lt;number&gt;</span></span>
<span class="line"><span style="color:#758575;">// text：Ref&lt;string&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reactive</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">toRefs</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">state</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">reactive</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">foo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;我是reactive&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">foo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">text</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">toRefs</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">state</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">// foo： Ref&lt;number&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">// text：Ref&lt;string&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="reactive" tabindex="-1">reactive <a class="header-anchor" href="#reactive" aria-hidden="true">#</a></h3><p>创建一个响应式对象副本</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reactive</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">interface</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">IState</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">foo</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">number</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">text</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">string</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">state</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">reactive</span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">IState</span><span style="color:#858585;">&gt;({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">foo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;我是reactive&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reactive</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">interface</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">IState</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">foo</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">text</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">string</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">state</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">reactive</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">IState</span><span style="color:#8E8F8B;">&gt;({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">foo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;我是reactive&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><h3 id="readonly" tabindex="-1">readonly <a class="header-anchor" href="#readonly" aria-hidden="true">#</a></h3><p>接受一个响应式对象、普通对象或 Ref 并且返回其只读代理</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reactive</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">readonly</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">interface</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">IState</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">foo</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">number</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">text</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">string</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">state</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">reactive</span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">IState</span><span style="color:#858585;">&gt;({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">foo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;我是reactive&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">copy</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">readonly</span><span style="color:#858585;">(</span><span style="color:#B8A965;">state</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#758575;">/**</span></span>
<span class="line"><span style="color:#758575;"> * copy：{ readonly foo: number; readonly text: string;}</span></span>
<span class="line"><span style="color:#758575;"> */</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reactive</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">readonly</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">interface</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">IState</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">foo</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">text</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">string</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">state</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">reactive</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">IState</span><span style="color:#8E8F8B;">&gt;({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">foo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;我是reactive&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">copy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">readonly</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">state</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;"> * copy：{ readonly foo: number; readonly text: string;}</span></span>
<span class="line"><span style="color:#A0ADA0;"> */</span></span>
<span class="line"></span></code></pre></div><h3 id="computed" tabindex="-1">computed <a class="header-anchor" href="#computed" aria-hidden="true">#</a></h3><p><strong>第一种：</strong> 接收一个 getter 函数，并且根据函数的返回值返回一个不可变的响应式 ref 对象</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">computed</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">count</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">number</span><span style="color:#858585;">&gt;(</span><span style="color:#6394BF;">5</span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">computedCount1</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">computed</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">10</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">computed</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">count</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">&gt;(</span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">computedCount1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">computed</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><p><strong>第二种：</strong> 接收一个具有<strong>get</strong> 和<strong>set</strong>函数的对象，用来创建可写的 ref 对象</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">computed</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">count</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">number</span><span style="color:#858585;">&gt;(</span><span style="color:#6394BF;">5</span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">computedCount2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">computed</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">number</span><span style="color:#858585;">&gt;({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">get</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">set</span><span style="color:#858585;">(</span><span style="color:#B8A965;">val</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;value&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">val</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">val</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#758575;">// 我们给计算属性computedCount2赋值时会执行set函数，访问使用computedCount2时会执行get函数</span></span>
<span class="line"><span style="color:#B8A965;">computedCount2</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">computed</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">count</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">&gt;(</span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">computedCount2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">computed</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">&gt;({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">get</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">set</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">val</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;value&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">val</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">val</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// 我们给计算属性computedCount2赋值时会执行set函数，访问使用computedCount2时会执行get函数</span></span>
<span class="line"><span style="color:#8C862B;">computedCount2</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="watcheffect" tabindex="-1">watchEffect <a class="header-anchor" href="#watcheffect" aria-hidden="true">#</a></h3><p>立即执行传入的函数，同时响应式的追踪函数内部其依赖，并在依赖发生变化时重新运行该函数。作用类似与监听器 watch，不在过多介绍其写法了。</p><p><strong>停止监听</strong>：watchEffect 在组件的 setup 或生命周期当中被使用，在组件卸载时会自动停止。当然我们也可以手动停止监听，直接调用返回值来停止监听。</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">stopEffect</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">watchEffect</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 相关代码</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 停止监听</span></span>
<span class="line"><span style="color:#A1B567;">stopEffect</span><span style="color:#858585;">();</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">stopEffect</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">watchEffect</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 相关代码</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 停止监听</span></span>
<span class="line"><span style="color:#6C7834;">stopEffect</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span></code></pre></div><p>注：3.2 版本还新增了两个<code>watchPostEffect</code>和<code>watchSyncEffect</code>，但只是参数上的不同。具体使用细节还是得看文档呀~</p><h3 id="watch" tabindex="-1">watch <a class="header-anchor" href="#watch" aria-hidden="true">#</a></h3><p>watch 是惰性的-即回调只在监听源发生变化才会执行。说明监听源在初始赋值时是不会去执行的。</p><p><strong>监听单源</strong></p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">count</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">number</span><span style="color:#858585;">&gt;(</span><span style="color:#6394BF;">5</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">changeCountValue</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#A1B567;">watch</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">count</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">(</span><span style="color:#B8A965;">newVal</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">oldVal</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;newVal&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">newVal</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;oldVal:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">oldVal</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">);</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">count</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">&gt;(</span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">changeCountValue</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#6C7834;">watch</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">count</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">newVal</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">oldVal</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;newVal&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">newVal</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;oldVal:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">oldVal</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre></div><p><strong>监听多源</strong></p><p>第一个参数可以传入一个数组来同时监听对个源</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">watch</span><span style="color:#858585;">([</span><span style="color:#B8A965;">foo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">bar</span><span style="color:#858585;">],</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">([</span><span style="color:#B8A965;">newFoo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">newBar</span><span style="color:#858585;">],</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#B8A965;">oldFoo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">oldBar</span><span style="color:#858585;">])</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#758575;">/* ... */</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">watch</span><span style="color:#8E8F8B;">([</span><span style="color:#8C862B;">foo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">bar</span><span style="color:#8E8F8B;">],</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">([</span><span style="color:#8C862B;">newFoo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">newBar</span><span style="color:#8E8F8B;">],</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">oldFoo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">oldBar</span><span style="color:#8E8F8B;">])</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">/* ... */</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><h2 id="组件通信-defineprops-和-defineemits" tabindex="-1">组件通信-defineProps 和 defineEmits <a class="header-anchor" href="#组件通信-defineprops-和-defineemits" aria-hidden="true">#</a></h2><p>Vue 给我们提供了 defineProps 和 defineEmits 两个途径去定义 props 和 emits。它们只在 setup 中才能使用的<strong>编译器宏</strong>，不需要我们导入可以直接写。</p><h3 id="父组件向子组件传值-props" tabindex="-1">父组件向子组件传值 Props <a class="header-anchor" href="#父组件向子组件传值-props" aria-hidden="true">#</a></h3><p>子组件定义 Props 的方法，withDefaults 则是写 Props 的默认值</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">div</span><span style="color:#858585;">&gt;{</span><span style="color:#DBD7CA;">{ </span><span style="color:#B8A965;">text</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">div</span><span style="color:#858585;">&gt;{</span><span style="color:#DBD7CA;">{ </span><span style="color:#B8A965;">totalValue</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&#39;ts&#39;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">interface</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">IPropPrams</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">text</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">string</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">totalValue</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">number</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#758575;">/**</span></span>
<span class="line"><span style="color:#758575;"> * 提供的默认值</span></span>
<span class="line"><span style="color:#758575;"> */</span></span>
<span class="line"><span style="color:#A1B567;">withDefaults</span><span style="color:#858585;">(</span><span style="color:#A1B567;">defineProps</span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">IPropPrams</span><span style="color:#858585;">&gt;(),</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">totalValue</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span></span>
<span class="line"><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">div</span><span style="color:#8E8F8B;">&gt;{</span><span style="color:#393A34;">{ </span><span style="color:#8C862B;">text</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">div</span><span style="color:#8E8F8B;">&gt;{</span><span style="color:#393A34;">{ </span><span style="color:#8C862B;">totalValue</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&#39;ts&#39;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">interface</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">IPropPrams</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">text</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">string</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">totalValue</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">number</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;"> * 提供的默认值</span></span>
<span class="line"><span style="color:#A0ADA0;"> */</span></span>
<span class="line"><span style="color:#6C7834;">withDefaults</span><span style="color:#8E8F8B;">(</span><span style="color:#6C7834;">defineProps</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">IPropPrams</span><span style="color:#8E8F8B;">&gt;(),</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">totalValue</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span></span>
<span class="line"><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="子组件向父组件传值或触发父组件时间-emits" tabindex="-1">子组件向父组件传值或触发父组件时间 Emits <a class="header-anchor" href="#子组件向父组件传值或触发父组件时间-emits" aria-hidden="true">#</a></h3><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">div</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">@</span><span style="color:#B8A965;">click</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;triggerEmit&quot;</span><span style="color:#CB7676;">&gt;</span><span style="color:#B8A965;">点击触发emits</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&#39;ts&#39;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">interface</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">IEmitFun</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">(</span><span style="color:#B8A965;">e</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;update:change&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">id</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">number</span><span style="color:#858585;">)</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">void</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">emits</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">defineEmits</span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">IEmitFun</span><span style="color:#858585;">&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">triggerEmit</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">emits</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;update:change&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">div</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">@</span><span style="color:#8C862B;">click</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;triggerEmit&quot;</span><span style="color:#AB5959;">&gt;</span><span style="color:#8C862B;">点击触发emits</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&#39;ts&#39;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">interface</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">IEmitFun</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">e</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;update:change&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">id</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">)</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">void</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">emits</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">defineEmits</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">IEmitFun</span><span style="color:#8E8F8B;">&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">triggerEmit</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">emits</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;update:change&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="获取某组件实例-defineexpose" tabindex="-1">获取某组件实例-defineExpose <a class="header-anchor" href="#获取某组件实例-defineexpose" aria-hidden="true">#</a></h3><p>在使用 setup 语法糖时，组件是默认关闭，无法访问到组件的公开实例的。需要使用 defineExpose 在组件中定义需要被暴露出去的值或方法。</p><p>子组件暴露可访问的值或方法：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&#39;ts&#39;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;vue&#39;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">exposeValue</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">(</span><span style="color:#6394BF;">20</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">exposeFun</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">data</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">number</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;defineProp&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">data</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A1B567;">defineExpose</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">val</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">exposeValue</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">fun</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">exposeFun</span></span>
<span class="line"><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&#39;ts&#39;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;vue&#39;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">exposeValue</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">20</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">exposeFun</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">data</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;defineProp&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">defineExpose</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">val</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">exposeValue</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">fun</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">exposeFun</span></span>
<span class="line"><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>父组件使用子组件暴露的值或方法</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">ChildCom</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">ref</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;comp&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&gt;</span><span style="color:#858585;">&lt;</span><span style="color:#DBD7CA;">/</span><span style="color:#A1B567;">ChildCom</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;ts&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">onMounted</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">comp</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">any</span><span style="color:#858585;">&gt;(</span><span style="color:#D4976C;">null</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A1B567;">onMounted</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">comp</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">.</span><span style="color:#A1B567;">fun</span><span style="color:#858585;">(</span><span style="color:#B8A965;">comp</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">.</span><span style="color:#B8A965;">val</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">ChildCom</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">ref</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;comp&quot;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&gt;</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#393A34;">/</span><span style="color:#6C7834;">ChildCom</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;ts&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">onMounted</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">comp</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">any</span><span style="color:#8E8F8B;">&gt;(</span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">onMounted</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">comp</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">fun</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">comp</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">val</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>注意：setup 的代码会在每次组件被创建时执行，还无法获取到子组件实例。需要在 mounted 时调用</p><h2 id="自定义指令的使用" tabindex="-1">自定义指令的使用 <a class="header-anchor" href="#自定义指令的使用" aria-hidden="true">#</a></h2><p>自定义指令在进行 DOM 节点操作时显得格外的重要</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// 注册</span></span>
<span class="line"><span style="color:#B8A965;">app</span><span style="color:#858585;">.</span><span style="color:#A1B567;">directive</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;my-directive&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 指令具有一组生命周期钩子：</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在绑定元素的 attribute 或事件监听器被应用之前调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">created</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在绑定元素的父组件挂载之前调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">beforeMount</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在绑定元素的父组件挂载之后调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">mounted</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在包含组件的 VNode 更新之前调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">beforeUpdate</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在包含组件的 VNode 及其子组件的 VNode 更新之后调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">updated</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在绑定元素的父组件卸载之前调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">beforeUnmount</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 在绑定元素的父组件卸载之后调用</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">unmounted</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// 注册</span></span>
<span class="line"><span style="color:#8C862B;">app</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">directive</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;my-directive&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 指令具有一组生命周期钩子：</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在绑定元素的 attribute 或事件监听器被应用之前调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">created</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在绑定元素的父组件挂载之前调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">beforeMount</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在绑定元素的父组件挂载之后调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">mounted</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在包含组件的 VNode 更新之前调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">beforeUpdate</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在包含组件的 VNode 及其子组件的 VNode 更新之后调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">updated</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在绑定元素的父组件卸载之前调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">beforeUnmount</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 在绑定元素的父组件卸载之后调用</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">unmounted</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><p>下面有个 copy 文本到剪贴板的例子：</p><ul><li><p>代码来源：<a href="https://juejin.cn/post/6968996649515515917#heading-1" target="_blank" rel="noopener noreferrer"># Vue3 自定义指令-10 个常见的实用指令，带详细讲解，快拿去收藏！！！</a></p></li><li><p>关于参数：<strong>el、binding</strong> 参考官方文档的解释，挺多的</p></li></ul><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">app</span><span style="color:#858585;">.</span><span style="color:#A1B567;">directive</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;copy&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">beforeMount</span><span style="color:#858585;">(</span><span style="color:#B8A965;">el</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">HTMLButtonElement</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">binding</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#B8A965;">textContent</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">binding</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">copySuccess</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">any</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">binding</span><span style="color:#858585;">.</span><span style="color:#B8A965;">arg</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#A1B567;">addEventListener</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;click&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#B8A965;">textContent</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;没有需要复制的内容&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 创建textarea标签</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">textarea</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">document</span><span style="color:#858585;">.</span><span style="color:#A1B567;">createElement</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;textarea&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 设置标签的相关属性</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">//   textarea.style.position = &quot;fixed&quot;;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">textarea</span><span style="color:#858585;">.</span><span style="color:#B8A965;">style</span><span style="color:#858585;">.</span><span style="color:#B8A965;">top</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;-999999px&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 将目标内容复制个textarea标签</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">textarea</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#B8A965;">textContent</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 插入到页面中</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">document</span><span style="color:#858585;">.</span><span style="color:#B8A965;">body</span><span style="color:#858585;">.</span><span style="color:#A1B567;">appendChild</span><span style="color:#858585;">(</span><span style="color:#B8A965;">textarea</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 调用onselect方法a</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">textarea</span><span style="color:#858585;">.</span><span style="color:#A1B567;">select</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 把目标内容复制进剪贴板, 该API会返回一个Boolean</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">res</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">document</span><span style="color:#858585;">.</span><span style="color:#A1B567;">execCommand</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Copy&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">res</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&amp;&amp;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">copySuccess</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">copySuccess</span><span style="color:#858585;">(</span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#B8A965;">textContent</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;复制成功，剪贴板内容：&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#B8A965;">textContent</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// 移除textarea标签</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">document</span><span style="color:#858585;">.</span><span style="color:#B8A965;">body</span><span style="color:#858585;">.</span><span style="color:#A1B567;">removeChild</span><span style="color:#858585;">(</span><span style="color:#B8A965;">textarea</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">updated</span><span style="color:#858585;">(</span><span style="color:#B8A965;">el</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">binding</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// 实时更新最新的目标内容</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#B8A965;">textContent</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">binding</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">unmounted</span><span style="color:#858585;">(</span><span style="color:#B8A965;">el</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">el</span><span style="color:#858585;">.</span><span style="color:#A1B567;">removeEventListener</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;click&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{});</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">app</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">directive</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;copy&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">beforeMount</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">el</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">HTMLButtonElement</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">binding</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">textContent</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">binding</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">copySuccess</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">any</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">binding</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">arg</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">addEventListener</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;click&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">textContent</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;没有需要复制的内容&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 创建textarea标签</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">textarea</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">document</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">createElement</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;textarea&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 设置标签的相关属性</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">//   textarea.style.position = &quot;fixed&quot;;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">textarea</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">style</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">top</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;-999999px&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 将目标内容复制个textarea标签</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">textarea</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">textContent</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 插入到页面中</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">document</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">body</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">appendChild</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">textarea</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 调用onselect方法a</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">textarea</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">select</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 把目标内容复制进剪贴板, 该API会返回一个Boolean</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">res</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">document</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">execCommand</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Copy&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">res</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">copySuccess</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">copySuccess</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">textContent</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;复制成功，剪贴板内容：&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">textContent</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// 移除textarea标签</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">document</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">body</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">removeChild</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">textarea</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">updated</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">binding</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// 实时更新最新的目标内容</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">textContent</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">binding</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">unmounted</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">el</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">removeEventListener</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;click&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{});</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><p>使用方式：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">button</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">v</span><span style="color:#CB7676;">-</span><span style="color:#A1B567;">copy</span><span style="color:#858585;">:[</span><span style="color:#B8A965;">copySuccess</span><span style="color:#858585;">]</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;&#39;点击复制&#39;&quot;</span><span style="color:#CB7676;">&gt;</span><span style="color:#B8A965;">点击复制</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">button</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;ts&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">copySuccess</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">value</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">string</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;copy的值为：&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">value</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">button</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">v</span><span style="color:#AB5959;">-</span><span style="color:#6C7834;">copy</span><span style="color:#8E8F8B;">:[</span><span style="color:#8C862B;">copySuccess</span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;&#39;点击复制&#39;&quot;</span><span style="color:#AB5959;">&gt;</span><span style="color:#8C862B;">点击复制</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">button</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;ts&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">copySuccess</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">value</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">string</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;copy的值为：&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="插槽的使用" tabindex="-1">插槽的使用 <a class="header-anchor" href="#插槽的使用" aria-hidden="true">#</a></h2><h3 id="匿名插槽" tabindex="-1">匿名插槽 <a class="header-anchor" href="#匿名插槽" aria-hidden="true">#</a></h3><p>子组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">div</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">slot</span><span style="color:#858585;">&gt;</span><span style="color:#B8A965;">默认内容</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">slot</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">div</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">slot</span><span style="color:#8E8F8B;">&gt;</span><span style="color:#8C862B;">默认内容</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">slot</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>父组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">SlotUse</span><span style="color:#858585;">&gt;</span><span style="color:#B8A965;">匿名插槽</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">SlotUse</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">SlotUse</span><span style="color:#8E8F8B;">&gt;</span><span style="color:#8C862B;">匿名插槽</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">SlotUse</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="匿名插槽-1" tabindex="-1">匿名插槽 <a class="header-anchor" href="#匿名插槽-1" aria-hidden="true">#</a></h3><ul><li>写法：<code>v-slot:name</code>， 简写：<code>#name</code></li></ul><p>子组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">div</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">header</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">slot</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">name</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;header&quot;</span><span style="color:#CB7676;">&gt;</span><span style="color:#B8A965;">默认头部</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">slot</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">header</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">main</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">slot</span><span style="color:#858585;">&gt;</span><span style="color:#B8A965;">默认内容</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">slot</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">main</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">footer</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">slot</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">name</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;footer&quot;</span><span style="color:#CB7676;">&gt;</span><span style="color:#B8A965;">默认底部</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">slot</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">footer</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">div</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">header</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">slot</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">name</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;header&quot;</span><span style="color:#AB5959;">&gt;</span><span style="color:#8C862B;">默认头部</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">slot</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">header</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">slot</span><span style="color:#8E8F8B;">&gt;</span><span style="color:#8C862B;">默认内容</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">slot</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">main</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">footer</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">slot</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">name</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;footer&quot;</span><span style="color:#AB5959;">&gt;</span><span style="color:#8C862B;">默认底部</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">slot</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">footer</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>父组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;!--</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">写法</span><span style="color:#DBD7CA;">：</span><span style="color:#B8A965;">v</span><span style="color:#CB7676;">-</span><span style="color:#A1B567;">slot</span><span style="color:#858585;">:</span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;">、</span><span style="color:#B8A965;">简写</span><span style="color:#DBD7CA;">：#</span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">--&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">template</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">v</span><span style="color:#CB7676;">-</span><span style="color:#A1B567;">slot</span><span style="color:#858585;">:</span><span style="color:#B8A965;">header</span><span style="color:#CB7676;">&gt;</span><span style="color:#B8A965;">头部内容</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">插槽内容</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">template</span><span style="color:#DBD7CA;"> #</span><span style="color:#B8A965;">footer</span><span style="color:#CB7676;">&gt;</span><span style="color:#B8A965;">底部内容</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">SlotUse</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;!--</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">写法</span><span style="color:#393A34;">：</span><span style="color:#8C862B;">v</span><span style="color:#AB5959;">-</span><span style="color:#6C7834;">slot</span><span style="color:#8E8F8B;">:</span><span style="color:#8C862B;">name</span><span style="color:#393A34;">、</span><span style="color:#8C862B;">简写</span><span style="color:#393A34;">：#</span><span style="color:#8C862B;">name</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">--&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">template</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">v</span><span style="color:#AB5959;">-</span><span style="color:#6C7834;">slot</span><span style="color:#8E8F8B;">:</span><span style="color:#8C862B;">header</span><span style="color:#AB5959;">&gt;</span><span style="color:#8C862B;">头部内容</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">插槽内容</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">template</span><span style="color:#393A34;"> #</span><span style="color:#8C862B;">footer</span><span style="color:#AB5959;">&gt;</span><span style="color:#8C862B;">底部内容</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">SlotUse</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="作用域插槽" tabindex="-1">作用域插槽 <a class="header-anchor" href="#作用域插槽" aria-hidden="true">#</a></h3><p>作用域插槽的作用是：可以将子组件的数据通过插槽的方式传给父组件，提供给插槽内容使用</p><p>子组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">div</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">ul</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">li</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">v</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">for</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;(item, index) in todoList&quot;</span><span style="color:#DBD7CA;"> :</span><span style="color:#B8A965;">key</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;index&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#CB7676;">&lt;!--</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">是已通过Props的形式传出去</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">--&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#CB7676;">&lt;</span><span style="color:#A1B567;">slot</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#B8A965;">item</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;item&quot;</span><span style="color:#DBD7CA;"> :</span><span style="color:#B8A965;">index</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;index&quot;</span><span style="color:#CB7676;">&gt;</span><span style="color:#858585;">&lt;</span><span style="color:#DBD7CA;">/</span><span style="color:#A1B567;">slot</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">li</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">ul</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">div</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&#39;ts&#39;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;vue&#39;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">todoList</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">([</span><span style="color:#C98A7D;">&#39;Feed a cat&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;Buy milk&#39;</span><span style="color:#858585;">])</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">div</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">ul</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">li</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">v</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">for</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;(item, index) in todoList&quot;</span><span style="color:#393A34;"> :</span><span style="color:#8C862B;">key</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;index&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">&lt;!--</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">是已通过Props的形式传出去</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">--&gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">&lt;</span><span style="color:#6C7834;">slot</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#8C862B;">item</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;item&quot;</span><span style="color:#393A34;"> :</span><span style="color:#8C862B;">index</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;index&quot;</span><span style="color:#AB5959;">&gt;</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#393A34;">/</span><span style="color:#6C7834;">slot</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">li</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">ul</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">div</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&#39;ts&#39;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;vue&#39;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">todoList</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">([</span><span style="color:#B56959;">&#39;Feed a cat&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;Buy milk&#39;</span><span style="color:#8E8F8B;">])</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>父组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">SlotUse</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">template</span><span style="color:#DBD7CA;"> #</span><span style="color:#4D9375;">default</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;slotProps&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">span</span><span style="color:#858585;">&gt;{</span><span style="color:#DBD7CA;">{ slotProps.</span><span style="color:#B8A965;">index</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}:</span><span style="color:#858585;">{</span><span style="color:#DBD7CA;">{ slotProps.</span><span style="color:#B8A965;">item</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">span</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">SlotUse</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 当组件当中只定义了默认插槽时 可以简写如下方式：</span></span>
<span class="line"><span style="color:#758575;">// 组件中如果还包含了匿名插槽时 则需要上面这种方式</span></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">SlotUse</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">v</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">slot</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;slotProps&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">span</span><span style="color:#858585;">&gt;{</span><span style="color:#DBD7CA;">{ slotProps.</span><span style="color:#B8A965;">index</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}:</span><span style="color:#858585;">{</span><span style="color:#DBD7CA;">{ slotProps.</span><span style="color:#B8A965;">item</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">span</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">SlotUse</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// 同时还支持解构插槽Prop</span></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">SlotUse</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">template</span><span style="color:#DBD7CA;"> #</span><span style="color:#4D9375;">default</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;{ item, index }&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">span</span><span style="color:#858585;">&gt;{</span><span style="color:#DBD7CA;">{ </span><span style="color:#B8A965;">index</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}:</span><span style="color:#858585;">{</span><span style="color:#DBD7CA;">{ </span><span style="color:#B8A965;">item</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">span</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">SlotUse</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">SlotUse</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">v</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">slot</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;{ item, index }&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#A1B567;">span</span><span style="color:#858585;">&gt;{</span><span style="color:#DBD7CA;">{ </span><span style="color:#B8A965;">index</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}:</span><span style="color:#858585;">{</span><span style="color:#DBD7CA;">{ </span><span style="color:#B8A965;">item</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">}</span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">span</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">SlotUse</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">SlotUse</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">template</span><span style="color:#393A34;"> #</span><span style="color:#1C6B48;">default</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;slotProps&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">span</span><span style="color:#8E8F8B;">&gt;{</span><span style="color:#393A34;">{ slotProps.</span><span style="color:#8C862B;">index</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}:</span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;">{ slotProps.</span><span style="color:#8C862B;">item</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">span</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">SlotUse</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 当组件当中只定义了默认插槽时 可以简写如下方式：</span></span>
<span class="line"><span style="color:#A0ADA0;">// 组件中如果还包含了匿名插槽时 则需要上面这种方式</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">SlotUse</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">v</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">slot</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;slotProps&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">span</span><span style="color:#8E8F8B;">&gt;{</span><span style="color:#393A34;">{ slotProps.</span><span style="color:#8C862B;">index</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}:</span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;">{ slotProps.</span><span style="color:#8C862B;">item</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">span</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">SlotUse</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 同时还支持解构插槽Prop</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">SlotUse</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">template</span><span style="color:#393A34;"> #</span><span style="color:#1C6B48;">default</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;{ item, index }&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">span</span><span style="color:#8E8F8B;">&gt;{</span><span style="color:#393A34;">{ </span><span style="color:#8C862B;">index</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}:</span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;">{ </span><span style="color:#8C862B;">item</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">span</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">SlotUse</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">SlotUse</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">v</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">slot</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;{ item, index }&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#6C7834;">span</span><span style="color:#8E8F8B;">&gt;{</span><span style="color:#393A34;">{ </span><span style="color:#8C862B;">index</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}:</span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;">{ </span><span style="color:#8C862B;">item</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">}</span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">span</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">SlotUse</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>绑定在  <code>&lt;slot&gt;</code>  元素上的 attribute 被称为<strong>插槽 prop</strong>。而在父级作用域中，可以使用带值的  <code>v-slot</code>  来定义提供的插槽 prop 的名字。</p><h2 id="provide-和-inject" tabindex="-1">Provide 和 Inject <a class="header-anchor" href="#provide-和-inject" aria-hidden="true">#</a></h2><p>一个组件如果嵌套了多层子组件，那么互相传递 props 会显得相当麻烦。这时候可考虑使用 Provide 和 Inject 来传递值给更深层的组件中。</p><p>父组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;ts&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">onMounted</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">provide</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">propsTotalValue</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">ref</span><span style="color:#858585;">(</span><span style="color:#6394BF;">6</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">copySuccess</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">value</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">string</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;copy的值为：&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">value</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A1B567;">provide</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;number&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">propsTotalValue</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#A1B567;">provide</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;copySuccess&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">copySuccess</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;ts&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">onMounted</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">provide</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">propsTotalValue</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">ref</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">6</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">copySuccess</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">value</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">string</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;copy的值为：&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">provide</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;number&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">propsTotalValue</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#6C7834;">provide</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;copySuccess&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">copySuccess</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>子组件或更深层的子组件：</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&lt;</span><span style="color:#B8A965;">script</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">setup</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&#39;ts&#39;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ref</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">inject</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">Ref</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;vue&#39;</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">number</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">inject</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;number&#39;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">as</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Ref</span><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">number</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">copySuccess</span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">any</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">inject</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;copySuccess&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;number-&gt;&gt;&gt;&gt;&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">number</span><span style="color:#858585;">.</span><span style="color:#B8A965;">value</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#A1B567;">copySuccess</span><span style="color:#858585;">(</span><span style="color:#6394BF;">78787</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&lt;</span><span style="color:#8C862B;">script</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">setup</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&#39;ts&#39;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ref</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">inject</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Ref</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;vue&#39;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">number</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">inject</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;number&#39;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">as</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Ref</span><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">copySuccess</span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">any</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">inject</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;copySuccess&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;number-&gt;&gt;&gt;&gt;&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">number</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">copySuccess</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">78787</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-5200d57a data-v-dd53704a><div class="edit-info" data-v-dd53704a><div class="edit-link" data-v-dd53704a><a class="VPLink link edit-link-button" href="https://github.com/flingyp/vitepress-basic-docs/tree/main/frontend/Vue/Vue3.md" target="_blank" rel="noopener noreferrer" data-v-dd53704a data-v-48abdd18><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-dd53704a><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><!----></div><div class="prev-next" data-v-dd53704a><div class="pager" data-v-dd53704a><a class="pager-link prev" href="/frontend/Vue/Vue2.html" data-v-dd53704a><span class="desc" data-v-dd53704a>Previous page</span><span class="title" data-v-dd53704a>Vue2相关语法</span></a></div><div class="has-prev pager" data-v-dd53704a><a class="pager-link next" href="/frontend/Vue/Vue3Tsx.html" data-v-dd53704a><span class="desc" data-v-dd53704a>Next page</span><span class="title" data-v-dd53704a>Vue3+TSX语法写法总结</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-b7788134 data-v-32972742><div class="container" data-v-32972742><p class="message" data-v-32972742>Released under the MIT License.</p><p class="copyright" data-v-32972742>Copyright © 2022-present FlingYP</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"changelog.md\":\"e22e2ea7\",\"readme.md\":\"ac0aef40\",\"sites.md\":\"17cc4bd0\",\"frontend_css3_flex.md\":\"04e6483f\",\"frontend_css3_grid.md\":\"1b1a3488\",\"frontend_css3_layout.md\":\"758f2ef1\",\"frontend_css3_randomrecord.md\":\"75a92477\",\"frontend_css3_skill.md\":\"9f8f18cc\",\"frontend_engineering_codestandard.md\":\"a93e0b82\",\"frontend_html5_index.md\":\"13ad5a8e\",\"frontend_html5_randomrecord.md\":\"28664823\",\"frontend_javascript_es6.md\":\"0c93baee\",\"frontend_javascript_randomrecord.md\":\"a9097a0a\",\"frontend_javascript_skill.md\":\"6530d91c\",\"frontend_react_nextjs.md\":\"a0e86a92\",\"frontend_react_react.md\":\"cda36400\",\"frontend_react_reacthooks.md\":\"279528aa\",\"frontend_react_reactredux.md\":\"227c8cad\",\"frontend_react_reactrouter.md\":\"ebd21314\",\"frontend_react_redux.md\":\"2ce00691\",\"frontend_typesscript_index.md\":\"ac6ce640\",\"frontend_vue_vue2.md\":\"b14270d1\",\"frontend_vue_vue3.md\":\"010c1742\",\"frontend_vue_vue3tsx.md\":\"4c89ab1e\",\"index.md\":\"6040da23\",\"notes_git常用命令.md\":\"5f782806\",\"notes_linux基本命令.md\":\"cb369a47\",\"notes_nginx基本使用.md\":\"d0c7fa3b\",\"notes_regexp介绍与使用.md\":\"b4d3eb28\",\"notes_小程序开发记录.md\":\"f1ee3d6f\"}")</script>
    <script type="module" async src="/assets/app.8a9f2866.js"></script>
    
  </body>
</html>