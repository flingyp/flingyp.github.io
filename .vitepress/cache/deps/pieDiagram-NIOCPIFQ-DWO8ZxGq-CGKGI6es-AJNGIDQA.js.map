{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/vitepress-plugin-legend@1.0.4_jiti@1.21.7_markmap-common@0.18.9_typescript@5.4.3_yaml@2.8.0/node_modules/vitepress-plugin-legend/dist/pieDiagram-NIOCPIFQ-DWO8ZxGq-CGKGI6es.js"],
  "sourcesContent": ["import { t as Q } from \"./chunk-353BL4L5-xy92gJmW-DsDFHcGi.js\";\nimport { p, b as U, V as Y, G as q, Y as I, K as X, l as Z, N as R, g as _, y as j, a3 as H, a5 as J, Q as tt, U as et, D as at, a6 as w, a7 as nt, a8 as z } from \"./component-B8iEnLsv.js\";\nimport { S as rt } from \"./mermaid-parser.core-B3YmDCTF-BpJhWbpr.js\";\nimport { h as B } from \"./arc-Cn58oiF3-fcc35lCa.js\";\nimport { h as it } from \"./ordinal-DfAQgscy-BEJTu10r.js\";\nfunction lt(t, a) {\n  return a < t ? -1 : a > t ? 1 : a >= t ? 0 : NaN;\n}\nfunction st(t) {\n  return t;\n}\nfunction ot() {\n  var t = st, a = lt, l = null, h = w(0), g = w(z), S = w(0);\n  function i(e) {\n    var n, o = (e = nt(e)).length, u, $, m = 0, c = new Array(o), r = new Array(o), x = +h.apply(this, arguments), A = Math.min(z, Math.max(-z, g.apply(this, arguments) - x)), f, v = Math.min(Math.abs(A) / o, S.apply(this, arguments)), C = v * (A < 0 ? -1 : 1), d;\n    for (n = 0; n < o; ++n)\n      (d = r[c[n] = n] = +t(e[n], n, e)) > 0 && (m += d);\n    for (a != null ? c.sort(function(y, D) {\n      return a(r[y], r[D]);\n    }) : l != null && c.sort(function(y, D) {\n      return l(e[y], e[D]);\n    }), n = 0, $ = m ? (A - o * C) / m : 0; n < o; ++n, x = f)\n      u = c[n], d = r[u], f = x + (d > 0 ? d * $ : 0) + C, r[u] = {\n        data: e[u],\n        index: n,\n        value: d,\n        startAngle: x,\n        endAngle: f,\n        padAngle: v\n      };\n    return r;\n  }\n  return i.value = function(e) {\n    return arguments.length ? (t = typeof e == \"function\" ? e : w(+e), i) : t;\n  }, i.sortValues = function(e) {\n    return arguments.length ? (a = e, l = null, i) : a;\n  }, i.sort = function(e) {\n    return arguments.length ? (l = e, a = null, i) : l;\n  }, i.startAngle = function(e) {\n    return arguments.length ? (h = typeof e == \"function\" ? e : w(+e), i) : h;\n  }, i.endAngle = function(e) {\n    return arguments.length ? (g = typeof e == \"function\" ? e : w(+e), i) : g;\n  }, i.padAngle = function(e) {\n    return arguments.length ? (S = typeof e == \"function\" ? e : w(+e), i) : S;\n  }, i;\n}\nvar ct = at.pie, F = {\n  sections: /* @__PURE__ */ new Map(),\n  showData: !1\n}, M = F.sections, N = F.showData, pt = structuredClone(ct), ut = /* @__PURE__ */ p(() => structuredClone(pt), \"getConfig\"), dt = /* @__PURE__ */ p(() => {\n  M = /* @__PURE__ */ new Map(), N = F.showData, et();\n}, \"clear\"), gt = /* @__PURE__ */ p(({ label: t, value: a }) => {\n  M.has(t) || (M.set(t, a), R.debug(`added new section: ${t}, with value: ${a}`));\n}, \"addSection\"), ft = /* @__PURE__ */ p(() => M, \"getSections\"), ht = /* @__PURE__ */ p((t) => {\n  N = t;\n}, \"setShowData\"), mt = /* @__PURE__ */ p(() => N, \"getShowData\"), E = {\n  getConfig: ut,\n  clear: dt,\n  setDiagramTitle: Z,\n  getDiagramTitle: X,\n  setAccTitle: I,\n  getAccTitle: q,\n  setAccDescription: Y,\n  getAccDescription: U,\n  addSection: gt,\n  getSections: ft,\n  setShowData: ht,\n  getShowData: mt\n}, xt = /* @__PURE__ */ p((t, a) => {\n  Q(t, a), a.setShowData(t.showData), t.sections.map(a.addSection);\n}, \"populateDb\"), yt = {\n  parse: /* @__PURE__ */ p(async (t) => {\n    const a = await rt(\"pie\", t);\n    R.debug(a), xt(a, E);\n  }, \"parse\")\n}, wt = /* @__PURE__ */ p((t) => `\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${t.pieOuterStrokeColor};\n    stroke-width: ${t.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`, \"getStyles\"), St = wt, $t = /* @__PURE__ */ p((t) => {\n  const a = [...t.entries()].map((l) => ({\n    label: l[0],\n    value: l[1]\n  })).sort((l, h) => h.value - l.value);\n  return ot().value(\n    (l) => l.value\n  )(a);\n}, \"createPieArcs\"), At = /* @__PURE__ */ p((t, a, l, h) => {\n  R.debug(`rendering pie chart\n` + t);\n  const g = h.db, S = _(), i = j(g.getConfig(), S.pie), e = 40, n = 18, o = 4, u = 450, $ = u, m = H(a), c = m.append(\"g\");\n  c.attr(\"transform\", \"translate(\" + $ / 2 + \",\" + u / 2 + \")\");\n  const { themeVariables: r } = S;\n  let [x] = J(r.pieOuterStrokeWidth);\n  x ??= 2;\n  const A = i.textPosition, f = Math.min($, u) / 2 - e, v = B().innerRadius(0).outerRadius(f), C = B().innerRadius(f * A).outerRadius(f * A);\n  c.append(\"circle\").attr(\"cx\", 0).attr(\"cy\", 0).attr(\"r\", f + x / 2).attr(\"class\", \"pieOuterCircle\");\n  const d = g.getSections(), y = $t(d), D = [\n    r.pie1,\n    r.pie2,\n    r.pie3,\n    r.pie4,\n    r.pie5,\n    r.pie6,\n    r.pie7,\n    r.pie8,\n    r.pie9,\n    r.pie10,\n    r.pie11,\n    r.pie12\n  ], T = it(D);\n  c.selectAll(\"mySlices\").data(y).enter().append(\"path\").attr(\"d\", v).attr(\"fill\", (s) => T(s.data.label)).attr(\"class\", \"pieCircle\");\n  let V = 0;\n  d.forEach((s) => {\n    V += s;\n  }), c.selectAll(\"mySlices\").data(y).enter().append(\"text\").text((s) => (s.data.value / V * 100).toFixed(0) + \"%\").attr(\"transform\", (s) => \"translate(\" + C.centroid(s) + \")\").style(\"text-anchor\", \"middle\").attr(\"class\", \"slice\"), c.append(\"text\").text(g.getDiagramTitle()).attr(\"x\", 0).attr(\"y\", -400 / 2).attr(\"class\", \"pieTitleText\");\n  const O = c.selectAll(\".legend\").data(T.domain()).enter().append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", (s, b) => {\n    const k = n + o, K = k * T.domain().length / 2, L = 12 * n, P = b * k - K;\n    return \"translate(\" + L + \",\" + P + \")\";\n  });\n  O.append(\"rect\").attr(\"width\", n).attr(\"height\", n).style(\"fill\", T).style(\"stroke\", T), O.data(y).append(\"text\").attr(\"x\", n + o).attr(\"y\", n - o).text((s) => {\n    const { label: b, value: k } = s.data;\n    return g.getShowData() ? `${b} [${k}]` : b;\n  });\n  const G = Math.max(\n    ...O.selectAll(\"text\").nodes().map((s) => s?.getBoundingClientRect().width ?? 0)\n  ), W = $ + e + n + o + G;\n  m.attr(\"viewBox\", `0 0 ${W} ${u}`), tt(m, u, W, i.useMaxWidth);\n}, \"draw\"), Dt = { draw: At }, Mt = {\n  parser: yt,\n  db: E,\n  renderer: Dt,\n  styles: St\n};\nexport {\n  Mt as diagram\n};\n"],
  "mappings": "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",
  "names": ["g", "S", "i", "ut"]
}
