import{_ as a,c as i,o as t,as as n}from"./chunks/framework.B-x_5eXW.js";const g=JSON.parse('{"title":"使用 NRM 镜像源工具","description":"","frontmatter":{},"headers":[],"relativePath":"posts/NRM镜像源工具.md","filePath":"posts/NRM镜像源工具.md","lastUpdated":1763963686000}'),e={name:"posts/NRM镜像源工具.md"};function p(l,s,h,o,r,d){return t(),i("div",null,s[0]||(s[0]=[n(`<h1 id="使用-nrm-镜像源工具" tabindex="-1">使用 NRM 镜像源工具 <a class="header-anchor" href="#使用-nrm-镜像源工具" aria-label="Permalink to &quot;使用 NRM 镜像源工具&quot;">​</a></h1><h2 id="什么是-nrm" tabindex="-1">什么是 NRM <a class="header-anchor" href="#什么是-nrm" aria-label="Permalink to &quot;什么是 NRM&quot;">​</a></h2><p>nrm（NPM Registry Manager）是一个 NPM 镜像源管理工具，专为 Node.js 开发者设计。它可以帮助你快速切换不同的 npm 镜像源，提升依赖包的下载速度，尤其适合国内网络环境。由于 npm 官方源（<code>https://registry.npmjs.org/</code>）在国内访问较慢，nrm 提供了一种便捷的方式来管理和切换国内镜像源（如淘宝镜像）或企业私有源。</p><h2 id="为什么需要-nrm" tabindex="-1">为什么需要 NRM <a class="header-anchor" href="#为什么需要-nrm" aria-label="Permalink to &quot;为什么需要 NRM&quot;">​</a></h2><ul><li><strong>加速下载</strong>：国内镜像源（如淘宝、腾讯）比官方源更快，减少依赖安装时间。</li><li><strong>灵活切换</strong>：支持快速在不同镜像源（如官方、淘宝、企业私有源）之间切换。</li><li><strong>管理私有源</strong>：便于添加和使用公司内部的私有 npm 源。</li><li><strong>测试速度</strong>：可以测试不同源的响应时间，选择 Societ选择最优镜像。</li></ul><h2 id="安装-nrm" tabindex="-1">安装 NRM <a class="header-anchor" href="#安装-nrm" aria-label="Permalink to &quot;安装 NRM&quot;">​</a></h2><p>在命令行中执行以下命令全局安装 NRM</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span></span></code></pre></div><p>安装完成后，可以通过以下命令验证是否安装成功：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -V</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 如果显示版本号（如 1.2.6），则表示安装成功。</span></span></code></pre></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><p>以下是 NRM 的主要命令及其功能：</p><ol><li><p><strong>查看可用镜像源</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span></code></pre></div><p>输出示例：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm ---------- https://registry.npmjs.org/</span></span>
<span class="line"><span>yarn --------- https://registry.yarnpkg.com/</span></span>
<span class="line"><span>tencent ------ https://mirrors.cloud.tencent.com/npm/</span></span>
<span class="line"><span>cnpm --------- https://r.cnpmjs.org/</span></span>
<span class="line"><span>* taobao ------- https://registry.npmmirror.com/</span></span>
<span class="line"><span>npmMirror ---- https://skimdb.npmjs.com/registry/</span></span></code></pre></div><p>带 <code>*</code> 的为当前使用的源。</p></li><li><p><strong>查看当前使用的镜像源</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span></span></code></pre></div><p>输出当前使用的源名称，如 <code>taobao</code>。</p></li><li><p><strong>切换镜像源</strong>： 例如，切换到淘宝镜像源：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> taobao</span></span></code></pre></div><p>切换成功后，所有 npm 操作将使用淘宝源（<code>https://registry.npmmirror.com/</code>）。</p></li><li><p><strong>添加自定义镜像源</strong>： 适合添加企业私有源，例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> company</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://npm.company.com/</span></span></code></pre></div><p>其中 <code>company</code> 是自定义源名称，<code>http://npm.company.com/</code> 是源地址。可选添加主页：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> company</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://npm.company.com/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://npm.company.com/home</span></span></code></pre></div></li><li><p><strong>删除自定义镜像源</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> del</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> company</span></span></code></pre></div><p>只能删除自定义源，内置源无法删除。</p></li><li><p><strong>测试镜像源响应时间</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><p>测试所有源的响应时间：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm ---------- 807ms</span></span>
<span class="line"><span>taobao ------- 209ms</span></span>
<span class="line"><span>cnpm --------- 374ms</span></span></code></pre></div><p>或测试单一源：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> taobao</span></span></code></pre></div></li><li><p><strong>访问镜像源主页</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> home</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> taobao</span></span></code></pre></div><p>使用默认浏览器打开指定源的主页（需在添加源时指定 homepage）。</p></li></ol><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h2><ul><li><strong>个人开发</strong>：在国内使用淘宝镜像（<code>https://registry.npmmirror.com/</code>）加速依赖安装。</li><li><strong>企业开发</strong>：切换到公司私有源以安装内部包。</li><li><strong>调试问题</strong>：当某个源不可用或包版本不全时，快速切换到其他源。</li><li><strong>性能优化</strong>：通过 <code>NRM test</code> 选择响应速度最快的镜像源。</li></ul><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li><strong>兼容性</strong>：nrm 配置的 registry 对 npm、yarn、pnpm 均生效。但 yarn 2.x 及以上版本需单独设置：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npmmirror.com/</span></span></code></pre></div></li><li><strong>源稳定性</strong>：选择维护良好、更新及时的镜像源（如淘宝镜像），以确保包的完整性和最新性。</li><li><strong>安全性</strong>：确保使用的镜像源支持安全的数据传输和包完整性验证。</li></ul><h2 id="进阶技巧" tabindex="-1">进阶技巧 <a class="header-anchor" href="#进阶技巧" aria-label="Permalink to &quot;进阶技巧&quot;">​</a></h2><ul><li><strong>自动切换</strong>：在项目根目录创建 <code>.npmrc</code> 文件，配置默认镜像源：<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>registry=https://registry.npmmirror.com/</span></span></code></pre></div>这样项目打开时会自动使用指定源。</li><li><strong>发布私有包</strong>：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span></span></code></pre></div>若当前源为自定义源，则发布到该源；否则执行 <code>npm publish</code>。</li></ul>`,19)]))}const k=a(e,[["render",p]]);export{g as __pageData,k as default};
