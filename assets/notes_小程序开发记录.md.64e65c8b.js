import{_ as s,c as n,o as a,a as l}from"./app.9f7ba709.js";const C=JSON.parse('{"title":"\u5C0F\u7A0B\u5E8F\u76F8\u5173\u8BB0\u5F55\uFF08\u6301\u7EED\u66F4\u65B0...\uFF09","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5C0F\u7A0B\u5E8F\u53D1\u8D77\u5206\u4EAB (2021-02-24)","slug":"\u5C0F\u7A0B\u5E8F\u53D1\u8D77\u5206\u4EAB-2021-02-24"},{"level":2,"title":"scroll-view \u6A2A\u5411\u6EDA\u52A8\u6CE8\u610F\u70B9","slug":"scroll-view-\u6A2A\u5411\u6EDA\u52A8\u6CE8\u610F\u70B9"},{"level":2,"title":"uniapp \u4E2D url \u4F20\u9012\u4E00\u4E2A obj \u7684\u65B9\u6CD5 (2021-02-24)","slug":"uniapp-\u4E2D-url-\u4F20\u9012\u4E00\u4E2A-obj-\u7684\u65B9\u6CD5-2021-02-24"},{"level":2,"title":"\u5FAE\u4FE1\u516C\u4F17\u53F7 H5 \u5FAE\u4FE1\u6388\u6743\u83B7\u53D6 code (2021-02-24)","slug":"\u5FAE\u4FE1\u516C\u4F17\u53F7-h5-\u5FAE\u4FE1\u6388\u6743\u83B7\u53D6-code-2021-02-24"},{"level":2,"title":"\u7F51\u7EDC\u76D1\u63A7 (2021-02-24)","slug":"\u7F51\u7EDC\u76D1\u63A7-2021-02-24"},{"level":2,"title":"uniapp \u5C0F\u7A0B\u5E8F\u957F\u6309\u4FDD\u5B58\u56FE\u7247 (\u6388\u6743\u540E\u4FDD\u5B58) (\u4E8C\u7EF4\u7801) (2021-03-01)","slug":"uniapp-\u5C0F\u7A0B\u5E8F\u957F\u6309\u4FDD\u5B58\u56FE\u7247-\u6388\u6743\u540E\u4FDD\u5B58-\u4E8C\u7EF4\u7801-2021-03-01"},{"level":2,"title":"Uniapp \u5B9E\u73B0\u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u5F00\u53D1 (2021-03-01)","slug":"uniapp-\u5B9E\u73B0\u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u5F00\u53D1-2021-03-01"},{"level":3,"title":"\u901A\u8FC7 canvas \u7ED8\u5236\u6D77\u62A5\u5185\u5BB9\u7684\u987A\u5E8F\u5148\u540E\u95EE\u9898","slug":"\u901A\u8FC7-canvas-\u7ED8\u5236\u6D77\u62A5\u5185\u5BB9\u7684\u987A\u5E8F\u5148\u540E\u95EE\u9898"},{"level":3,"title":"\u6CE8\u610F uni.getImageInfo()","slug":"\u6CE8\u610F-uni-getimageinfo"},{"level":3,"title":"\u91CD\u70B9\u7EC4\u4EF6\u65B9\u6CD5\uFF0C\u53D8\u91CF\u4ECB\u7ECD","slug":"\u91CD\u70B9\u7EC4\u4EF6\u65B9\u6CD5\uFF0C\u53D8\u91CF\u4ECB\u7ECD"},{"level":3,"title":"\u5FEB\u901F\u4E0A\u624B","slug":"\u5FEB\u901F\u4E0A\u624B"},{"level":3,"title":"\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B\u6E90\u7801","slug":"\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B\u6E90\u7801"},{"level":3,"title":"\u7EC4\u4EF6\u6E90\u7801","slug":"\u7EC4\u4EF6\u6E90\u7801"},{"level":2,"title":"\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6388\u6743 \u83B7\u53D6 \u7528\u6237\u4FE1\u606F\u7684 API \u8BE6\u89E3 (2021-03-04)","slug":"\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6388\u6743-\u83B7\u53D6-\u7528\u6237\u4FE1\u606F\u7684-api-\u8BE6\u89E3-2021-03-04"},{"level":3,"title":"1. \u767B\u5F55 wx.login()","slug":"_1-\u767B\u5F55-wx-login"},{"level":3,"title":"2. wx.checkSession()","slug":"_2-wx-checksession"},{"level":3,"title":"3.\u6388\u6743 wx.authorize()","slug":"_3-\u6388\u6743-wx-authorize"},{"level":3,"title":"4. \u7528\u6237\u4FE1\u606F wx.getUserInfo()","slug":"_4-\u7528\u6237\u4FE1\u606F-wx-getuserinfo"},{"level":3,"title":"\u5B57\u6BB5\u89E3\u91CA","slug":"\u5B57\u6BB5\u89E3\u91CA"},{"level":3,"title":"\u767B\u5F55\u6388\u6743\u6D41\u7A0B","slug":"\u767B\u5F55\u6388\u6743\u6D41\u7A0B"},{"level":2,"title":"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F \u5F00\u53D1\u7248 \u4F53\u9A8C\u7248 \u6B63\u5F0F\u7248 \u73AF\u5883\u5224\u65AD (2021-03-08)","slug":"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F-\u5F00\u53D1\u7248-\u4F53\u9A8C\u7248-\u6B63\u5F0F\u7248-\u73AF\u5883\u5224\u65AD-2021-03-08"},{"level":2,"title":"\u9489\u9489\u5C0F\u7A0B\u5E8F \u5F00\u53D1\u7248 \u4F53\u9A8C\u7248 \u6B63\u5F0F\u7248 \u73AF\u5883\u5224\u65AD (2021-03-08)","slug":"\u9489\u9489\u5C0F\u7A0B\u5E8F-\u5F00\u53D1\u7248-\u4F53\u9A8C\u7248-\u6B63\u5F0F\u7248-\u73AF\u5883\u5224\u65AD-2021-03-08"},{"level":2,"title":"uniapp \u5C0F\u7A0B\u5E8F\u7B7E\u540D\u529F\u80FD\u57FA\u672C\u5B9E\u73B0 (2021-03-09)","slug":"uniapp-\u5C0F\u7A0B\u5E8F\u7B7E\u540D\u529F\u80FD\u57FA\u672C\u5B9E\u73B0-2021-03-09"},{"level":2,"title":"\u56FE\u7247\u8DEF\u5F84 (2021-03-12)","slug":"\u56FE\u7247\u8DEF\u5F84-2021-03-12"},{"level":2,"title":"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F base64 \u683C\u5F0F\u56FE\u7247\u8F6C http \u5730\u5740 (2021-03-17)","slug":"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F-base64-\u683C\u5F0F\u56FE\u7247\u8F6C-http-\u5730\u5740-2021-03-17"},{"level":2,"title":"uniapp \u5C0F\u7A0B\u5E8F\u9876\u90E8\u680F\u5207\u6362","slug":"uniapp-\u5C0F\u7A0B\u5E8F\u9876\u90E8\u680F\u5207\u6362"},{"level":2,"title":"\u5C0F\u7A0B\u5E8F\u6253\u5F00 PDF \u6587\u4EF6","slug":"\u5C0F\u7A0B\u5E8F\u6253\u5F00-pdf-\u6587\u4EF6"},{"level":2,"title":"\u624B\u5199 \u8FDB\u5EA6\u6761\u7EC4\u4EF6","slug":"\u624B\u5199-\u8FDB\u5EA6\u6761\u7EC4\u4EF6"},{"level":2,"title":"","slug":""}],"relativePath":"notes/\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u8BB0\u5F55.md"}'),p={name:"notes/\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u8BB0\u5F55.md"},o=l(`<h1 id="\u5C0F\u7A0B\u5E8F\u76F8\u5173\u8BB0\u5F55\uFF08\u6301\u7EED\u66F4\u65B0-\uFF09" tabindex="-1">\u5C0F\u7A0B\u5E8F\u76F8\u5173\u8BB0\u5F55\uFF08\u6301\u7EED\u66F4\u65B0...\uFF09 <a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u76F8\u5173\u8BB0\u5F55\uFF08\u6301\u7EED\u66F4\u65B0-\uFF09" aria-hidden="true">#</a></h1><h2 id="\u5C0F\u7A0B\u5E8F\u53D1\u8D77\u5206\u4EAB-2021-02-24" tabindex="-1">\u5C0F\u7A0B\u5E8F\u53D1\u8D77\u5206\u4EAB (2021-02-24) <a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u53D1\u8D77\u5206\u4EAB-2021-02-24" aria-hidden="true">#</a></h2><blockquote><p>\u5C0F\u7A0B\u5E8F\u53D1\u8D77\u5206\u4EAB \u53EA\u80FD\u8BBE\u7F6E\u5B98\u65B9\u63D0\u4F9B\u7684 button \u7EC4\u4EF6</p></blockquote><ol><li><p>\u7ED9 button \u7EC4\u4EF6\u8BBE\u7F6E <code>open-type=&quot;share&quot;</code></p></li><li><p>\u5F53\u7528\u6237\u70B9\u51FB\u6309\u94AE\u540E\u5C31\u4F1A\u89E6\u53D1 Page.onShareAppMessage \u81EA\u5B9A\u4E49\u7684\u4E8B\u4EF6 \uFF08\u901A\u8FC7\u8FD9\u4E2A\u4E8B\u4EF6\u53BB\u5B9A\u4E49\u8F6C\u53D1\u5185\u5BB9\u7684\u76F8\u5173\u4FE1\u606F\uFF09</p></li></ol><h2 id="scroll-view-\u6A2A\u5411\u6EDA\u52A8\u6CE8\u610F\u70B9" tabindex="-1">scroll-view \u6A2A\u5411\u6EDA\u52A8\u6CE8\u610F\u70B9 <a class="header-anchor" href="#scroll-view-\u6A2A\u5411\u6EDA\u52A8\u6CE8\u610F\u70B9" aria-hidden="true">#</a></h2><p>\u6CE8\u610F\uFF1A</p><ol><li>\u5FC5\u987B\u7ED9 scroll-X \u8BBE\u7F6E <code>white-space: nowrap;</code></li><li>\u5B50\u5185\u5BB9 scroll-con \u8BBE\u7F6E <code>display: inline-block;</code></li></ol><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">scroll-view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">scroll-x</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;true&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;scroll-X&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">block</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">v-for</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;(item, index) in Data&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">:key=&quot;index&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">&lt;view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;scroll-con&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">@tap=&quot;goDetail(item.id)&quot;&gt;</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u6EDA\u52A8\u7684\u76F8\u5173\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#FDAEB7;font-style:italic;">&lt;/block&gt;</span></span>
<span class="line"><span style="color:#FDAEB7;font-style:italic;">&lt;/scroll-view&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">scroll-view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">scroll-x</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;true&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;scroll-X&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">block</span><span style="color:#393A34;"> </span><span style="color:#B58451;">v-for</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;(item, index) in Data&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">:key=&quot;index&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">&lt;view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;scroll-con&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">@tap=&quot;goDetail(item.id)&quot;&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u6EDA\u52A8\u7684\u76F8\u5173\u5185\u5BB9</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B31D28;font-style:italic;">&lt;/block&gt;</span></span>
<span class="line"><span style="color:#B31D28;font-style:italic;">&lt;/scroll-view&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-css"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">scroll-X</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">overflow</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">hidden</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">white-space</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nowrap</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> // \u6EDA\u52A8\u5FC5\u987B\u52A0\u7684\u5C5E\u6027</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">scroll-con</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">display</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">inline-block</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">scroll-X</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">overflow</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">hidden</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">white-space</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nowrap</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> // \u6EDA\u52A8\u5FC5\u987B\u52A0\u7684\u5C5E\u6027</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">scroll-con</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">display</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">inline-block</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="uniapp-\u4E2D-url-\u4F20\u9012\u4E00\u4E2A-obj-\u7684\u65B9\u6CD5-2021-02-24" tabindex="-1">uniapp \u4E2D url \u4F20\u9012\u4E00\u4E2A obj \u7684\u65B9\u6CD5 (2021-02-24) <a class="header-anchor" href="#uniapp-\u4E2D-url-\u4F20\u9012\u4E00\u4E2A-obj-\u7684\u65B9\u6CD5-2021-02-24" aria-hidden="true">#</a></h2><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">navigateTo</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">url</span><span style="color:#858585;">:</span><span style="color:#C98A7D;">&#39;xxx?item=&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">encodeURIComponent</span><span style="color:#858585;">(</span><span style="color:#D4976C;">JSON</span><span style="color:#858585;">.</span><span style="color:#E0A569;">stringify</span><span style="color:#858585;">(</span><span style="color:#B8A965;">obj</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#858585;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A1B567;">onLoad</span><span style="color:#858585;">(</span><span style="color:#B8A965;">options</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">if</span><span style="color:#858585;">(</span><span style="color:#B8A965;">options</span><span style="color:#858585;">.</span><span style="color:#B8A965;">item</span><span style="color:#858585;">){</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">item</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">JSON</span><span style="color:#858585;">.</span><span style="color:#E0A569;">parse</span><span style="color:#858585;">(</span><span style="color:#E0A569;">decodeURIComponent</span><span style="color:#858585;">(</span><span style="color:#B8A965;">options</span><span style="color:#858585;">.</span><span style="color:#B8A965;">item</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">navigateTo</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">url</span><span style="color:#8E8F8B;">:</span><span style="color:#B56959;">&#39;xxx?item=&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B58451;">encodeURIComponent</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">obj</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">onLoad</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">options</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">if</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">options</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">){</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">item</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">decodeURIComponent</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">options</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5FAE\u4FE1\u516C\u4F17\u53F7-h5-\u5FAE\u4FE1\u6388\u6743\u83B7\u53D6-code-2021-02-24" tabindex="-1">\u5FAE\u4FE1\u516C\u4F17\u53F7 H5 \u5FAE\u4FE1\u6388\u6743\u83B7\u53D6 code (2021-02-24) <a class="header-anchor" href="#\u5FAE\u4FE1\u516C\u4F17\u53F7-h5-\u5FAE\u4FE1\u6388\u6743\u83B7\u53D6-code-2021-02-24" aria-hidden="true">#</a></h2><blockquote><p>\u516C\u4F17\u53F7\u83B7\u53D6 code \u662F\u9700\u8981\u8DF3\u8F6C\u5230\u5FAE\u4FE1\u7684\u76F8\u5173\u7F51\u9875\uFF0C \u7F51\u9875\u56DE\u8DF3\u56DE\u4F60\u6307\u5B9A\u7684\u9875\u9762 url \u5E76\u4E14\u5728\u540E\u9762\u53C2\u6570\u643A\u5E26 code</p></blockquote><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">getCode</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u622A\u53D6\u8DEF\u5F84\u4E2D\u7684code\uFF0C\u5982\u679C\u6CA1\u6709\u5C31\u53BB\u5FAE\u4FE1\u6388\u6743\uFF0C\u5982\u679C\u5DF2\u7ECF\u83B7\u53D6\u5230\u4E86\u5C31\u76F4\u63A5\u4F20code\u7ED9\u540E\u53F0\u83B7\u53D6openId</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u5224\u65AD\u662F\u5426\u6709token,\u6709\u5219\u76F4\u63A5\u5F80\u4E0B\u8C03\u7528\u4E1A\u52A1\u63A5\u53E3\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u5219\u8C03\u6574\u6388\u6743\u94FE\u63A5newhref</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// token\u5931\u6548\uFF0C\u628Atoken\u6E05\u7A7A\uFF0C\u7136\u540E\u8DF3\u6388\u6743\u94FE\u63A5</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">code</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">GetQueryString</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;code&#39;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">local</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;http://xxxxxxxxxxxxx&quot;</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u8BE5\u516C\u4F17\u53F7\u7EBF\u4E0A\u5730\u5740</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u9700\u8981\u516C\u4F17\u53F7\u7684appid:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">newhref</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;https://open.weixin.qq.com/connect/oauth2/authorize?appid=xxxx&amp;redirect_uri=&#39;</span><span style="color:#CB7676;">+</span><span style="color:#E0A569;">encodeURIComponent</span><span style="color:#858585;">(</span><span style="color:#B8A965;">local</span><span style="color:#858585;">)</span><span style="color:#CB7676;">+</span><span style="color:#C98A7D;">&#39;&amp;response_type=code&amp;scope=snsapi_userinfo&amp;state=STATE#wechat_redirect&#39;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;code&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">code</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;local&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">local</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;encodeURIComponent(local)&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">encodeURIComponent</span><span style="color:#858585;">(</span><span style="color:#B8A965;">local</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">if</span><span style="color:#858585;">(</span><span style="color:#B8A965;">code</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">||</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">code</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;&#39;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">location</span><span style="color:#858585;">.</span><span style="color:#A1B567;">replace</span><span style="color:#858585;">(</span><span style="color:#B8A965;">newhref</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#A1B567;">GetQueryString</span><span style="color:#858585;">(</span><span style="color:#B8A965;">name</span><span style="color:#858585;">){</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u5224\u65AD\u5730\u5740\u680F\u4E0A\u662F\u5426\u6709 code</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reg</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">RegExp</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;(^|&amp;)&quot;</span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#C98A7D;">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">r</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">window</span><span style="color:#858585;">.</span><span style="color:#B8A965;">location</span><span style="color:#858585;">.</span><span style="color:#B8A965;">search</span><span style="color:#858585;">.</span><span style="color:#A1B567;">substr</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">).</span><span style="color:#A1B567;">match</span><span style="color:#858585;">(</span><span style="color:#B8A965;">reg</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">if</span><span style="color:#858585;">(</span><span style="color:#B8A965;">r</span><span style="color:#CB7676;">!=</span><span style="color:#D4976C;">null</span><span style="color:#858585;">)</span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">unescape</span><span style="color:#858585;">(</span><span style="color:#B8A965;">r</span><span style="color:#858585;">[</span><span style="color:#6394BF;">2</span><span style="color:#858585;">]);</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">},</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">getCode</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u622A\u53D6\u8DEF\u5F84\u4E2D\u7684code\uFF0C\u5982\u679C\u6CA1\u6709\u5C31\u53BB\u5FAE\u4FE1\u6388\u6743\uFF0C\u5982\u679C\u5DF2\u7ECF\u83B7\u53D6\u5230\u4E86\u5C31\u76F4\u63A5\u4F20code\u7ED9\u540E\u53F0\u83B7\u53D6openId</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u5224\u65AD\u662F\u5426\u6709token,\u6709\u5219\u76F4\u63A5\u5F80\u4E0B\u8C03\u7528\u4E1A\u52A1\u63A5\u53E3\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u5219\u8C03\u6574\u6388\u6743\u94FE\u63A5newhref</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// token\u5931\u6548\uFF0C\u628Atoken\u6E05\u7A7A\uFF0C\u7136\u540E\u8DF3\u6388\u6743\u94FE\u63A5</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">code</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">GetQueryString</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;code&#39;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">local</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;http://xxxxxxxxxxxxx&quot;</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u8BE5\u516C\u4F17\u53F7\u7EBF\u4E0A\u5730\u5740</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u9700\u8981\u516C\u4F17\u53F7\u7684appid:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">newhref</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;https://open.weixin.qq.com/connect/oauth2/authorize?appid=xxxx&amp;redirect_uri=&#39;</span><span style="color:#AB5959;">+</span><span style="color:#B58451;">encodeURIComponent</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">local</span><span style="color:#8E8F8B;">)</span><span style="color:#AB5959;">+</span><span style="color:#B56959;">&#39;&amp;response_type=code&amp;scope=snsapi_userinfo&amp;state=STATE#wechat_redirect&#39;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;code&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">code</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;local&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">local</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;encodeURIComponent(local)&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B58451;">encodeURIComponent</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">local</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">if</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">code</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">code</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;&#39;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">location</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">replace</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">newhref</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#6C7834;">GetQueryString</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">name</span><span style="color:#8E8F8B;">){</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5224\u65AD\u5730\u5740\u680F\u4E0A\u662F\u5426\u6709 code</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reg</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">RegExp</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;(^|&amp;)&quot;</span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">name</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#B56959;">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">r</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">window</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">location</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">search</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">substr</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">).</span><span style="color:#6C7834;">match</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">reg</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">if</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">r</span><span style="color:#AB5959;">!=</span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">)</span><span style="color:#1C6B48;">return</span><span style="color:#393A34;">  </span><span style="color:#B58451;">unescape</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">r</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">]);</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">},</span></span>
<span class="line"></span></code></pre></div><h2 id="\u7F51\u7EDC\u76D1\u63A7-2021-02-24" tabindex="-1">\u7F51\u7EDC\u76D1\u63A7 (2021-02-24) <a class="header-anchor" href="#\u7F51\u7EDC\u76D1\u63A7-2021-02-24" aria-hidden="true">#</a></h2><p>\u5728 <strong>App.vue</strong> \u4E2D\u653E\u5165\u7F51\u7EDC\u76D1\u63A7\uFF0C \u5F53\u7528\u6237\u65AD\u7F51\u662F\u5F39\u51FA\u65AD\u7F51\u5F39\u51FA\u7981\u6B62\u4E0B\u4E00\u6B65\u64CD\u4F5C\uFF0C\u518D\u6B21\u8054\u7F51\u7684\u65F6\u95F4 \u5173\u95ED\u5F39\u7A97</p><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">onLaunch</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">onNetworkStatusChange</span><span style="color:#858585;">({</span><span style="color:#B8A965;">isConnected</span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#858585;">(</span><span style="color:#B8A965;">isConnected</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">hideToast</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">hideToast</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u60A8\u5DF2\u65AD\u7F51&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;none&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">mask</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">duration</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6000000</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">onLaunch</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">onNetworkStatusChange</span><span style="color:#8E8F8B;">({</span><span style="color:#8C862B;">isConnected</span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">isConnected</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">hideToast</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">hideToast</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u60A8\u5DF2\u65AD\u7F51&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;none&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">mask</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">duration</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6000000</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="uniapp-\u5C0F\u7A0B\u5E8F\u957F\u6309\u4FDD\u5B58\u56FE\u7247-\u6388\u6743\u540E\u4FDD\u5B58-\u4E8C\u7EF4\u7801-2021-03-01" tabindex="-1">uniapp \u5C0F\u7A0B\u5E8F\u957F\u6309\u4FDD\u5B58\u56FE\u7247 (\u6388\u6743\u540E\u4FDD\u5B58) (\u4E8C\u7EF4\u7801) (2021-03-01) <a class="header-anchor" href="#uniapp-\u5C0F\u7A0B\u5E8F\u957F\u6309\u4FDD\u5B58\u56FE\u7247-\u6388\u6743\u540E\u4FDD\u5B58-\u4E8C\u7EF4\u7801-2021-03-01" aria-hidden="true">#</a></h2><blockquote><p>\u8BBE\u7F6E\u76F8\u5173\u77E5\u8BC6\u70B9\uFF1A uniapp \u7684 API \u3001\u957F\u6309\u4E8B\u4EF6</p></blockquote><ul><li><p><code>uni.getSetting()</code> \u83B7\u53D6\u5F53\u524D\u7528\u6237\u7684\u6743\u9650\u8BBE\u7F6E</p></li><li><p><code>uni.uni.authorize()</code> \u5411\u7528\u6237\u53D1\u8D77\u76F8\u5173\u7684\u6388\u6743\u8BF7\u6C42</p></li><li><p><code>uni.saveImageToPhotosAlbum()</code> \u628A\u56FE\u7247\u4FDD\u5B58\u672C\u5730\u76F8\u518C</p></li><li><p><code>@longpress=&quot;savePosterPath(qrCodeSrc)&quot;</code> \u957F\u6309\u4E8B\u4EF6 @longpress</p></li></ul><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// \u5C0F\u7A0B\u5E8F\u4FDD\u5B58\u56FE\u7247</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">savePosterPath</span><span style="color:#858585;">(</span><span style="color:#B8A965;">url</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">downloadFile</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">url</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">resFile</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">resFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;resFile&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">resFile</span><span style="color:#858585;">.</span><span style="color:#B8A965;">statusCode</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">200</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getSetting</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u83B7\u53D6\u7528\u6237\u7684\u5F53\u524D\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">authSetting</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;scope.writePhotosAlbum&quot;</span><span style="color:#858585;">])</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u5982\u679C\u6CA1\u6709\u6388\u6743\u4FDD\u5B58\u5230\u76F8\u518C\u7684\u6743\u9650</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">authorize</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u5411\u7528\u6237\u53D1\u8D77\u6388\u6743\u8BF7\u6C42</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">scope</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;scope.writePhotosAlbum&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u4FDD\u5B58\u5230\u76F8\u518C\u7684\u6743\u9650</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">saveImageToPhotosAlbum</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u8C03\u7528\u4FDD\u5B58\u56FE\u7247\u5230\u76F8\u518C\u7684API</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#E0A569;">filePath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">resFile</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u4FDD\u5B58\u6210\u529F</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                            </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58\u6210\u529F\uFF01&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u4FDD\u5B58\u5931\u8D25</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                            </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#A1B567;">complete</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u65E0\u8BBA\u6210\u529F \u6216 \u5931\u8D25\u6267\u884C</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u62D2\u7EDD\u83B7\u53D6\u76F8\u518C\u6743\u9650 \u6267\u884C</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showModal</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u60A8\u5DF2\u62D2\u7EDD\u83B7\u53D6\u76F8\u518C\u6743\u9650&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#E0A569;">content</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u662F\u5426\u8FDB\u5165\u6743\u9650\u7BA1\u7406\uFF0C\u8C03\u6574\u6388\u6743\uFF1F&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">confirm</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">openSetting</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                              </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                                </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">authSetting</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">                              </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">cancel</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                            </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                              </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5DF2\u53D6\u6D88\uFF01&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                          </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">saveImageToPhotosAlbum</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">filePath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">resFile</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58\u6210\u529F\uFF01&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#A1B567;">complete</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u65E0\u8BBA\u6210\u529F \u6216 \u5931\u8D25\u6267\u884C</span></span>
<span class="line"><span style="color:#DBD7CA;">                      </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// resFile.statusCode === 200 \u6CA1\u6709\u5BF9</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;resFile.statusCode === 200 \u6CA1\u6709\u5BF9&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">resFile</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// uni.downloadFile \u8FDB\u5165 \u5931\u8D25\u56DE\u8C03</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;uni.downloadFile \u8FDB\u5165 \u5931\u8D25\u56DE\u8C03&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u5C0F\u7A0B\u5E8F\u4FDD\u5B58\u56FE\u7247</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">savePosterPath</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">url</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">downloadFile</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">url</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">resFile</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">resFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;resFile&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">resFile</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">statusCode</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">200</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getSetting</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u7528\u6237\u7684\u5F53\u524D\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">authSetting</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;scope.writePhotosAlbum&quot;</span><span style="color:#8E8F8B;">])</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5982\u679C\u6CA1\u6709\u6388\u6743\u4FDD\u5B58\u5230\u76F8\u518C\u7684\u6743\u9650</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">authorize</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5411\u7528\u6237\u53D1\u8D77\u6388\u6743\u8BF7\u6C42</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">scope</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;scope.writePhotosAlbum&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u4FDD\u5B58\u5230\u76F8\u518C\u7684\u6743\u9650</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">saveImageToPhotosAlbum</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u8C03\u7528\u4FDD\u5B58\u56FE\u7247\u5230\u76F8\u518C\u7684API</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#B58451;">filePath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">resFile</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u4FDD\u5B58\u6210\u529F</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58\u6210\u529F\uFF01&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u4FDD\u5B58\u5931\u8D25</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#6C7834;">complete</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u65E0\u8BBA\u6210\u529F \u6216 \u5931\u8D25\u6267\u884C</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u62D2\u7EDD\u83B7\u53D6\u76F8\u518C\u6743\u9650 \u6267\u884C</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showModal</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u60A8\u5DF2\u62D2\u7EDD\u83B7\u53D6\u76F8\u518C\u6743\u9650&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#B58451;">content</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u662F\u5426\u8FDB\u5165\u6743\u9650\u7BA1\u7406\uFF0C\u8C03\u6574\u6388\u6743\uFF1F&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">confirm</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">openSetting</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                              </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                                </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">authSetting</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">                              </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">cancel</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                              </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5DF2\u53D6\u6D88\uFF01&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                          </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">saveImageToPhotosAlbum</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">filePath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">resFile</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58\u6210\u529F\uFF01&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#6C7834;">complete</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u65E0\u8BBA\u6210\u529F \u6216 \u5931\u8D25\u6267\u884C</span></span>
<span class="line"><span style="color:#393A34;">                      </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// resFile.statusCode === 200 \u6CA1\u6709\u5BF9</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;resFile.statusCode === 200 \u6CA1\u6709\u5BF9&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">resFile</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// uni.downloadFile \u8FDB\u5165 \u5931\u8D25\u56DE\u8C03</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;uni.downloadFile \u8FDB\u5165 \u5931\u8D25\u56DE\u8C03&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"></span></code></pre></div><h2 id="uniapp-\u5B9E\u73B0\u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u5F00\u53D1-2021-03-01" tabindex="-1">Uniapp \u5B9E\u73B0\u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u5F00\u53D1 (2021-03-01) <a class="header-anchor" href="#uniapp-\u5B9E\u73B0\u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u5F00\u53D1-2021-03-01" aria-hidden="true">#</a></h2><p>\u601D\u8DEF\uFF1A \u901A\u8FC7 canvas \u7ED8\u5236\u6D77\u62A5\u3002\u901A\u8FC7<code>uni.canvasToTempFilePath</code> \u5C06\u7ED8\u5236\u597D\u7684 canvas \u8F6C\u4E3A\u56FE\u7247\u3002\u901A\u8FC7<code>uni.saveImageToPhotosAlbum</code> \u5C06\u672C\u5730\u4E34\u65F6\u8DEF\u5F84\u7684\u56FE\u7247\u4FDD\u5B58\u81F3\u624B\u673A\u76F8\u518C\u4E2D\u3002</p><h3 id="\u901A\u8FC7-canvas-\u7ED8\u5236\u6D77\u62A5\u5185\u5BB9\u7684\u987A\u5E8F\u5148\u540E\u95EE\u9898" tabindex="-1">\u901A\u8FC7 canvas \u7ED8\u5236\u6D77\u62A5\u5185\u5BB9\u7684\u987A\u5E8F\u5148\u540E\u95EE\u9898 <a class="header-anchor" href="#\u901A\u8FC7-canvas-\u7ED8\u5236\u6D77\u62A5\u5185\u5BB9\u7684\u987A\u5E8F\u5148\u540E\u95EE\u9898" aria-hidden="true">#</a></h3><p>\u901A\u8FC7\u4F7F\u7528 promise \u5BF9\u8C61\u51B3\u5B9A\u7ED8\u5236\u6D77\u62A5\u5185\u5BB9\u7684\u987A\u5E8F\u5148\u540E\u3002<code>promise.all() </code>\u65B9\u6CD5\u8FDB\u884C canvas \u6700\u540E\u4E00\u6B65\u7684\u7ED8\u753B\u64CD\u4F5C <code>context.draw()</code></p><h3 id="\u6CE8\u610F-uni-getimageinfo" tabindex="-1">\u6CE8\u610F uni.getImageInfo() <a class="header-anchor" href="#\u6CE8\u610F-uni-getimageinfo" aria-hidden="true">#</a></h3><ol><li>\u5728\u7ED8\u5236\u56FE\u7247 \u548C \u5934\u50CF\u65F6\uFF0C\u7EC4\u4EF6\u901A\u8FC7<code>uni.getImageInfo() </code> \u53BB\u83B7\u53D6\u56FE\u7247\u7684\u76F8\u5173\u4FE1\u606F\uFF0C\u8C03\u7528\u8BE5\u65B9\u6CD5\u6210\u529F\u7684\u524D\u63D0\u662F\u9700\u8981\u5728\u5FAE\u578B\u5C0F\u7A0B\u5E8F\u540E\u53F0\u914D\u7F6E download \u57DF\u540D\u548C request \u57DF\u540D\u5F53\u7136\u6700\u597D\u628A uploadFile \u57DF\u540D\u4E5F\u4E00\u8D77\u914D\u7F6E\uFF0C\u9632\u6B62\u51FA\u5DEE\u9519\u3002\u4F46\u662F\u5B98\u65B9\u7ED9\u51FA\u7684\u63D0\u793A\u662F\u914D\u7F6E download \u57DF\u540D\u767D\u540D\u5355\u5373\u53EF\uFF0C\u4F46\u662F\u83B7\u53D6\u4E0D\u5230\u56FE\u7247\u4FE1\u606F\uFF0C\u8FD9\u7B97\u662F\u4E00\u4E2A\u5927\u5751\u4E86\u3002</li><li>\u5982\u679C\u6CA1\u6709\u8FDB\u884C\u76F8\u5173\u914D\u7F6E\uFF0C\u5728\u8C03\u8BD5\u65F6 \u6216\u8005 \u4F53\u9A8C\u7248 \u6B63\u5F0F\u7248\u7B49 \u6253\u5F00\u4E86 vconsole\u3002uni.getImageInfo() \u662F\u53EF\u4EE5\u83B7\u53D6\u5230\u56FE\u7247\u4FE1\u606F\u7684\uFF0C\u4E00\u65E6\u5173\u95ED\u4E86 vconsole uni.getImageInfo() \u5C06\u4F1A fail\uFF0C \u4E5F\u662F\u4E2A\u5751\u3002</li></ol><h3 id="\u91CD\u70B9\u7EC4\u4EF6\u65B9\u6CD5\uFF0C\u53D8\u91CF\u4ECB\u7ECD" tabindex="-1">\u91CD\u70B9\u7EC4\u4EF6\u65B9\u6CD5\uFF0C\u53D8\u91CF\u4ECB\u7ECD <a class="header-anchor" href="#\u91CD\u70B9\u7EC4\u4EF6\u65B9\u6CD5\uFF0C\u53D8\u91CF\u4ECB\u7ECD" aria-hidden="true">#</a></h3><h4 id="props" tabindex="-1">props <a class="header-anchor" href="#props" aria-hidden="true">#</a></h4><ol><li>canvasInfo Object \uFF08\u5FC5\u9700\uFF09 <ol><li>canvasWidth \u753B\u5E03\u5BBD\u5EA6</li><li>canvasHeight \u753B\u5E03\u9AD8\u5EA6</li><li>canvasId \u753B\u5E03\u6807\u8BC6</li></ol></li><li>isFullScreen Boolean <ol><li>\u4E3A ture \u65F6\u8868\u793A\u753B\u5E03\u4E3A\u624B\u673A\u5C4F\u5E55\u5168\u5C4F\uFF0CcanvasInfo \u8BBE\u7F6E\u7684\u5BBD\u9AD8\u5C06\u5931\u6548\u3002</li><li>\u9ED8\u8BA4\u4E3A false</li></ol></li></ol><h4 id="methods" tabindex="-1">methods <a class="header-anchor" href="#methods" aria-hidden="true">#</a></h4><ol><li>canvasInit(callback) canvas \u521D\u59CB\u5316\uFF0C\u6240\u6709\u6709\u5173\u753B\u5E03 canvas \u64CD\u4F5C\u9700\u5728\u5176\u56DE\u8C03\u51FD\u6570\u64CD\u4F5C\u3002</li><li>drawCanvasImage(context, src, _imageWidth, _imageHeight, dx, dy) \u5728 canvas \u7ED8\u5236\u4E00\u5F20\u56FE\u7247</li><li>drawCircularAvatar(context, url, _circularX, _circularY, _circularR) \u5728 canvas \u7ED8\u5236\u4E00\u5F20\u5706\u5F62\u56FE\u7247</li><li>drawText(options) \u5728 canvas \u7ED8\u5236\u5355\u884C\u3001\u591A\u884C\u6587\u672C</li><li>startDrawToImage(context, promiseArr, callback) \u5C06 canvas \u64CD\u4F5C draw()\u8FDB\u884C\u7ED8\u5236</li><li>posterToPhotosAlbum(filePath) \u4FDD\u5B58\u81F3\u624B\u673A\u76F8\u518C</li></ol><h3 id="\u5FEB\u901F\u4E0A\u624B" tabindex="-1">\u5FEB\u901F\u4E0A\u624B <a class="header-anchor" href="#\u5FEB\u901F\u4E0A\u624B" aria-hidden="true">#</a></h3><ol><li>\u5F15\u5165\u5E76\u7EC4\u4EF6\u6587\u4EF6</li></ol><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">SavePosterCom</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;@/components/SavePosterCom/SavePosterCom.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A1B567;">components</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">SavePosterCom</span></span>
<span class="line"><span style="color:#858585;">},</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">SavePosterCom</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;@/components/SavePosterCom/SavePosterCom.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">components</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">SavePosterCom</span></span>
<span class="line"><span style="color:#8E8F8B;">},</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4F7F\u7528\u7EC4\u4EF6</li></ol><div class="language-vue"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">canvasInfo: { canvasWidth: 350, canvasHeight: 550, canvasId: &#39;save-poster&#39; },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">&lt;save-poster-com ref=&quot;savePoster&quot; :canvasInfo=&quot;canvasInfo&quot;&gt;&lt;/save-poster-com&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">canvasInfo: { canvasWidth: 350, canvasHeight: 550, canvasId: &#39;save-poster&#39; },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">&lt;save-poster-com ref=&quot;savePoster&quot; :canvasInfo=&quot;canvasInfo&quot;&gt;&lt;/save-poster-com&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u7EC4\u4EF6\u7ED8\u5236\u64CD\u4F5C</li></ol><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// drawCanvasImage, drawCircularAvatar, drawText \u65B9\u6CD5\u91CC\u90FD\u672A\u6D89\u53CA\u5230\u7EC4\u4EF6\u5B9E\u4F8Bthis\u76F8\u5173\u7684\u64CD\u4F5C\u53EF\u4EE5\u5355\u72EC\u63D0\u53D6\u51FA\u6765\u3002</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">drawCanvasImage</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">drawCircularAvatar</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">drawText</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$options</span><span style="color:#858585;">.</span><span style="color:#B8A965;">methods</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// context \u4E3A\u7EC4\u4EF6\u753B\u5E03\u5B9E\u4F8B\uFF0C comThis\u4E3A\u7EC4\u4EF6this</span></span>
<span class="line"><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#A1B567;">canvasInit</span><span style="color:#858585;">(({</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">comThis</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasWH</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">comThis</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// 1. \u7ED8\u5236\u6D77\u62A5\u80CC\u666F\u56FE</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_1</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawCanvasImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasBgUrl</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u5FC5\u987B\u5148\u7ED8\u5236\u73A9\u6D77\u62A5\u80CC\u666F\u56FE \u518D\u53BB\u64CD\u4F5C\u5176\u4ED6\u7ED8\u5236\u5185\u5BB9\uFF0C\u9632\u6B62\u80CC\u666F\u56FE\u8986\u76D6\u5176\u5B83\u7ED8\u5236\u7684\u5185\u5BB9\u3002</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">promise_1</span><span style="color:#858585;">.</span><span style="color:#A1B567;">then</span><span style="color:#858585;">((</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// 2. \u7ED8\u5236\u7528\u6237\u5934\u50CF</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawCircularAvatar</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">avatarUrl</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">7</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#6394BF;">40</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// 3. \u7ED8\u5236\u7528\u6237\u540D</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_3</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawText</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">context</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5DE5\u5177\u4EBA&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">dx</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">dy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3.6</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">fontSize</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">20</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">fontColor</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;red&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// 4. \u7ED8\u5236\u4E8C\u7EF4\u7801</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_4</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawCanvasImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">qrCodeUrl</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#6394BF;">100</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#6394BF;">100</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">50</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u5728\u4E0A\u9762 1,2,3,4\u64CD\u4F5C\u540E\uFF0C\u8FDB\u884Cdraw()\uFF0C\u5728startDrawToImage \u7B2C\u4E09\u4E2A\u56DE\u8C03\u51FD\u6570\u4E2D\u8FD4\u56DE\u4E34\u65F6\u56FE\u7247\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#A1B567;">startDrawToImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">[</span><span style="color:#B8A965;">promise_1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_4</span><span style="color:#858585;">],</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">(</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// drawCanvasImage, drawCircularAvatar, drawText \u65B9\u6CD5\u91CC\u90FD\u672A\u6D89\u53CA\u5230\u7EC4\u4EF6\u5B9E\u4F8Bthis\u76F8\u5173\u7684\u64CD\u4F5C\u53EF\u4EE5\u5355\u72EC\u63D0\u53D6\u51FA\u6765\u3002</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">drawCanvasImage</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">drawCircularAvatar</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">drawText</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$options</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">methods</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// context \u4E3A\u7EC4\u4EF6\u753B\u5E03\u5B9E\u4F8B\uFF0C comThis\u4E3A\u7EC4\u4EF6this</span></span>
<span class="line"><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">canvasInit</span><span style="color:#8E8F8B;">(({</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">comThis</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasWH</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">comThis</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// 1. \u7ED8\u5236\u6D77\u62A5\u80CC\u666F\u56FE</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawCanvasImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasBgUrl</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u5FC5\u987B\u5148\u7ED8\u5236\u73A9\u6D77\u62A5\u80CC\u666F\u56FE \u518D\u53BB\u64CD\u4F5C\u5176\u4ED6\u7ED8\u5236\u5185\u5BB9\uFF0C\u9632\u6B62\u80CC\u666F\u56FE\u8986\u76D6\u5176\u5B83\u7ED8\u5236\u7684\u5185\u5BB9\u3002</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">promise_1</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// 2. \u7ED8\u5236\u7528\u6237\u5934\u50CF</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawCircularAvatar</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">avatarUrl</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">7</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#296AA3;">40</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// 3. \u7ED8\u5236\u7528\u6237\u540D</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_3</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawText</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">context</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5DE5\u5177\u4EBA&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">dx</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">dy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3.6</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">fontSize</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">20</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">fontColor</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;red&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// 4. \u7ED8\u5236\u4E8C\u7EF4\u7801</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_4</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawCanvasImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">qrCodeUrl</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">50</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u5728\u4E0A\u9762 1,2,3,4\u64CD\u4F5C\u540E\uFF0C\u8FDB\u884Cdraw()\uFF0C\u5728startDrawToImage \u7B2C\u4E09\u4E2A\u56DE\u8C03\u51FD\u6570\u4E2D\u8FD4\u56DE\u4E34\u65F6\u56FE\u7247\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">startDrawToImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">promise_1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_4</span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>\u4FDD\u5B58\u56FE\u7247\u81F3\u624B\u673A\u76F8\u518C\u64CD\u4F5C</li></ol><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">saveBtnFun</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showModal</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u4FDD\u5B58\u6D77\u62A5&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">content</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u6D77\u62A5\u5C06\u4FDD\u5B58\u81F3\u672C\u5730\u76F8\u518C\u4E2D&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">confirmText</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u4FDD\u5B58&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">if</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">confirm</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#A1B567;">posterToPhotosAlbum</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">saveBtnFun</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showModal</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u4FDD\u5B58\u6D77\u62A5&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">content</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u6D77\u62A5\u5C06\u4FDD\u5B58\u81F3\u672C\u5730\u76F8\u518C\u4E2D&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">confirmText</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u4FDD\u5B58&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">if</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">confirm</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">posterToPhotosAlbum</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B\u6E90\u7801" tabindex="-1">\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B\u6E90\u7801 <a class="header-anchor" href="#\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B\u6E90\u7801" aria-hidden="true">#</a></h3><div class="language-vue"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">scroll-view</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#E0A569;">scroll-x</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#858585;">      :</span><span style="color:#E0A569;">scroll-with-animation</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#4D9375;">true</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">      @</span><span style="color:#E0A569;">scroll</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">scroll</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">    &gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePosterItem&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">image</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#E0A569;">src</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">image</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">save-poster-com</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">ref</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#858585;">          :</span><span style="color:#E0A569;">canvasInfo</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">        &gt;&lt;/</span><span style="color:#429988;">save-poster-com</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePosterItem&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">image</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#E0A569;">src</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">image</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">save-poster-com</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">ref</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#858585;">          :</span><span style="color:#E0A569;">canvasInfo</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">        &gt;&lt;/</span><span style="color:#429988;">save-poster-com</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePosterItem&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">image</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#E0A569;">src</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">image</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">save-poster-com</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">ref</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#858585;">          :</span><span style="color:#E0A569;">canvasInfo</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">        &gt;&lt;/</span><span style="color:#429988;">save-poster-com</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePosterItem&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">image</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#E0A569;">src</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">image</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">save-poster-com</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">v-show</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#E0A569;">ref</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#858585;">          :</span><span style="color:#E0A569;">canvasInfo</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">        &gt;&lt;/</span><span style="color:#429988;">save-poster-com</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">scroll-view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">button</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;savePosterBtn&quot;</span><span style="color:#858585;"> </span><span style="color:#E0A569;">type</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;primary&quot;</span><span style="color:#858585;"> @</span><span style="color:#E0A569;">click</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">saveBtnFun</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      \u4FDD\u5B58\u6D77\u62A5</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">button</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">SavePosterCom</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;@/components/SavePosterCom/SavePosterCom.vue&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;savePosterTwo&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">components</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">SavePosterCom</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">data</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">canvasInfo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">canvasWidth</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">350</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">canvasHeight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">550</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">canvasId</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;save-poster&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">canvasBgUrl</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;https://img0.baidu.com/it/u=3057618655,2802941403&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">avatarUrl</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;https://img0.baidu.com/it/u=1680160535,2861893475&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">qrCodeUrl</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;https://bkimg.cdn.bcebos.com/pic/2934349b033b5bb571dc8c5133d3d539b600bc12?x-bce-process=image/resize,m_lfit,w_268,limit_1/format,f_jpg&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">tempFilePath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">onLoad</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">drawCanvasImage</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">drawCircularAvatar</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">drawText</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$options</span><span style="color:#858585;">.</span><span style="color:#B8A965;">methods</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#A1B567;">canvasInit</span><span style="color:#858585;">(({</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">comThis</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasWH</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">comThis</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u7ED8\u5236\u6D77\u62A5\u80CC\u666F\u56FE</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_1</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawCanvasImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasBgUrl</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u5FC5\u987B\u5148\u7ED8\u5236\u73A9\u6D77\u62A5\u80CC\u666F\u56FE \u518D\u53BB\u64CD\u4F5C\u5176\u4ED6\u7ED8\u5236\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">promise_1</span><span style="color:#858585;">.</span><span style="color:#A1B567;">then</span><span style="color:#858585;">((</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawCircularAvatar</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">avatarUrl</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">7</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#6394BF;">40</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_3</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawText</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">context</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">text</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5CB3\u4E91\u9E4F&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">dx</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">dy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3.6</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">fontSize</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">20</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">fontColor</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;red&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_4</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">drawCanvasImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">qrCodeUrl</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#6394BF;">100</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#6394BF;">100</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">50</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#A1B567;">startDrawToImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">[</span><span style="color:#B8A965;">promise_1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promise_4</span><span style="color:#858585;">],</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">(</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">methods</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">scroll</span><span style="color:#858585;">(</span><span style="color:#B8A965;">e</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">scrollWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">detail</span><span style="color:#858585;">.</span><span style="color:#B8A965;">scrollWidth</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">scrollLeft</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">detail</span><span style="color:#858585;">.</span><span style="color:#B8A965;">scrollLeft</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">scale</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">scrollLeft</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">scrollWidth</span><span style="color:#858585;">).</span><span style="color:#A1B567;">toFixed</span><span style="color:#858585;">(</span><span style="color:#6394BF;">2</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;scale&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">scale</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">saveBtnFun</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showModal</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58\u6D77\u62A5&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">content</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u9009\u62E9\u7B2C\u4E09\u5F20\u6D77\u62A5\u4FDD\u5B58\u5230\u672C\u5730\u76F8\u518C\u4E2D&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">confirmText</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">confirm</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">$refs</span><span style="color:#858585;">.</span><span style="color:#B8A965;">savePoster</span><span style="color:#858585;">.</span><span style="color:#A1B567;">posterToPhotosAlbum</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">savePoster</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">overflow</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">hidden</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">white-space</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nowrap</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> // \u6EDA\u52A8\u5FC5\u987B\u52A0\u7684\u5C5E\u6027</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">savePosterItem</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">display</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">inline-block</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1000</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">margin</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">text-align</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">center</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#758575;">/* border: 1rpx solid #007AFF; */</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">savePosterItem</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">image</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">savePosterItem</span><span style="color:#858585;">:</span><span style="color:#E0A569;">first-of-type</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">margin-left</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">40</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">savePosterItem</span><span style="color:#858585;">:</span><span style="color:#E0A569;">last-of-type</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">margin-right</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">40</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">savePosterBtn</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">margin-top</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">40</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">scroll-view</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#B58451;">scroll-x</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      :</span><span style="color:#B58451;">scroll-with-animation</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#1C6B48;">true</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      @</span><span style="color:#B58451;">scroll</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">scroll</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">    &gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePosterItem&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">image</span><span style="color:#393A34;"> </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">src</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">save-poster-com</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">ref</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          :</span><span style="color:#B58451;">canvasInfo</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">        &gt;&lt;/</span><span style="color:#2F8A89;">save-poster-com</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePosterItem&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">image</span><span style="color:#393A34;"> </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">src</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">save-poster-com</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">ref</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          :</span><span style="color:#B58451;">canvasInfo</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">        &gt;&lt;/</span><span style="color:#2F8A89;">save-poster-com</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePosterItem&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">image</span><span style="color:#393A34;"> </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">src</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">save-poster-com</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">ref</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          :</span><span style="color:#B58451;">canvasInfo</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">        &gt;&lt;/</span><span style="color:#2F8A89;">save-poster-com</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePosterItem&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">image</span><span style="color:#393A34;"> </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">src</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">save-poster-com</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">v-show</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#B58451;">ref</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePoster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">          :</span><span style="color:#B58451;">canvasInfo</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">        &gt;&lt;/</span><span style="color:#2F8A89;">save-poster-com</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">scroll-view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">button</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;savePosterBtn&quot;</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;primary&quot;</span><span style="color:#8E8F8B;"> @</span><span style="color:#B58451;">click</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">saveBtnFun</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      \u4FDD\u5B58\u6D77\u62A5</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">button</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">SavePosterCom</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;@/components/SavePosterCom/SavePosterCom.vue&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#1C6B48;">export</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">default</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;savePosterTwo&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">components</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">SavePosterCom</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">data</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">canvasInfo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">canvasWidth</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">350</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">canvasHeight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">550</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">canvasId</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;save-poster&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">canvasBgUrl</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;https://img0.baidu.com/it/u=3057618655,2802941403&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">avatarUrl</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;https://img0.baidu.com/it/u=1680160535,2861893475&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">qrCodeUrl</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;https://bkimg.cdn.bcebos.com/pic/2934349b033b5bb571dc8c5133d3d539b600bc12?x-bce-process=image/resize,m_lfit,w_268,limit_1/format,f_jpg&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">tempFilePath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">onLoad</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">drawCanvasImage</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">drawCircularAvatar</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">drawText</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$options</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">methods</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">canvasInit</span><span style="color:#8E8F8B;">(({</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">comThis</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasWH</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">comThis</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u7ED8\u5236\u6D77\u62A5\u80CC\u666F\u56FE</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawCanvasImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasBgUrl</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u5FC5\u987B\u5148\u7ED8\u5236\u73A9\u6D77\u62A5\u80CC\u666F\u56FE \u518D\u53BB\u64CD\u4F5C\u5176\u4ED6\u7ED8\u5236\u5185\u5BB9</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">promise_1</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawCircularAvatar</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">avatarUrl</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">7</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#296AA3;">40</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_3</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawText</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">context</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">text</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5CB3\u4E91\u9E4F&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">dx</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">dy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3.6</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">fontSize</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">20</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">fontColor</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;red&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_4</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">drawCanvasImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">qrCodeUrl</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">50</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">startDrawToImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">promise_1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promise_4</span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">methods</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">scroll</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">scrollWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">detail</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">scrollWidth</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">scrollLeft</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">detail</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">scrollLeft</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">scale</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">scrollLeft</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">scrollWidth</span><span style="color:#8E8F8B;">).</span><span style="color:#6C7834;">toFixed</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;scale&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">scale</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">saveBtnFun</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showModal</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58\u6D77\u62A5&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">content</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u9009\u62E9\u7B2C\u4E09\u5F20\u6D77\u62A5\u4FDD\u5B58\u5230\u672C\u5730\u76F8\u518C\u4E2D&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">confirmText</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">confirm</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">$refs</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">savePoster</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">posterToPhotosAlbum</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">savePoster</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">overflow</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">hidden</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">white-space</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nowrap</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> // \u6EDA\u52A8\u5FC5\u987B\u52A0\u7684\u5C5E\u6027</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">savePosterItem</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">display</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">inline-block</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1000</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">margin</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">20</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">text-align</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">center</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">/* border: 1rpx solid #007AFF; */</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">savePosterItem</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">image</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">savePosterItem</span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">first-of-type</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">margin-left</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">40</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">savePosterItem</span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">last-of-type</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">margin-right</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">40</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">savePosterBtn</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">margin-top</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">40</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="\u7EC4\u4EF6\u6E90\u7801" tabindex="-1">\u7EC4\u4EF6\u6E90\u7801 <a class="header-anchor" href="#\u7EC4\u4EF6\u6E90\u7801" aria-hidden="true">#</a></h3><div class="language-vue"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">canvas</span></span>
<span class="line"><span style="color:#858585;">      :</span><span style="color:#E0A569;">canvas-id</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasId</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">      :</span><span style="color:#E0A569;">style</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#E0A569;">width</span><span style="color:#858585;">: </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#858585;"> </span><span style="color:#CB7676;">+</span><span style="color:#858585;"> </span><span style="color:#C98A7D;">&#39;px&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#E0A569;">height</span><span style="color:#858585;">: </span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#858585;"> </span><span style="color:#CB7676;">+</span><span style="color:#858585;"> </span><span style="color:#C98A7D;">&#39;px&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">      }</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">    &gt;&lt;/</span><span style="color:#429988;">canvas</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;savePosterCom&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">data</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">userPhoneWHInfo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">canvasWH</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">canvasWidth</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">canvasHeight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">props</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u51B3\u5B9A\u4FDD\u5B58\u4E0B\u6765\u7684\u56FE\u7247\u7684\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">canvasInfo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Object</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#A1B567;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">canvasWidth</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">canvasHeight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">canvasId</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;canvasId&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// canvas\u753B\u5E03\u662F\u4E0D\u662F\u5168\u5C4F\uFF0C\u9ED8\u8BA4\u662Ffalse\u3002 false\u65F6\u4F7F\u7528\u5FC5\u987B\u4F20 canvasInfo</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">isFullScreen</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Boolean</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">created</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">userPhoneWHInfo</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getPhoneSystemInfo</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">isFullScreen</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u753B\u5E03\u5168\u5C4F</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">userPhoneWHInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">windowWidth</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">userPhoneWHInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">windowHeight</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u6307\u5B9A\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWidth</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasWH</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasHeight</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">mounted</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">methods</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/**</span></span>
<span class="line"><span style="color:#758575;">     * \u83B7\u53D6\u7528\u6237\u624B\u673A\u5C4F\u5E55\u4FE1\u606F</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">getPhoneSystemInfo</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">res</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getSystemInfoSync</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">windowWidth</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">windowWidth</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">windowHeight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">windowHeight</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u83B7\u53D6 CanvasContext\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#858585;">{</span><span style="color:#A1B567;">String</span><span style="color:#858585;">}</span><span style="color:#758575;"> </span><span style="color:#B8A965;">canvasId</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">getCanvasContextInit</span><span style="color:#858585;">(</span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">createCanvasContext</span><span style="color:#858585;">(</span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u521D\u59CB\u5316</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#858585;">{</span><span style="color:#A1B567;">Function</span><span style="color:#858585;">}</span><span style="color:#758575;"> </span><span style="color:#B8A965;">callback</span><span style="color:#758575;">(context) \u56DE\u8C03\u51FD\u6570</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">canvasInit</span><span style="color:#858585;">(</span><span style="color:#B8A965;">callback</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">context</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getCanvasContextInit</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">callback</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">context</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">comThis</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u5C06\u4E0A\u8BC9\u7684\u7ED8\u5236\u753B\u5230\u753B\u5E03\u4E2D \u5E76\u4E14 \u5C06\u753B\u5E03\u5BFC\u51FA\u4E3A\u56FE\u7247</span></span>
<span class="line"><span style="color:#758575;">     *  </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">context</span><span style="color:#758575;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#758575;">     *  </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#858585;">{</span><span style="color:#A1B567;">Promise[]</span><span style="color:#858585;">}</span><span style="color:#758575;"> \u5B58\u653EPromise\u7684\u6570\u7EC4</span></span>
<span class="line"><span style="color:#758575;">     *  </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#858585;">{</span><span style="color:#A1B567;">Function</span><span style="color:#858585;">}</span><span style="color:#758575;"> </span><span style="color:#B8A965;">callback</span><span style="color:#758575;"> \u4FDD\u5B58\u56FE\u7247\u540E\u6267\u884C\u7684\u56DE\u8C03\u51FD\u6570(\u672C\u5730\u56FE\u7247\u4E34\u65F6\u8DEF\u5F84)</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">startDrawToImage</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">promiseArr</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">callback</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u5C06\u4E4B\u524D\u5728\u7ED8\u56FE\u4E0A\u4E0B\u6587\u4E2D\u7684\u63CF\u8FF0\uFF08\u8DEF\u5F84\u3001\u53D8\u5F62\u3001\u6837\u5F0F\uFF09\u753B\u5230 canvas \u4E2D</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasId</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">tempFilePath</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">.</span><span style="color:#A1B567;">all</span><span style="color:#858585;">(</span><span style="color:#B8A965;">promiseArr</span><span style="color:#858585;">).</span><span style="color:#A1B567;">then</span><span style="color:#858585;">((</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">draw</span><span style="color:#858585;">(</span><span style="color:#4D9375;">false</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#A1B567;">callback</span><span style="color:#858585;">(</span><span style="color:#4D9375;">await</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">canvasToImage</span><span style="color:#858585;">(</span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">));</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/**</span></span>
<span class="line"><span style="color:#758575;">     * \u5728canvas\u7ED8\u5236\u4E00\u5F20\u56FE\u7247</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">context</span><span style="color:#758575;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">src</span><span style="color:#758575;"> \u56FE\u7247\u8D44\u6E90</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">_imageWidth</span><span style="color:#758575;"> \u56FE\u7247\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">_imageHeight</span><span style="color:#758575;"> \u56FE\u7247\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">drawCanvasImage</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">src</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_imageWidth</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_imageHeight</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dx</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dy</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">((</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getImageInfo</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">src</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">src</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">drawImage</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">path</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#B8A965;">dx</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_imageWidth</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#B8A965;">dy</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_imageHeight</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#B8A965;">_imageWidth</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#B8A965;">_imageHeight</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u7ED8\u5236\u4E00\u4E2A\u5706\u5F62\u5934\u50CF</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;">  </span><span style="color:#B8A965;">context</span><span style="color:#758575;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;">  </span><span style="color:#B8A965;">url</span><span style="color:#758575;">     \u56FE\u7247\u5730\u5740</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;">  </span><span style="color:#B8A965;">_circularX</span><span style="color:#758575;">  \u5706\u5FC3X\u5750\u6807</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;">  </span><span style="color:#B8A965;">_circularY</span><span style="color:#758575;">  \u5706\u5FC3Y\u5750\u6807</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;">  </span><span style="color:#B8A965;">_circularR</span><span style="color:#758575;">  \u5706\u534A\u5F84</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">drawCircularAvatar</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">url</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularX</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularY</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularR</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dx</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularX</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularR</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dy</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularY</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularR</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dwidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularR</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dheight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularR</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">((</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">downloadFile</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">url</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">url</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">save</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">beginPath</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// _circularX\u5706\u7684x\u5750\u6807  _circularY\u5706\u7684y\u5750\u6807  _circularR\u5706\u7684\u534A\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">arc</span><span style="color:#858585;">(</span><span style="color:#B8A965;">_circularX</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularY</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_circularR</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">Math</span><span style="color:#858585;">.</span><span style="color:#D4976C;">PI</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">clip</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// dx: \u56FE\u50CF\u7684\u5DE6\u4E0A\u89D2\u5728\u76EE\u6807canvas\u4E0A X \u8F74\u7684\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// dy: \u56FE\u50CF\u7684\u5DE6\u4E0A\u89D2\u5728\u76EE\u6807canvas\u4E0A Y \u8F74\u7684\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// dwidth: \u5728\u76EE\u6807\u753B\u5E03\u4E0A\u7ED8\u5236\u56FE\u50CF\u7684\u5BBD\u5EA6\uFF0C\u5141\u8BB8\u5BF9\u7ED8\u5236\u7684\u56FE\u50CF\u8FDB\u884C\u7F29\u653E</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// dheight: \u5728\u76EE\u6807\u753B\u5E03\u4E0A\u7ED8\u5236\u56FE\u50CF\u7684\u9AD8\u5EA6\uFF0C\u5141\u8BB8\u5BF9\u7ED8\u5236\u7684\u56FE\u50CF\u8FDB\u884C\u7F29\u653E</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">drawImage</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dx</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dy</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dwidth</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dheight</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">restore</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// context.draw()</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u7ED8\u5236\u591A\u884C\u6587\u672C \u6CE8:, \u548C \u7A7A\u683C\u90FD\u7B97\u4E00\u4E2A\u5B57</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">context</span><span style="color:#758575;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">text</span><span style="color:#758575;"> \u9700\u8981\u88AB\u7ED8\u5236\u7684\u6587\u672C</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">dx</span><span style="color:#758575;"> \u5DE6\u4E0A\u89D2x\u5750\u6807</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">dy</span><span style="color:#758575;"> \u53F3\u4E0A\u89D2y\u5750\u6807</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">rowStrnum</span><span style="color:#758575;"> \u6BCF\u884C\u591A\u5C11\u4E2A\u5B57 (\u9ED8\u8BA4\u4E3Atext\u5B57\u4F53\u4E2A\u6570-&gt;\u5355\u884C)</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">fontSize</span><span style="color:#758575;"> \u6587\u5B57\u5927\u5C0F \uFF08\u9ED8\u8BA416\uFF09</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">fontColor</span><span style="color:#758575;"> \u6587\u5B57\u989C\u8272 (\u9ED8\u8BA4black)</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">lineHeight</span><span style="color:#758575;"> \u5355\u884C\u6587\u672C\u884C\u9AD8 (\u9ED8\u8BA40)</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">drawText</span><span style="color:#858585;">(</span><span style="color:#B8A965;">options</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">context</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">text</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">dx</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">dy</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">rowStrnum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">text</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">lineHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">fontSize</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">16</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">fontColor</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;black&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">options</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">((</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setFontSize</span><span style="color:#858585;">(</span><span style="color:#B8A965;">fontSize</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setFillStyle</span><span style="color:#858585;">(</span><span style="color:#B8A965;">fontColor</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setTextBaseline</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;middle&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">// \u83B7\u53D6\u9700\u8981\u7ED8\u5236\u7684\u6587\u672C\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">textWidth</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">measureText</span><span style="color:#858585;">(</span><span style="color:#B8A965;">text</span><span style="color:#858585;">).</span><span style="color:#B8A965;">width</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">// console.log(&#39;textWidth&#39;,textWidth)</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">// \u83B7\u53D6\u6587\u672C\u7684\u5B57\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">textNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">text</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">// \u83B7\u53D6\u884C\u6570 \u5411\u4E0A\u53D6\u6574</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lineNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">Math</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ceil</span><span style="color:#858585;">(</span><span style="color:#B8A965;">textNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">rowStrnum</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">// console.log(&#39;textNum&#39;,textNum)</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">// console.log(&#39;lineNum&#39;,lineNum)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lineNum</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#CB7676;">++</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">sliceText</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">text</span><span style="color:#858585;">.</span><span style="color:#A1B567;">slice</span><span style="color:#858585;">(</span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">rowStrnum</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">rowStrnum</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">          </span><span style="color:#758575;">// fillText \u7684 dx = \u6587\u5B57\u6700\u5DE6\u8FB9\u7684\u8DDD\u79BB\u5230\u5C4F\u5E55\u653F\u7B56\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">context</span><span style="color:#858585;">.</span><span style="color:#A1B567;">fillText</span><span style="color:#858585;">(</span><span style="color:#B8A965;">sliceText</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dx</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">textWidth</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">dy</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">lineHeight</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">context</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u5C06\u753B\u5E03\u5BFC\u51FA\u4E3A\u56FE\u7247</span></span>
<span class="line"><span style="color:#758575;">     * </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#B8A965;">canvasId</span><span style="color:#758575;"> \u753B\u5E03\u6807\u8BC6</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">canvasToImage</span><span style="color:#858585;">(</span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">((</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">canvasToTempFilePath</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">canvasId</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">canvasId</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u753B\u5E03\u6807\u8BC6</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">              </span><span style="color:#758575;">// \u5728H5\u5E73\u53F0\u4E0B\uFF0CtempFilePath \u4E3A base64</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">err</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;err&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#A1B567;">reject</span><span style="color:#858585;">(</span><span style="color:#B8A965;">err</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">this</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/** \u4FDD\u5B58\u751F\u6210\u7684\u56FE\u7247\u5230\u672C\u5730\u76F8\u518C\u4E2D</span></span>
<span class="line"><span style="color:#758575;">     *  </span><span style="color:#858585;">@</span><span style="color:#CB7676;">param</span><span style="color:#758575;"> </span><span style="color:#858585;">{</span><span style="color:#A1B567;">String</span><span style="color:#858585;">}</span><span style="color:#758575;"> </span><span style="color:#B8A965;">filePath</span><span style="color:#758575;"> \u56FE\u7247\u4E34\u65F6\u8DEF\u52B2</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">posterToPhotosAlbum</span><span style="color:#858585;">(</span><span style="color:#B8A965;">filePath</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showLoading</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58\u4E2D...&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">saveImageToPhotosAlbum</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">filePath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">filePath</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58\u6210\u529F\uFF0C\u8BF7\u524D\u5F80\u624B\u673A\u76F8\u518C\u4E2D\u67E5\u770B&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">mask</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;none&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">duration</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">err</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;err&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">err</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">.</span><span style="color:#A1B567;">includes</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;deny&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">||</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">.</span><span style="color:#A1B567;">includes</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;denied&quot;</span><span style="color:#858585;">))</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// \u7528\u6237\u9009\u62E9\u62D2\u7EDD</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">openSetting</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">err</span><span style="color:#858585;">.</span><span style="color:#B8A965;">errMsg</span><span style="color:#858585;">.</span><span style="color:#A1B567;">includes</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;fail cancel&quot;</span><span style="color:#858585;">))</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;">// \u7528\u6237\u5728\u4FDD\u5B58\u56FE\u7247\u65F6 \u53D6\u6D88\u4E86</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5DF2\u53D6\u6D88\u4FDD\u5B58\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u81F3\u76F8\u518C&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">mask</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;none&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">duration</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">return</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">complete</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">hideLoading</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/**</span></span>
<span class="line"><span style="color:#758575;">     * \u6253\u5F00\u6444\u50CF\u5934\u8BBE\u7F6E\u6743\u9650\u9875\u9762</span></span>
<span class="line"><span style="color:#758575;">     */</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">openSetting</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showModal</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u6E29\u99A8\u63D0\u793A&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">content</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u4FDD\u5B58\u56FE\u7247\u81F3\u76F8\u518C\u4E2D\uFF0C\u9700\u8981\u60A8\u540C\u610F\u6DFB\u52A0\u8BBF\u95EE\u76F8\u518C\u6743\u9650&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">cancelText</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u62D2\u7EDD&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">confirmText</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u540C\u610F&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">confirm</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">openSetting</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">settingdata</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">settingdata</span><span style="color:#858585;">.</span><span style="color:#B8A965;">authSetting</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;scope.writePhotosAlbum&quot;</span><span style="color:#858585;">])</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#C98A7D;">&quot;\u83B7\u53D6\u6743\u9650\u6210\u529F\uFF0C\u7ED9\u51FA\u518D\u6B21\u70B9\u51FB\u56FE\u7247\u4FDD\u5B58\u5230\u76F8\u518C\u7684\u63D0\u793A\u3002&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u6388\u6743\u6210\u529F\uFF0C\u8BF7\u518D\u6B21\u70B9\u51FB\u4FDD\u5B58&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;none&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">duration</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;\u83B7\u53D6\u6743\u9650\u5931\u8D25\uFF0C\u7ED9\u51FA\u4E0D\u7ED9\u6743\u9650\u5C31\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\u7684\u63D0\u793A&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u9700\u8981\u8BBF\u95EE\u76F8\u518C\u6743\u9650&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;none&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                    </span><span style="color:#E0A569;">duration</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;err&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5DF2\u62D2\u7EDD\u6388\u6743\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u81F3\u76F8\u518C&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">mask</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;none&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#E0A569;">duration</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">return</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">canvas</span></span>
<span class="line"><span style="color:#8E8F8B;">      :</span><span style="color:#B58451;">canvas-id</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasId</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      :</span><span style="color:#B58451;">style</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">: </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#8E8F8B;"> </span><span style="color:#AB5959;">+</span><span style="color:#8E8F8B;"> </span><span style="color:#B56959;">&#39;px&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">: </span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#8E8F8B;"> </span><span style="color:#AB5959;">+</span><span style="color:#8E8F8B;"> </span><span style="color:#B56959;">&#39;px&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">      }</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">    &gt;&lt;/</span><span style="color:#2F8A89;">canvas</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">export</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">default</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;savePosterCom&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">data</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">userPhoneWHInfo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">canvasWH</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">canvasWidth</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">canvasHeight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">props</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u51B3\u5B9A\u4FDD\u5B58\u4E0B\u6765\u7684\u56FE\u7247\u7684\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">canvasInfo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Object</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#6C7834;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">canvasWidth</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">canvasHeight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">canvasId</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;canvasId&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// canvas\u753B\u5E03\u662F\u4E0D\u662F\u5168\u5C4F\uFF0C\u9ED8\u8BA4\u662Ffalse\u3002 false\u65F6\u4F7F\u7528\u5FC5\u987B\u4F20 canvasInfo</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">isFullScreen</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Boolean</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">created</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">userPhoneWHInfo</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getPhoneSystemInfo</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">isFullScreen</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u753B\u5E03\u5168\u5C4F</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">userPhoneWHInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">windowWidth</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">userPhoneWHInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">windowHeight</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u6307\u5B9A\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWidth</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasWH</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasHeight</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">mounted</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">methods</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;">     * \u83B7\u53D6\u7528\u6237\u624B\u673A\u5C4F\u5E55\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">getPhoneSystemInfo</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">res</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getSystemInfoSync</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">windowWidth</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">windowWidth</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">windowHeight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">windowHeight</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u83B7\u53D6 CanvasContext\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#6C7834;">String</span><span style="color:#8E8F8B;">}</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">canvasId</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">getCanvasContextInit</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">createCanvasContext</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u4FDD\u5B58\u6D77\u62A5\u7EC4\u4EF6\u521D\u59CB\u5316</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#6C7834;">Function</span><span style="color:#8E8F8B;">}</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">callback</span><span style="color:#A0ADA0;">(context) \u56DE\u8C03\u51FD\u6570</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">canvasInit</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">callback</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">context</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getCanvasContextInit</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">callback</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">context</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">comThis</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u5C06\u4E0A\u8BC9\u7684\u7ED8\u5236\u753B\u5230\u753B\u5E03\u4E2D \u5E76\u4E14 \u5C06\u753B\u5E03\u5BFC\u51FA\u4E3A\u56FE\u7247</span></span>
<span class="line"><span style="color:#A0ADA0;">     *  </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">context</span><span style="color:#A0ADA0;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#A0ADA0;">     *  </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#6C7834;">Promise[]</span><span style="color:#8E8F8B;">}</span><span style="color:#A0ADA0;"> \u5B58\u653EPromise\u7684\u6570\u7EC4</span></span>
<span class="line"><span style="color:#A0ADA0;">     *  </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#6C7834;">Function</span><span style="color:#8E8F8B;">}</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">callback</span><span style="color:#A0ADA0;"> \u4FDD\u5B58\u56FE\u7247\u540E\u6267\u884C\u7684\u56DE\u8C03\u51FD\u6570(\u672C\u5730\u56FE\u7247\u4E34\u65F6\u8DEF\u5F84)</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">startDrawToImage</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">promiseArr</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">callback</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u5C06\u4E4B\u524D\u5728\u7ED8\u56FE\u4E0A\u4E0B\u6587\u4E2D\u7684\u63CF\u8FF0\uFF08\u8DEF\u5F84\u3001\u53D8\u5F62\u3001\u6837\u5F0F\uFF09\u753B\u5230 canvas \u4E2D</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasId</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">tempFilePath</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">all</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">promiseArr</span><span style="color:#8E8F8B;">).</span><span style="color:#6C7834;">then</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">draw</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">false</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#6C7834;">callback</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">canvasToImage</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;">     * \u5728canvas\u7ED8\u5236\u4E00\u5F20\u56FE\u7247</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">context</span><span style="color:#A0ADA0;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">src</span><span style="color:#A0ADA0;"> \u56FE\u7247\u8D44\u6E90</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">_imageWidth</span><span style="color:#A0ADA0;"> \u56FE\u7247\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">_imageHeight</span><span style="color:#A0ADA0;"> \u56FE\u7247\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">drawCanvasImage</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">src</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_imageWidth</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_imageHeight</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dx</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dy</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getImageInfo</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">src</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">src</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">drawImage</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">path</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8C862B;">dx</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_imageWidth</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8C862B;">dy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_imageHeight</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8C862B;">_imageWidth</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8C862B;">_imageHeight</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u7ED8\u5236\u4E00\u4E2A\u5706\u5F62\u5934\u50CF</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;">  </span><span style="color:#8C862B;">context</span><span style="color:#A0ADA0;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;">  </span><span style="color:#8C862B;">url</span><span style="color:#A0ADA0;">     \u56FE\u7247\u5730\u5740</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;">  </span><span style="color:#8C862B;">_circularX</span><span style="color:#A0ADA0;">  \u5706\u5FC3X\u5750\u6807</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;">  </span><span style="color:#8C862B;">_circularY</span><span style="color:#A0ADA0;">  \u5706\u5FC3Y\u5750\u6807</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;">  </span><span style="color:#8C862B;">_circularR</span><span style="color:#A0ADA0;">  \u5706\u534A\u5F84</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">drawCircularAvatar</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">url</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularX</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularY</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularR</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dx</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularX</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularR</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularY</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularR</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dwidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularR</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dheight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularR</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">downloadFile</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">url</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">url</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">save</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">beginPath</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// _circularX\u5706\u7684x\u5750\u6807  _circularY\u5706\u7684y\u5750\u6807  _circularR\u5706\u7684\u534A\u5F84</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">arc</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">_circularX</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularY</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_circularR</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">Math</span><span style="color:#8E8F8B;">.</span><span style="color:#A65E2B;">PI</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">clip</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// dx: \u56FE\u50CF\u7684\u5DE6\u4E0A\u89D2\u5728\u76EE\u6807canvas\u4E0A X \u8F74\u7684\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// dy: \u56FE\u50CF\u7684\u5DE6\u4E0A\u89D2\u5728\u76EE\u6807canvas\u4E0A Y \u8F74\u7684\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// dwidth: \u5728\u76EE\u6807\u753B\u5E03\u4E0A\u7ED8\u5236\u56FE\u50CF\u7684\u5BBD\u5EA6\uFF0C\u5141\u8BB8\u5BF9\u7ED8\u5236\u7684\u56FE\u50CF\u8FDB\u884C\u7F29\u653E</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// dheight: \u5728\u76EE\u6807\u753B\u5E03\u4E0A\u7ED8\u5236\u56FE\u50CF\u7684\u9AD8\u5EA6\uFF0C\u5141\u8BB8\u5BF9\u7ED8\u5236\u7684\u56FE\u50CF\u8FDB\u884C\u7F29\u653E</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">drawImage</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dx</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dy</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dwidth</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dheight</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">restore</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// context.draw()</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u7ED8\u5236\u591A\u884C\u6587\u672C \u6CE8:, \u548C \u7A7A\u683C\u90FD\u7B97\u4E00\u4E2A\u5B57</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">context</span><span style="color:#A0ADA0;"> \u753B\u5E03</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">text</span><span style="color:#A0ADA0;"> \u9700\u8981\u88AB\u7ED8\u5236\u7684\u6587\u672C</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">dx</span><span style="color:#A0ADA0;"> \u5DE6\u4E0A\u89D2x\u5750\u6807</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">dy</span><span style="color:#A0ADA0;"> \u53F3\u4E0A\u89D2y\u5750\u6807</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">rowStrnum</span><span style="color:#A0ADA0;"> \u6BCF\u884C\u591A\u5C11\u4E2A\u5B57 (\u9ED8\u8BA4\u4E3Atext\u5B57\u4F53\u4E2A\u6570-&gt;\u5355\u884C)</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">fontSize</span><span style="color:#A0ADA0;"> \u6587\u5B57\u5927\u5C0F \uFF08\u9ED8\u8BA416\uFF09</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">fontColor</span><span style="color:#A0ADA0;"> \u6587\u5B57\u989C\u8272 (\u9ED8\u8BA4black)</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">lineHeight</span><span style="color:#A0ADA0;"> \u5355\u884C\u6587\u672C\u884C\u9AD8 (\u9ED8\u8BA40)</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">drawText</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">options</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">text</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">dx</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">dy</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">rowStrnum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">text</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">lineHeight</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">fontSize</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">16</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">fontColor</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;black&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">options</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setFontSize</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">fontSize</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setFillStyle</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">fontColor</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setTextBaseline</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;middle&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u9700\u8981\u7ED8\u5236\u7684\u6587\u672C\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">textWidth</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">measureText</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">text</span><span style="color:#8E8F8B;">).</span><span style="color:#8C862B;">width</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">// console.log(&#39;textWidth&#39;,textWidth)</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u6587\u672C\u7684\u5B57\u6570</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">textNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">text</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u884C\u6570 \u5411\u4E0A\u53D6\u6574</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lineNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">Math</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ceil</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">textNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">rowStrnum</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">// console.log(&#39;textNum&#39;,textNum)</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">// console.log(&#39;lineNum&#39;,lineNum)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lineNum</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">sliceText</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">text</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">slice</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">rowStrnum</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">rowStrnum</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">          </span><span style="color:#A0ADA0;">// fillText \u7684 dx = \u6587\u5B57\u6700\u5DE6\u8FB9\u7684\u8DDD\u79BB\u5230\u5C4F\u5E55\u653F\u7B56\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">fillText</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">sliceText</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dx</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">textWidth</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">dy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">lineHeight</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">context</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u5C06\u753B\u5E03\u5BFC\u51FA\u4E3A\u56FE\u7247</span></span>
<span class="line"><span style="color:#A0ADA0;">     * </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">canvasId</span><span style="color:#A0ADA0;"> \u753B\u5E03\u6807\u8BC6</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">canvasToImage</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">canvasToTempFilePath</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">canvasId</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">canvasId</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u753B\u5E03\u6807\u8BC6</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">              </span><span style="color:#A0ADA0;">// \u5728H5\u5E73\u53F0\u4E0B\uFF0CtempFilePath \u4E3A base64</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;err&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#6C7834;">reject</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/** \u4FDD\u5B58\u751F\u6210\u7684\u56FE\u7247\u5230\u672C\u5730\u76F8\u518C\u4E2D</span></span>
<span class="line"><span style="color:#A0ADA0;">     *  </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">param</span><span style="color:#A0ADA0;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#6C7834;">String</span><span style="color:#8E8F8B;">}</span><span style="color:#A0ADA0;"> </span><span style="color:#8C862B;">filePath</span><span style="color:#A0ADA0;"> \u56FE\u7247\u4E34\u65F6\u8DEF\u52B2</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">posterToPhotosAlbum</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">filePath</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showLoading</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58\u4E2D...&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">saveImageToPhotosAlbum</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">filePath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">filePath</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58\u6210\u529F\uFF0C\u8BF7\u524D\u5F80\u624B\u673A\u76F8\u518C\u4E2D\u67E5\u770B&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">mask</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;none&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">duration</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;err&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">includes</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;deny&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">includes</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;denied&quot;</span><span style="color:#8E8F8B;">))</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// \u7528\u6237\u9009\u62E9\u62D2\u7EDD</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">openSetting</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">errMsg</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">includes</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;fail cancel&quot;</span><span style="color:#8E8F8B;">))</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;">// \u7528\u6237\u5728\u4FDD\u5B58\u56FE\u7247\u65F6 \u53D6\u6D88\u4E86</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5DF2\u53D6\u6D88\u4FDD\u5B58\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u81F3\u76F8\u518C&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">mask</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;none&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">duration</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">return</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">complete</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">hideLoading</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;">     * \u6253\u5F00\u6444\u50CF\u5934\u8BBE\u7F6E\u6743\u9650\u9875\u9762</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">openSetting</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showModal</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u6E29\u99A8\u63D0\u793A&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">content</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u4FDD\u5B58\u56FE\u7247\u81F3\u76F8\u518C\u4E2D\uFF0C\u9700\u8981\u60A8\u540C\u610F\u6DFB\u52A0\u8BBF\u95EE\u76F8\u518C\u6743\u9650&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">cancelText</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u62D2\u7EDD&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">confirmText</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u540C\u610F&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">confirm</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">openSetting</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">settingdata</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">settingdata</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">authSetting</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;scope.writePhotosAlbum&quot;</span><span style="color:#8E8F8B;">])</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B56959;">&quot;\u83B7\u53D6\u6743\u9650\u6210\u529F\uFF0C\u7ED9\u51FA\u518D\u6B21\u70B9\u51FB\u56FE\u7247\u4FDD\u5B58\u5230\u76F8\u518C\u7684\u63D0\u793A\u3002&quot;</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u6388\u6743\u6210\u529F\uFF0C\u8BF7\u518D\u6B21\u70B9\u51FB\u4FDD\u5B58&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;none&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">duration</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;\u83B7\u53D6\u6743\u9650\u5931\u8D25\uFF0C\u7ED9\u51FA\u4E0D\u7ED9\u6743\u9650\u5C31\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\u7684\u63D0\u793A&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u9700\u8981\u8BBF\u95EE\u76F8\u518C\u6743\u9650&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;none&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B58451;">duration</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;err&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5DF2\u62D2\u7EDD\u6388\u6743\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u81F3\u76F8\u518C&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">mask</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;none&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B58451;">duration</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">return</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6388\u6743-\u83B7\u53D6-\u7528\u6237\u4FE1\u606F\u7684-api-\u8BE6\u89E3-2021-03-04" tabindex="-1">\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6388\u6743 \u83B7\u53D6 \u7528\u6237\u4FE1\u606F\u7684 API \u8BE6\u89E3 (2021-03-04) <a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6388\u6743-\u83B7\u53D6-\u7528\u6237\u4FE1\u606F\u7684-api-\u8BE6\u89E3-2021-03-04" aria-hidden="true">#</a></h2><h3 id="_1-\u767B\u5F55-wx-login" tabindex="-1">1. \u767B\u5F55 wx.login() <a class="header-anchor" href="#_1-\u767B\u5F55-wx-login" aria-hidden="true">#</a></h3><p>\u5728\u767B\u5F55\u65F6\u524D\u7AEF\u9700\u8981\u505A\u7684\u5C31\u662F\u901A\u8FC7 <code>wx.login()</code> \u83B7\u53D6\u5230 <strong>code</strong>\u3002\u540E\u7AEF\u901A\u8FC7\u53BB\u8C03\u7528\u5FAE\u4FE1\u7684\u63A5\u53E3\u8FD4\u56DE\u7ED9\u6211\u4EEC <strong>openID\u3001session_key</strong> \u7B49\u4FE1\u606F\u3002</p><h3 id="_2-wx-checksession" tabindex="-1">2. wx.checkSession() <a class="header-anchor" href="#_2-wx-checksession" aria-hidden="true">#</a></h3><blockquote><p>\u6821\u9A8C\u7528\u6237\u5F53\u524D\u7684 <strong>session_key</strong> \u662F\u5426\u6709\u6548</p></blockquote><p>\u5F53\u7528\u6237\u8C03\u7528 login \u65F6\uFF0C\u7528\u6237\u7684 session_key \u4F1A\u88AB\u66F4\u65B0 \u4E4B\u524D\u65E7\u7684 session_key \u4F1A\u5931\u6548\u3002\u5FAE\u4FE1\u4E0D\u4F1A\u628A session_key \u7684\u6709\u6548\u671F\u544A\u77E5\u5F00\u53D1\u8005\u3002\u5F00\u53D1\u8005\u5728 session_key \u5931\u6548\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u91CD\u65B0\u6267\u884C\u767B\u5F55\u6D41\u7A0B\u83B7\u53D6\u6709\u6548\u7684 session_key\u3002\u4F46\u662F\u5F00\u53D1\u8005\u53EF\u4EE5\u81EA\u5B9A\u4E49 token\u3002</p><h3 id="_3-\u6388\u6743-wx-authorize" tabindex="-1">3.\u6388\u6743 wx.authorize() <a class="header-anchor" href="#_3-\u6388\u6743-wx-authorize" aria-hidden="true">#</a></h3><blockquote><p>\u63D0\u524D\u5411\u7528\u6237\u53D1\u8D77\u6388\u6743\u8BF7\u6C42\u3002\u8C03\u7528\u540E\u4F1A\u7ACB\u523B\u5F39\u7A97\u8BE2\u95EE\u7528\u6237\u662F\u5426\u540C\u610F\u6388\u6743\u5C0F\u7A0B\u5E8F\u4F7F\u7528\u67D0\u9879\u529F\u80FD\u6216\u83B7\u53D6\u7528\u6237\u7684\u67D0\u4E9B\u6570\u636E\uFF0C\u4F46\u4E0D\u4F1A\u5B9E\u9645\u8C03\u7528\u5BF9\u5E94\u63A5\u53E3\u3002<strong>\u5982\u679C\u7528\u6237\u4E4B\u524D\u5DF2\u7ECF\u540C\u610F\u6388\u6743\uFF0C\u5219\u4E0D\u4F1A\u51FA\u73B0\u5F39\u7A97\uFF0C\u76F4\u63A5\u8FD4\u56DE\u6210\u529F\u3002</strong></p></blockquote><p><strong>\u4E24\u79CD\u60C5\u51B5\uFF1A</strong></p><ol><li><p>\u7528\u6237\u5DF2\u6388\u6743 \u53EF\u4EE5\u77E5\u9053\u8C03\u7528\u6B64\u63A5\u53E3</p></li><li><p>\u7528\u6237\u672A\u6388\u6743 \u9700\u8981\u5F39\u51FA\u6388\u6743\u6846\u5F15\u5BFC\u7528\u6237\u6388\u6743</p></li></ol><p>\u62D2\u7EDD\u6388\u6743\uFF1A\u5173\u95ED\u6388\u6743\u6846\uFF0C\u7528\u6237\u64CD\u4F5C\u65E0\u6548 \u63A5\u6536\u6388\u6743\uFF1A\u5C06\u7528\u6237\u4FE1\u606F\u901A\u8FC7 token \u53D1\u9001\u7ED9\u540E\u53F0\uFF0C\u5E76\u4E3B\u52A8\u8BF7\u6C42\u7528\u6237\u64CD\u4F5C</p><p>\u6CE8\uFF1A scope \u4E3A scope.userInfo \u4E0D\u4F1A\u5F39\u51FA\u6388\u6743\u7A97\u53E3\u4E86\u3002 \u9700\u8981\u901A\u8FC7 button \u6309\u94AE\u7684\u65B9\u5F0F\u7528\u6237\u70B9\u51FB\u624D\u7B97\u6388\u6743\u4E86\u3002</p><h3 id="_4-\u7528\u6237\u4FE1\u606F-wx-getuserinfo" tabindex="-1">4. \u7528\u6237\u4FE1\u606F wx.getUserInfo() <a class="header-anchor" href="#_4-\u7528\u6237\u4FE1\u606F-wx-getuserinfo" aria-hidden="true">#</a></h3><p>\u6CE8\uFF1A \u6B64\u63A5\u53E3\u6709\u8C03\u6574\uFF0C\u4F7F\u7528\u8BE5\u63A5\u53E3\u5C06\u4E0D\u518D\u51FA\u73B0\u6388\u6743\u5F39\u7A97\uFF0C\u9700\u8981\u4F7F\u7528\u4E0B\u9762\u4EE3\u7801\u6765\u5F15\u5BFC\u7528\u6237\u4E3B\u52A8\u8FDB\u884C\u6388\u6743\u64CD\u4F5C\u3002</p><p><code>&lt;button open-type=&quot;getUserInfo&quot; @getuserinfo=&quot;getUserInfo&quot;&gt;</code></p><ol><li><p>\u5F53\u7528\u6237\u6CA1\u6709\u901A\u8FC7 button \u6309\u94AE\u540C\u610F\u6388\u6743\uFF0C\u8C03\u7528\u6B64\u63A5\u53E3\u4F1A\u76F4\u63A5\u62A5\u9519</p></li><li><p>\u5F53\u7528\u6237\u6388\u6743\u8FC7 \u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u6B64\u63A5\u53E3\u83B7\u53D6\u7528\u6237\u4FE1\u606F</p></li></ol><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getSetting</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u8BC1\u660E\u5DF2\u7ECF\u6388\u6743</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">authSetting</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;scope.userInfo&quot;</span><span style="color:#858585;">])</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getUserInfo</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">userInfo</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getSetting</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u8BC1\u660E\u5DF2\u7ECF\u6388\u6743</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">authSetting</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;scope.userInfo&quot;</span><span style="color:#8E8F8B;">])</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getUserInfo</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">userInfo</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><h3 id="\u5B57\u6BB5\u89E3\u91CA" tabindex="-1">\u5B57\u6BB5\u89E3\u91CA <a class="header-anchor" href="#\u5B57\u6BB5\u89E3\u91CA" aria-hidden="true">#</a></h3><ul><li><p>openId: \u7528\u6237\u552F\u4E00\u6807\u8BC6</p></li><li><p>session_key \u4F1A\u8BDD\u5BC6\u94A5 session_key \u662F\u5BF9\u7528\u6237\u6570\u636E\u8FDB\u884C\u52A0\u5BC6\u7B7E\u540D\u7684\u5BC6\u94A5\u3002\u4E3A\u4E86\u5E94\u7528\u81EA\u8EAB\u7684\u6570\u636E\u5B89\u5168\uFF0C\u53EA\u5728\u5F00\u53D1\u670D\u52A1\u5668\u548C\u5FAE\u4FE1\u670D\u52A1\u5668\u4E2D\u4EA4\u4E92\uFF0C\u4E0D\u4F1A\u53D1\u9001\u5230\u524D\u7AEF\u3002</p></li><li><p>unionID \u7528\u6237\u5728\u5F00\u653E\u5E73\u53F0\u7684\u552F\u4E00\u6807\u8BC6\u7B26\u3002\u5982\u679C\u5F00\u53D1\u8005\u62E5\u6709\u591A\u4E2A\u79FB\u52A8\u5E94\u7528\u3001\u7F51\u7AD9\u5E94\u7528\u3001\u548C\u516C\u4F17\u5E10\u53F7\uFF08\u5305\u62EC\u5C0F\u7A0B\u5E8F\uFF09\uFF0C\u53EF\u901A\u8FC7 unionid \u6765\u533A\u5206\u7528\u6237\u7684\u552F\u4E00\u6027\u3002</p></li></ul><h3 id="\u767B\u5F55\u6388\u6743\u6D41\u7A0B" tabindex="-1">\u767B\u5F55\u6388\u6743\u6D41\u7A0B <a class="header-anchor" href="#\u767B\u5F55\u6388\u6743\u6D41\u7A0B" aria-hidden="true">#</a></h3><div class="language-"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#dbd7ca;">\u8FDB\u5165\u5C0F\u7A0B\u5E8F -&gt; wx.login() \u83B7\u53D6code -&gt; wx.getUserInfo()</span></span>
<span class="line"><span style="color:#dbd7ca;"></span></span>
<span class="line"><span style="color:#dbd7ca;">wx.getUserInfo() \u6210\u529F -&gt; \u6388\u6743\u8FC7 -&gt; \u8C03\u540E\u53F0\u670D\u52A1\u5668login\u63A5\u53E3</span></span>
<span class="line"><span style="color:#dbd7ca;"></span></span>
<span class="line"><span style="color:#dbd7ca;">wx.getUserInfo() \u5931\u8D25 -&gt; \u672A\u6388\u6743\u8FC7 -&gt; \u663E\u793A\u5F39\u7A97\u767B\u5F55\u6309\u94AE\uFF0C\u5F15\u5BFC\u7528\u6237\u6388\u6743</span></span>
<span class="line"><span style="color:#dbd7ca;"></span></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393a34;">\u8FDB\u5165\u5C0F\u7A0B\u5E8F -&gt; wx.login() \u83B7\u53D6code -&gt; wx.getUserInfo()</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">wx.getUserInfo() \u6210\u529F -&gt; \u6388\u6743\u8FC7 -&gt; \u8C03\u540E\u53F0\u670D\u52A1\u5668login\u63A5\u53E3</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">wx.getUserInfo() \u5931\u8D25 -&gt; \u672A\u6388\u6743\u8FC7 -&gt; \u663E\u793A\u5F39\u7A97\u767B\u5F55\u6309\u94AE\uFF0C\u5F15\u5BFC\u7528\u6237\u6388\u6743</span></span>
<span class="line"><span style="color:#393a34;"></span></span></code></pre></div><h2 id="\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F-\u5F00\u53D1\u7248-\u4F53\u9A8C\u7248-\u6B63\u5F0F\u7248-\u73AF\u5883\u5224\u65AD-2021-03-08" tabindex="-1">\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F \u5F00\u53D1\u7248 \u4F53\u9A8C\u7248 \u6B63\u5F0F\u7248 \u73AF\u5883\u5224\u65AD (2021-03-08) <a class="header-anchor" href="#\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F-\u5F00\u53D1\u7248-\u4F53\u9A8C\u7248-\u6B63\u5F0F\u7248-\u73AF\u5883\u5224\u65AD-2021-03-08" aria-hidden="true">#</a></h2><blockquote><p>uniapp \u7684 uni.getAccountInfoSync() \u76EE\u524D\u53EA\u652F\u6301 \u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u3001\u767E\u5EA6\u5C0F\u7A0B\u5E8F\u3001QQ \u5C0F\u7A0B\u5E8F</p></blockquote><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">accountInfo</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getAccountInfoSync</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#758575;">// develop \u5F00\u53D1\u7248  trial \u4F53\u9A8C\u7248 release \u6B63\u5F0F\u7248</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">accountInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">miniProgram</span><span style="color:#858585;">.</span><span style="color:#B8A965;">envVersion</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;develop&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u5F00\u53D1\u7248</span></span>
<span class="line"><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">accountInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">miniProgram</span><span style="color:#858585;">.</span><span style="color:#B8A965;">envVersion</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;trial&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u4F53\u9A8C\u7248</span></span>
<span class="line"><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">accountInfo</span><span style="color:#858585;">.</span><span style="color:#B8A965;">miniProgram</span><span style="color:#858585;">.</span><span style="color:#B8A965;">envVersion</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;release&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u6B63\u5F0F\u7248</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">accountInfo</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getAccountInfoSync</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#A0ADA0;">// develop \u5F00\u53D1\u7248  trial \u4F53\u9A8C\u7248 release \u6B63\u5F0F\u7248</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">accountInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">miniProgram</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">envVersion</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;develop&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u5F00\u53D1\u7248</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">accountInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">miniProgram</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">envVersion</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;trial&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u4F53\u9A8C\u7248</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">accountInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">miniProgram</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">envVersion</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;release&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u6B63\u5F0F\u7248</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u9489\u9489\u5C0F\u7A0B\u5E8F-\u5F00\u53D1\u7248-\u4F53\u9A8C\u7248-\u6B63\u5F0F\u7248-\u73AF\u5883\u5224\u65AD-2021-03-08" tabindex="-1">\u9489\u9489\u5C0F\u7A0B\u5E8F \u5F00\u53D1\u7248 \u4F53\u9A8C\u7248 \u6B63\u5F0F\u7248 \u73AF\u5883\u5224\u65AD (2021-03-08) <a class="header-anchor" href="#\u9489\u9489\u5C0F\u7A0B\u5E8F-\u5F00\u53D1\u7248-\u4F53\u9A8C\u7248-\u6B63\u5F0F\u7248-\u73AF\u5883\u5224\u65AD-2021-03-08" aria-hidden="true">#</a></h2><blockquote><p>\u4F7F\u7528\u573A\u666F\uFF1A \u4E0D\u540C\u73AF\u5883\u9700\u8981\u4F7F\u7528\u4E0D\u540C\u7684\u63A5\u53E3\u5730\u5740\u7B49\u53D8\u91CF\u3002 \u4F7F\u7528 uniapp \u4E3A\u4F8B</p></blockquote><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// #ifdef MP-ALIPAY</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">dd</span><span style="color:#858585;">.</span><span style="color:#B8A965;">isIDE</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// IDE\u5F00\u53D1\u73AF\u5883\u4E0B</span></span>
<span class="line"><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">__appxStartupParams</span><span style="color:#858585;">.</span><span style="color:#B8A965;">source</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;trial&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u9489\u9489\u4F53\u9A8C\u7248</span></span>
<span class="line"><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u6CE8\uFF1A \u5728\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u8005\u5DE5\u5177\u8FDB\u884C\u771F\u673A\u8C03\u8BD5\u4E0D\u662F\u8FDB\u5165  dd.isIDE \u4E5F\u4E0D\u662F trial\u3002\u6240\u4EE5\u9ED8\u8BA4\u8FDB\u5165 else</span></span>
<span class="line"><span style="color:#858585;">  </span><span style="color:#758575;">// \u9ED8\u8BA4\u4F7F\u7528\u6B63\u5F0F</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#758575;">// #endif</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// #ifdef MP-ALIPAY</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">dd</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">isIDE</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// IDE\u5F00\u53D1\u73AF\u5883\u4E0B</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">__appxStartupParams</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">source</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;trial&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u9489\u9489\u4F53\u9A8C\u7248</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u6CE8\uFF1A \u5728\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u8005\u5DE5\u5177\u8FDB\u884C\u771F\u673A\u8C03\u8BD5\u4E0D\u662F\u8FDB\u5165  dd.isIDE \u4E5F\u4E0D\u662F trial\u3002\u6240\u4EE5\u9ED8\u8BA4\u8FDB\u5165 else</span></span>
<span class="line"><span style="color:#8E8F8B;">  </span><span style="color:#A0ADA0;">// \u9ED8\u8BA4\u4F7F\u7528\u6B63\u5F0F</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">// #endif</span></span>
<span class="line"></span></code></pre></div><h2 id="uniapp-\u5C0F\u7A0B\u5E8F\u7B7E\u540D\u529F\u80FD\u57FA\u672C\u5B9E\u73B0-2021-03-09" tabindex="-1">uniapp \u5C0F\u7A0B\u5E8F\u7B7E\u540D\u529F\u80FD\u57FA\u672C\u5B9E\u73B0 (2021-03-09) <a class="header-anchor" href="#uniapp-\u5C0F\u7A0B\u5E8F\u7B7E\u540D\u529F\u80FD\u57FA\u672C\u5B9E\u73B0-2021-03-09" aria-hidden="true">#</a></h2><div class="language-vue"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;signature-body&quot;</span></span>
<span class="line"><span style="color:#858585;">    :</span><span style="color:#E0A569;">style</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">{ </span><span style="color:#E0A569;">width</span><span style="color:#858585;">: </span><span style="color:#B8A965;">canvasWidth</span><span style="color:#858585;"> </span><span style="color:#CB7676;">+</span><span style="color:#858585;"> </span><span style="color:#C98A7D;">&#39;%&#39;</span><span style="color:#858585;">, </span><span style="color:#E0A569;">height</span><span style="color:#858585;">: </span><span style="color:#B8A965;">canvasHeight</span><span style="color:#858585;"> </span><span style="color:#CB7676;">+</span><span style="color:#858585;"> </span><span style="color:#C98A7D;">&#39;rpx&#39;</span><span style="color:#858585;"> }</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">  &gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">canvas</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;canvas-editor1&quot;</span></span>
<span class="line"><span style="color:#858585;">      :</span><span style="color:#E0A569;">canvas-id</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">cid</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">      :</span><span style="color:#E0A569;">id</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">cid</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">      @</span><span style="color:#E0A569;">touchstart</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">touchstart</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">      @</span><span style="color:#E0A569;">touchmove</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">touchmove</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">      @</span><span style="color:#E0A569;">touchend</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">touchend</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">    &gt;&lt;/</span><span style="color:#429988;">canvas</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;signature&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">props</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">cid</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">String</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;myCanvas&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">canvasWidth</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">canvasHeight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">500</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">data</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">Strokes</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[],</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u5C4F\u5E55\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// \u5C4F\u5E55\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">dom</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">// canvas DOM\u8282\u70B9</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">mounted</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u56DE\u8C03\u4F1A\u5EF6\u8FDF\u5230\u4E0B\u6B21 DOM \u66F4\u65B0\u5FAA\u73AF\u4E4B\u540E\u6267\u884C\u3002\u5728\u4FEE\u6539\u6570\u636E\u4E4B\u540E\u7ACB\u5373\u4F7F\u7528\u5B83\uFF0C\u7136\u540E\u7B49\u5F85 DOM \u66F4\u65B0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">$nextTick</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u83B7\u53D6\u624B\u673A\u76F8\u5173\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getSystemInfo</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">width</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">windowWidth</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">height</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">windowHeight</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u83B7\u53D6\u5230 canvas</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">createCanvasContext</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">cid</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">methods</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u624B\u6307\u89E6\u6478\u5C4F\u5E55\u65F6\u89E6\u53D1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">touchstart</span><span style="color:#858585;">(</span><span style="color:#B8A965;">e</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u53D6\u6D88\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#A1B567;">preventDefault</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u7981\u6B62\u4E8B\u4EF6\u5192\u6CE1</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#A1B567;">stopPropagation</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u8BB0\u5F55\u76F8\u5173\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">.</span><span style="color:#A1B567;">push</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">imageData</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">style</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">color</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;#000000&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">lineWidth</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">points</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">x</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">touches</span><span style="color:#858585;">[</span><span style="color:#6394BF;">0</span><span style="color:#858585;">].</span><span style="color:#B8A965;">x</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">y</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">touches</span><span style="color:#858585;">[</span><span style="color:#6394BF;">0</span><span style="color:#858585;">].</span><span style="color:#B8A965;">y</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">type</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">],</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">drawLine</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">[</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">],</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">type</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u624B\u6307\u5728\u5C4F\u5E55\u6ED1\u52A8\u65F6\u89E6\u53D1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">touchmove</span><span style="color:#858585;">(</span><span style="color:#B8A965;">e</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u53D6\u6D88\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#A1B567;">preventDefault</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u7981\u6B62\u4E8B\u4EF6\u5192\u6CE1</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#A1B567;">stopPropagation</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">[</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">].</span><span style="color:#B8A965;">points</span><span style="color:#858585;">.</span><span style="color:#A1B567;">push</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">x</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">touches</span><span style="color:#858585;">[</span><span style="color:#6394BF;">0</span><span style="color:#858585;">].</span><span style="color:#B8A965;">x</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">y</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">touches</span><span style="color:#858585;">[</span><span style="color:#6394BF;">0</span><span style="color:#858585;">].</span><span style="color:#B8A965;">y</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">type</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">drawLine</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">[</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">],</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#B8A965;">type</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u624B\u6307\u5728\u5C4F\u5E55\u7ED3\u675F\u6ED1\u52A8\u65F6\u89E6\u53D1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">touchend</span><span style="color:#858585;">(</span><span style="color:#B8A965;">e</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u53D6\u6D88\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#A1B567;">preventDefault</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u7981\u6B62\u4E8B\u4EF6\u5192\u6CE1</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">e</span><span style="color:#858585;">.</span><span style="color:#A1B567;">stopPropagation</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">[</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">].</span><span style="color:#B8A965;">points</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">        </span><span style="color:#758575;">//\u5F53\u6B64\u8DEF\u5F84\u53EA\u6709\u4E00\u4E2A\u70B9\u7684\u65F6\u5019</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#858585;">.</span><span style="color:#A1B567;">pop</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u753B\u7EBF\u7684\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">drawLine</span><span style="color:#858585;">(</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">type</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u8BBE\u7F6E\u7EBF\u6761\u7AEF\u70B9\u6837\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setLineCap</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;round&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u8BBE\u7F6E\u8FB9\u6846\u989C\u8272</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setStrokeStyle</span><span style="color:#858585;">(</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">style</span><span style="color:#858585;">.</span><span style="color:#B8A965;">color</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u8BBE\u7F6E\u7EBF\u6761\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setLineWidth</span><span style="color:#858585;">(</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">style</span><span style="color:#858585;">.</span><span style="color:#B8A965;">lineWidth</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u5C06\u8DEF\u5F84\u79FB\u52A8\u5230\u63A5\u89E6\u5C4F\u5E55\u7684\u6307\u5B9A\u70B9</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">moveTo</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">[</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">].</span><span style="color:#B8A965;">x</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">[</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">].</span><span style="color:#B8A965;">y</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">lineTo</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">[</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">].</span><span style="color:#B8A965;">x</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">[</span><span style="color:#B8A965;">StrokesItem</span><span style="color:#858585;">.</span><span style="color:#B8A965;">points</span><span style="color:#858585;">.</span><span style="color:#429988;">length</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">].</span><span style="color:#B8A965;">y</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u753B\u51FA\u5F53\u524D\u8DEF\u5F84\u7684\u8FB9\u6846</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">stroke</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">draw</span><span style="color:#858585;">(</span><span style="color:#4D9375;">true</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u6E05\u7A7A\u753B\u5E03</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">clearCanvas</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">Strokes</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[];</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#B8A965;">fillStyle</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;#FFFFFF&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">clearRect</span><span style="color:#858585;">(</span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">width</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">height</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">beginPath</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">draw</span><span style="color:#858585;">(</span><span style="color:#4D9375;">true</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">dom</span><span style="color:#858585;">.</span><span style="color:#A1B567;">closePath</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u4FDD\u5B58\u753B\u5E03 \u6267\u884C\u7684\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">saveCanvas</span><span style="color:#858585;">(</span><span style="color:#B8A965;">fn</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#A1B567;">fn</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">style</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">lang</span><span style="color:#DBD7CA;">=</span><span style="color:#C98A7D;">&quot;scss&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">scoped</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">signature-body</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">border</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">solid</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">red</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">margin</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">canvas-editor1</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;signature-body&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">    :</span><span style="color:#B58451;">style</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">{ </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">: </span><span style="color:#8C862B;">canvasWidth</span><span style="color:#8E8F8B;"> </span><span style="color:#AB5959;">+</span><span style="color:#8E8F8B;"> </span><span style="color:#B56959;">&#39;%&#39;</span><span style="color:#8E8F8B;">, </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">: </span><span style="color:#8C862B;">canvasHeight</span><span style="color:#8E8F8B;"> </span><span style="color:#AB5959;">+</span><span style="color:#8E8F8B;"> </span><span style="color:#B56959;">&#39;rpx&#39;</span><span style="color:#8E8F8B;"> }</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">  &gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">canvas</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;canvas-editor1&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      :</span><span style="color:#B58451;">canvas-id</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">cid</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      :</span><span style="color:#B58451;">id</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">cid</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      @</span><span style="color:#B58451;">touchstart</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">touchstart</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      @</span><span style="color:#B58451;">touchmove</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">touchmove</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">      @</span><span style="color:#B58451;">touchend</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">touchend</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">    &gt;&lt;/</span><span style="color:#2F8A89;">canvas</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">export</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">default</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;signature&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">props</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">cid</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">String</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;myCanvas&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">canvasWidth</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">canvasHeight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">500</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">data</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">Strokes</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[],</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5C4F\u5E55\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5C4F\u5E55\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">dom</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// canvas DOM\u8282\u70B9</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">mounted</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u56DE\u8C03\u4F1A\u5EF6\u8FDF\u5230\u4E0B\u6B21 DOM \u66F4\u65B0\u5FAA\u73AF\u4E4B\u540E\u6267\u884C\u3002\u5728\u4FEE\u6539\u6570\u636E\u4E4B\u540E\u7ACB\u5373\u4F7F\u7528\u5B83\uFF0C\u7136\u540E\u7B49\u5F85 DOM \u66F4\u65B0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">$nextTick</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u624B\u673A\u76F8\u5173\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getSystemInfo</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">width</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">windowWidth</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">height</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">windowHeight</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u5230 canvas</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">createCanvasContext</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">cid</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">methods</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u624B\u6307\u89E6\u6478\u5C4F\u5E55\u65F6\u89E6\u53D1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">touchstart</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u53D6\u6D88\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">preventDefault</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u7981\u6B62\u4E8B\u4EF6\u5192\u6CE1</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">stopPropagation</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u8BB0\u5F55\u76F8\u5173\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">push</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">imageData</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">style</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">color</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;#000000&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">lineWidth</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">points</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">x</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">touches</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">y</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">touches</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">y</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">type</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">drawLine</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">[</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">],</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">type</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u624B\u6307\u5728\u5C4F\u5E55\u6ED1\u52A8\u65F6\u89E6\u53D1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">touchmove</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u53D6\u6D88\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">preventDefault</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u7981\u6B62\u4E8B\u4EF6\u5192\u6CE1</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">stopPropagation</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">[</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">push</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">x</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">touches</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">y</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">touches</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">y</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">type</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">drawLine</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">[</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">],</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">type</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u624B\u6307\u5728\u5C4F\u5E55\u7ED3\u675F\u6ED1\u52A8\u65F6\u89E6\u53D1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">touchend</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u53D6\u6D88\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">preventDefault</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u7981\u6B62\u4E8B\u4EF6\u5192\u6CE1</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">e</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">stopPropagation</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">[</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">        </span><span style="color:#A0ADA0;">//\u5F53\u6B64\u8DEF\u5F84\u53EA\u6709\u4E00\u4E2A\u70B9\u7684\u65F6\u5019</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">pop</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u753B\u7EBF\u7684\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">drawLine</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">type</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u8BBE\u7F6E\u7EBF\u6761\u7AEF\u70B9\u6837\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setLineCap</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;round&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u8BBE\u7F6E\u8FB9\u6846\u989C\u8272</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setStrokeStyle</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">style</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">color</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u8BBE\u7F6E\u7EBF\u6761\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setLineWidth</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">style</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">lineWidth</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u5C06\u8DEF\u5F84\u79FB\u52A8\u5230\u63A5\u89E6\u5C4F\u5E55\u7684\u6307\u5B9A\u70B9</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">moveTo</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">y</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">lineTo</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">x</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">StrokesItem</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">points</span><span style="color:#8E8F8B;">.</span><span style="color:#2F8A89;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">y</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u753B\u51FA\u5F53\u524D\u8DEF\u5F84\u7684\u8FB9\u6846</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">stroke</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">draw</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u6E05\u7A7A\u753B\u5E03</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">clearCanvas</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">Strokes</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[];</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">fillStyle</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;#FFFFFF&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">clearRect</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">width</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">height</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">beginPath</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">draw</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">dom</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">closePath</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u4FDD\u5B58\u753B\u5E03 \u6267\u884C\u7684\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">saveCanvas</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">fn</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#6C7834;">fn</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">style</span><span style="color:#393A34;"> </span><span style="color:#B58451;">lang</span><span style="color:#393A34;">=</span><span style="color:#B56959;">&quot;scss&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">scoped</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">signature-body</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">border</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">solid</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">red</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">margin</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">20</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">canvas-editor1</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u56FE\u7247\u8DEF\u5F84-2021-03-12" tabindex="-1">\u56FE\u7247\u8DEF\u5F84 (2021-03-12) <a class="header-anchor" href="#\u56FE\u7247\u8DEF\u5F84-2021-03-12" aria-hidden="true">#</a></h2><p>img \u6807\u7B7E\u4E0A\u7684\u8DEF\u5F84\u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84</p><p>\u80CC\u666F\u56FE\u4E0A\u7684\u8DEF\u5F84\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84</p><h2 id="\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F-base64-\u683C\u5F0F\u56FE\u7247\u8F6C-http-\u5730\u5740-2021-03-17" tabindex="-1">\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F base64 \u683C\u5F0F\u56FE\u7247\u8F6C http \u5730\u5740 (2021-03-17) <a class="header-anchor" href="#\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F-base64-\u683C\u5F0F\u56FE\u7247\u8F6C-http-\u5730\u5740-2021-03-17" aria-hidden="true">#</a></h2><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">base64ToImg</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">base64Data</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">showToast</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">title</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u52A0\u8F7D\u4E2D&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">icon</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;loading&#39;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Promise</span><span style="color:#858585;">((</span><span style="color:#B8A965;">resolve</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">reject</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u5148\u83B7\u5F97\u4E00\u4E2A\u6587\u4EF6\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">fileManager</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getFileSystemManager</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">qrCodeSrc</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">\`</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">wx</span><span style="color:#858585;">.</span><span style="color:#C98A7D;">env</span><span style="color:#858585;">.</span><span style="color:#D4976C;">USER_DATA_PATH</span><span style="color:#858585;">}</span><span style="color:#C98A7D;">/qrcode.png\`</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">fileManager</span><span style="color:#858585;">.</span><span style="color:#A1B567;">writeFile</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">filePath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">qrCodeSrc</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">data</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">base64Data</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">encoding</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;base64&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#A1B567;">resolve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">qrCodeSrc</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2000</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ret</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;error:&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ret</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#A1B567;">reject</span><span style="color:#858585;">(</span><span style="color:#B8A965;">ret</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#858585;">},</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">base64ToImg</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">base64Data</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">showToast</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u52A0\u8F7D\u4E2D&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">icon</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;loading&#39;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Promise</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">resolve</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">reject</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u5148\u83B7\u5F97\u4E00\u4E2A\u6587\u4EF6\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">fileManager</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getFileSystemManager</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">qrCodeSrc</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">\`</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#B56959;">env</span><span style="color:#8E8F8B;">.</span><span style="color:#A65E2B;">USER_DATA_PATH</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">/qrcode.png\`</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">fileManager</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">writeFile</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">filePath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">qrCodeSrc</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">data</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">base64Data</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">encoding</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;base64&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#6C7834;">resolve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">qrCodeSrc</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2000</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ret</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;error:&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ret</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#6C7834;">reject</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">ret</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#8E8F8B;">},</span></span>
<span class="line"></span></code></pre></div><h2 id="uniapp-\u5C0F\u7A0B\u5E8F\u9876\u90E8\u680F\u5207\u6362" tabindex="-1">uniapp \u5C0F\u7A0B\u5E8F\u9876\u90E8\u680F\u5207\u6362 <a class="header-anchor" href="#uniapp-\u5C0F\u7A0B\u5E8F\u9876\u90E8\u680F\u5207\u6362" aria-hidden="true">#</a></h2><p><img src="https://gitee.com/xiaopeng77/typora-img/raw/master/imgs/image-20210401153108524.png" alt="image-20210401153108524"></p><ul><li><p>\u5728\u5C0F\u7A0B\u5E8F\u4F7F\u7528<code>refs</code> \u4F1A\u51FA\u73B0\u95EE\u9898</p></li><li><p><a href="https://blog.csdn.net/qq_36959274/article/details/108762635" target="_blank" rel="noopener noreferrer">uniapp \u5C0F\u7A0B\u5E8F\u83B7\u53D6\u5143\u7D20\u7684 DOM \u8282\u70B9\u76F8\u5173\u4FE1\u606F</a></p></li></ul><div class="language-vue"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;intelligentCustomerBox&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;headerBox&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#858585;"> </span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;ic-HeaderBox&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">block</span><span style="color:#858585;"> </span><span style="color:#E0A569;">v-for</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">(</span><span style="color:#B8A965;">item</span><span style="color:#858585;">, </span><span style="color:#B8A965;">index</span><span style="color:#858585;">) </span><span style="color:#CB7676;">in</span><span style="color:#858585;"> </span><span style="color:#B8A965;">headerList</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;"> :</span><span style="color:#E0A569;">key</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#B8A965;">index</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span></span>
<span class="line"><span style="color:#858585;">            :</span><span style="color:#E0A569;">class</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&#39;headerItem&#39;</span><span style="color:#858585;">, </span><span style="color:#B8A965;">item</span><span style="color:#858585;">.</span><span style="color:#B8A965;">active</span><span style="color:#858585;"> </span><span style="color:#CB7676;">?</span><span style="color:#858585;"> </span><span style="color:#C98A7D;">&#39;headerItem-active&#39;</span><span style="color:#858585;"> </span><span style="color:#CB7676;">:</span><span style="color:#858585;"> </span><span style="color:#C98A7D;">&#39;&#39;</span><span style="color:#858585;">]</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">            @</span><span style="color:#E0A569;">click</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">tapAcitve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">index</span><span style="color:#858585;">)</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">            &gt;{{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">item</span><span style="color:#858585;">.</span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}}&lt;/</span><span style="color:#429988;">view</span></span>
<span class="line"><span style="color:#858585;">          &gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">block</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#DBD7CA;">=</span><span style="color:#C98A7D;">&quot;headerLine&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#E0A569;">style</span><span style="color:#858585;">=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">left</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">headerLineLeft</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;intelligentCustomer&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">data</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">headerLineLeft</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">headerList</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u667A\u80FD\u5BA2\u670D&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">active</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5728\u7EBF\u5DE5\u5355&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">active</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u5728\u7EBF\u6295\u8BC9&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#E0A569;">active</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">],</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">mounted</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setHeaderLineLeft</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">methods</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">setHeaderLineLeft</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">headerBox</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">uni</span><span style="color:#858585;">.</span><span style="color:#A1B567;">createSelectorQuery</span><span style="color:#858585;">().</span><span style="color:#A1B567;">select</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;.headerItem-active&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">headerBox</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">.</span><span style="color:#A1B567;">fields</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">rect</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">size</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">data</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">headerLineLeft</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">data</span><span style="color:#858585;">.</span><span style="color:#B8A965;">left</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">data</span><span style="color:#858585;">.</span><span style="color:#B8A965;">width</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">12</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;px&quot;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">})</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">.</span><span style="color:#A1B567;">exec</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">tapAcitve</span><span style="color:#858585;">(</span><span style="color:#B8A965;">index</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">headerList</span><span style="color:#858585;">[</span><span style="color:#B8A965;">index</span><span style="color:#858585;">].</span><span style="color:#B8A965;">active</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">return</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">headerList</span><span style="color:#858585;">.</span><span style="color:#A1B567;">forEach</span><span style="color:#858585;">((</span><span style="color:#B8A965;">item</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">index</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">item</span><span style="color:#858585;">.</span><span style="color:#B8A965;">active</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">headerList</span><span style="color:#858585;">[</span><span style="color:#B8A965;">index</span><span style="color:#858585;">].</span><span style="color:#B8A965;">active</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">selectClass</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;.headerItem&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">index</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#A1B567;">setHeaderLineLeft</span><span style="color:#858585;">();</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">10</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">style</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">lang</span><span style="color:#DBD7CA;">=</span><span style="color:#C98A7D;">&quot;scss&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">page </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">background</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">$uni-bg-color-grey</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">style</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">lang</span><span style="color:#DBD7CA;">=</span><span style="color:#C98A7D;">&quot;scss&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">scoped</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">intelligentCustomerBox</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">.</span><span style="color:#E0A569;">headerBox</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">background</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">#</span><span style="color:#D4976C;">fff</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#E0A569;">ic-HeaderBox</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">90</span><span style="color:#CB7676;">%</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">display</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">flex</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">align-items</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">center</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">justify-content</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">space-around</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">margin</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">auto</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">.</span><span style="color:#E0A569;">headerItem</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">flex</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">text-align</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">center</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">color</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">#</span><span style="color:#D4976C;">000</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">font-weight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">500</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">font-size</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">.</span><span style="color:#E0A569;">headerItem-active</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">color</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">rgb</span><span style="color:#858585;">(</span><span style="color:#6394BF;">221</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">167</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">107</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#E0A569;">headerLine</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">50</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8</span><span style="color:#DBD7CA;">rpx</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">background</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">rgb</span><span style="color:#858585;">(</span><span style="color:#6394BF;">221</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">167</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">107</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">border-radius</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#CB7676;">px</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">position</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">relative</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">top</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8</span><span style="color:#CB7676;">px</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">transition</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">all</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0.2</span><span style="color:#CB7676;">s</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">linear</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;intelligentCustomerBox&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;headerBox&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;ic-HeaderBox&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">block</span><span style="color:#8E8F8B;"> </span><span style="color:#B58451;">v-for</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">, </span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">) </span><span style="color:#AB5959;">in</span><span style="color:#8E8F8B;"> </span><span style="color:#8C862B;">headerList</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;"> :</span><span style="color:#B58451;">key</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8C862B;">index</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span></span>
<span class="line"><span style="color:#8E8F8B;">            :</span><span style="color:#B58451;">class</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&#39;headerItem&#39;</span><span style="color:#8E8F8B;">, </span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">active</span><span style="color:#8E8F8B;"> </span><span style="color:#AB5959;">?</span><span style="color:#8E8F8B;"> </span><span style="color:#B56959;">&#39;headerItem-active&#39;</span><span style="color:#8E8F8B;"> </span><span style="color:#AB5959;">:</span><span style="color:#8E8F8B;"> </span><span style="color:#B56959;">&#39;&#39;</span><span style="color:#8E8F8B;">]</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">            @</span><span style="color:#B58451;">click</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">tapAcitve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">)</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">            &gt;{{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">name</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}}&lt;/</span><span style="color:#2F8A89;">view</span></span>
<span class="line"><span style="color:#8E8F8B;">          &gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">block</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#393A34;">=</span><span style="color:#B56959;">&quot;headerLine&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#B58451;">style</span><span style="color:#8E8F8B;">=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">left</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">headerLineLeft</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">export</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">default</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;intelligentCustomer&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">data</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">headerLineLeft</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">headerList</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u667A\u80FD\u5BA2\u670D&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">active</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5728\u7EBF\u5DE5\u5355&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">active</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u5728\u7EBF\u6295\u8BC9&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B58451;">active</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">mounted</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setHeaderLineLeft</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">methods</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">setHeaderLineLeft</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">headerBox</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">uni</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">createSelectorQuery</span><span style="color:#8E8F8B;">().</span><span style="color:#6C7834;">select</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;.headerItem-active&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">headerBox</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">fields</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#B58451;">rect</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B58451;">size</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">headerLineLeft</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">left</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">width</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">12</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;px&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">exec</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">tapAcitve</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">headerList</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">active</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">return</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">headerList</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">forEach</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">item</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">active</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">headerList</span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">active</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">selectClass</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;.headerItem&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">index</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setHeaderLineLeft</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">style</span><span style="color:#393A34;"> </span><span style="color:#B58451;">lang</span><span style="color:#393A34;">=</span><span style="color:#B56959;">&quot;scss&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">page </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">background</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">$uni-bg-color-grey</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">style</span><span style="color:#393A34;"> </span><span style="color:#B58451;">lang</span><span style="color:#393A34;">=</span><span style="color:#B56959;">&quot;scss&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">scoped</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">intelligentCustomerBox</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">headerBox</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">background</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">#</span><span style="color:#A65E2B;">fff</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ic-HeaderBox</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">90</span><span style="color:#AB5959;">%</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">display</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">flex</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">align-items</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">center</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">justify-content</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">space-around</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">margin</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">auto</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">headerItem</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">flex</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">text-align</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">center</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">color</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">#</span><span style="color:#A65E2B;">000</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">font-weight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">500</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">font-size</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">headerItem-active</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">color</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">rgb</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">221</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">167</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">107</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">headerLine</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">50</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8</span><span style="color:#393A34;">rpx</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">background</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">rgb</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">221</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">167</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">107</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">border-radius</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#AB5959;">px</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">position</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">relative</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">top</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8</span><span style="color:#AB5959;">px</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">transition</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">all</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0.2</span><span style="color:#AB5959;">s</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">linear</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5C0F\u7A0B\u5E8F\u6253\u5F00-pdf-\u6587\u4EF6" tabindex="-1">\u5C0F\u7A0B\u5E8F\u6253\u5F00 PDF \u6587\u4EF6 <a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u6253\u5F00-pdf-\u6587\u4EF6" aria-hidden="true">#</a></h2><ul><li><p>\u5728 ios \u4E0B\u53EF\u4EE5\u901A\u8FC7 web-view \u76F4\u63A5\u6253\u5F00 PDF \u6587\u4EF6\u8FDB\u884C\u9884\u89C8\u7684\u3002 \u4E0B\u9762\u7684\u65B9\u6CD5 url \u5FC5\u987B\u5728\u5C0F\u7A0B\u5E8F\u540E\u53F0\u914D\u7F6E\u4E1A\u52A1\u57DF\u540D</p></li><li><p>\u5728\u5B89\u5353\u4E0B\u662F\u4E0D\u53EF\u4EE5\u901A\u8FC7 web-view \u8FDB\u884C\u76F4\u63A5\u7684\u9884\u89C8\uFF0C\u5B89\u5353\u4F1A\u76F4\u63A5\u4E0B\u8F7D pdf \u6587\u4EF6\u3002\u5C31\u53EF\u4EE5\u4F7F\u7528\u5B98\u65B9\u7684 API \u4E86\u3002 \u8FD9\u4E2A\u65B9\u6CD5\u5728 iOS \u4E2D\u4E5F\u662F\u53EF\u4EE5\u6B63\u5E38\u4F7F\u7528\u7684\u3002\u4E0D\u8FC7\u8FD9\u65F6\u5019\u5DF2\u7ECF\u8DF3\u51FA\u4E86\u5C0F\u7A0B\u5E8F\uFF0C\u800C\u65E0\u6CD5\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u7684\u529F\u80FD\u83DC\u5355\u4E86\u3002</p></li><li><p>\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u4E86 wx.getSystemInfo \u83B7\u53D6\u8BBE\u5907\u4FE1\u606F\u7684\u63A5\u53E3\uFF0C\u76F4\u63A5\u8C03\u7528\u5C31\u53EF\u4EE5\u4E86\u3002</p></li></ul><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">getSystemInfo</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// systemInfo.platform \u5C31\u662F\u7CFB\u7EDF\u540D\u79F0\uFF0C\u7136\u540E\u518D\u5206\u522B\u8C03\u7528\u4E0D\u540C\u7684\u65B9\u6CD5\u9884\u89C8\u6587\u6863\u5373\u53EF\u3002</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getSystemInfo</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// systemInfo.platform \u5C31\u662F\u7CFB\u7EDF\u540D\u79F0\uFF0C\u7136\u540E\u518D\u5206\u522B\u8C03\u7528\u4E0D\u540C\u7684\u65B9\u6CD5\u9884\u89C8\u6587\u6863\u5373\u53EF\u3002</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">downloadFile</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">url</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">url</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">Path</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">res</span><span style="color:#858585;">.</span><span style="color:#B8A965;">tempFilePath</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">//\u8FD4\u56DE\u7684\u6587\u4EF6\u4E34\u65F6\u5730\u5740\uFF0C\u7528\u4E8E\u540E\u9762\u6253\u5F00\u672C\u5730\u9884\u89C8\u6240\u7528</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">wx</span><span style="color:#858585;">.</span><span style="color:#A1B567;">openDocument</span><span style="color:#858585;">({</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">filePath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">Path</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#A1B567;">success</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;\u6253\u5F00\u6210\u529F&quot;</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">});</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">fail</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">console</span><span style="color:#858585;">.</span><span style="color:#A1B567;">log</span><span style="color:#858585;">(</span><span style="color:#B8A965;">res</span><span style="color:#858585;">);</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">});</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">downloadFile</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">url</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">url</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Path</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">tempFilePath</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u8FD4\u56DE\u7684\u6587\u4EF6\u4E34\u65F6\u5730\u5740\uFF0C\u7528\u4E8E\u540E\u9762\u6253\u5F00\u672C\u5730\u9884\u89C8\u6240\u7528</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">wx</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">openDocument</span><span style="color:#8E8F8B;">({</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">filePath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Path</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#6C7834;">success</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;\u6253\u5F00\u6210\u529F&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">fail</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">console</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">log</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">res</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span></code></pre></div><h2 id="\u624B\u5199-\u8FDB\u5EA6\u6761\u7EC4\u4EF6" tabindex="-1">\u624B\u5199 \u8FDB\u5EA6\u6761\u7EC4\u4EF6 <a class="header-anchor" href="#\u624B\u5199-\u8FDB\u5EA6\u6761\u7EC4\u4EF6" aria-hidden="true">#</a></h2><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// \u4F7F\u7528 \u89C4\u5219</span></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#E0A569;">progressBar</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#FDAEB7;font-style:italic;">:progressTitle=&quot;&#39;\u8FDB\u5EA6\u6761\u6807\u9898&#39;&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#FDAEB7;font-style:italic;">:progressTotalNum=&quot;1000&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#FDAEB7;font-style:italic;">:progressActiveNum=&quot;780&quot;</span></span>
<span class="line"><span style="color:#858585;">&gt;&lt;/</span><span style="color:#E0A569;">progressBar</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u4F7F\u7528 \u89C4\u5219</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#B58451;">progressBar</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B31D28;font-style:italic;">:progressTitle=&quot;&#39;\u8FDB\u5EA6\u6761\u6807\u9898&#39;&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B31D28;font-style:italic;">:progressTotalNum=&quot;1000&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B31D28;font-style:italic;">:progressActiveNum=&quot;780&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#B58451;">progressBar</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">template</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;progressBarBox&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;progressTitle&quot;</span><span style="color:#858585;">&gt;{{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressTitle</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}}&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;barBox&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">:style=&quot;{</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">height:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">progressBarHeight</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;rpx&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">}&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#FDAEB7;font-style:italic;">&lt;view</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;progressBarActive&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#FDAEB7;font-style:italic;">:style=&quot;barActiveStyle&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">ref</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;progressBarActive&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&gt;&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">view</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;progressBarTotal&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">ref</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;progressBarTotal&quot;</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">&lt;</span><span style="color:#429988;">text</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">class</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;activeNumber&quot;</span><span style="color:#858585;">&gt;{{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}}&lt;/</span><span style="color:#429988;">text</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">&lt;/</span><span style="color:#429988;">view</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#B8A965;">template</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">export default </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">name</span><span style="color:#DBD7CA;">: </span><span style="color:#C98A7D;">&quot;progressBar&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#A1B567;">data</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    return {</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">barActiveStyle</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  props: </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u9009\u62E9\u7684\u8FDB\u5EA6\u6761\u90E8\u5206\u7684\u989C\u8272</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">activeBgColor</span><span style="color:#DBD7CA;">: </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">String</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;#277AFF&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u8FDB\u5EA6\u6761\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">progressBarHeight</span><span style="color:#DBD7CA;">: </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">String</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;30&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u8FDB\u5EA6\u6761title</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">progressTitle</span><span style="color:#DBD7CA;">: </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">require</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">String</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u8FDB\u5EA6\u6761&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u8FDB\u5EA6\u6761\u603B\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">progressTotalNum</span><span style="color:#DBD7CA;">: </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u8FDB\u5EA6\u6761\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;">: </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">require</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">default</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  mounted() </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u6C42 \u9009\u62E9\u7684\u8FDB\u5EA6\u6761\u90E8\u5206\u6240\u5360\u767E\u5206\u6BD4</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressTotalNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">Number</span><span style="color:#858585;">(</span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">progressTotalNum</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u8FDB\u5EA6\u6761\u503C &lt; 0 \u9ED8\u8BA4 \u7B49\u4E8E 0</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#A1B567;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressTotalNum</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// \u5982\u679C\u8FD9\u4E2A\u8FDB\u5EA6\u6761\u6570\u91CF &gt; \u603B\u6570\u91CF \u9ED8\u8BA4\u4E3A\u603B\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">progressTotalNum</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// \u8FDB\u5EA6\u6240\u5360\u767E\u5206\u6BD4</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">let</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressPercentage</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#B8A965;">progressActiveNum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">/</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressTotalNum</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;%&quot;</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">barActiveStyle</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">backgroundColor</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">activeBgColor</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#858585;">      </span><span style="color:#758575;">// height: this.progressBarHeight + &quot;rpx&quot;,</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;0%&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">setTimeout</span><span style="color:#858585;">(()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#D4976C;">this</span><span style="color:#858585;">.</span><span style="color:#B8A965;">barActiveStyle</span><span style="color:#858585;">.</span><span style="color:#B8A965;">width</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">progressPercentage</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">};</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">script</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">&lt;</span><span style="color:#429988;">style</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">lang</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&quot;less&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">scoped</span><span style="color:#858585;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">.progressBarBox </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">width</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">height</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">margin</span><span style="color:#DBD7CA;">: 20</span><span style="color:#B8A965;">rpx</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#B8A965;">position</span><span style="color:#DBD7CA;">: </span><span style="color:#B8A965;">relative</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#B8A965;">progressTitle</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    font-</span><span style="color:#E0A569;">size</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 20</span><span style="color:#B8A965;">rpx</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">font</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">weight</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">500</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">color</span><span style="color:#DBD7CA;">: #</span><span style="color:#6394BF;">576783</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">margin</span><span style="color:#DBD7CA;">: 20</span><span style="color:#B8A965;">rpx</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#B8A965;">barBox</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">95</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">position</span><span style="color:#DBD7CA;">: </span><span style="color:#B8A965;">relative</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">.</span><span style="color:#B8A965;">progressBarActive</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">height</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">height</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">border</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">radius</span><span style="color:#DBD7CA;">: 20</span><span style="color:#B8A965;">rpx</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">position</span><span style="color:#DBD7CA;">: </span><span style="color:#B8A965;">absolute</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">transition</span><span style="color:#DBD7CA;">: </span><span style="color:#B8A965;">all</span><span style="color:#DBD7CA;"> 0</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">6</span><span style="color:#B8A965;">s</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ease</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">.</span><span style="color:#B8A965;">progressBarTotal</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#E0A569;">width</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">height</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">100</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">background</span><span style="color:#DBD7CA;">: #</span><span style="color:#B8A965;">eeeeee</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#B8A965;">border</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">radius</span><span style="color:#DBD7CA;">: 20</span><span style="color:#B8A965;">rpx</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">.</span><span style="color:#B8A965;">activeNumber</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#E0A569;">display</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">inline</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">block</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">font</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">size</span><span style="color:#DBD7CA;">: 18</span><span style="color:#B8A965;">rpx</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">font</span><span style="color:#CB7676;">-</span><span style="color:#B8A965;">weight</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">500</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">color</span><span style="color:#DBD7CA;">: #</span><span style="color:#6394BF;">576783</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">opacity</span><span style="color:#DBD7CA;">: </span><span style="color:#6394BF;">0.6</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">position</span><span style="color:#DBD7CA;">: </span><span style="color:#B8A965;">absolute</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">right</span><span style="color:#DBD7CA;">: </span><span style="color:#CB7676;">-</span><span style="color:#6394BF;">7</span><span style="color:#CB7676;">%</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">&lt;/</span><span style="color:#429988;">style</span><span style="color:#858585;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;progressBarBox&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;progressTitle&quot;</span><span style="color:#8E8F8B;">&gt;{{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressTitle</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}}&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;barBox&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">:style=&quot;{</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">height:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">progressBarHeight</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;rpx&#39;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">}&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B31D28;font-style:italic;">&lt;view</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;progressBarActive&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B31D28;font-style:italic;">:style=&quot;barActiveStyle&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">ref</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;progressBarActive&quot;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&gt;&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">view</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;progressBarTotal&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">ref</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;progressBarTotal&quot;</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">text</span><span style="color:#393A34;"> </span><span style="color:#B58451;">class</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;activeNumber&quot;</span><span style="color:#8E8F8B;">&gt;{{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}}&lt;/</span><span style="color:#2F8A89;">text</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">view</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#8C862B;">template</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">export default </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">name</span><span style="color:#393A34;">: </span><span style="color:#B56959;">&quot;progressBar&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">data</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    return {</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">barActiveStyle</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">  props: </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u9009\u62E9\u7684\u8FDB\u5EA6\u6761\u90E8\u5206\u7684\u989C\u8272</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">activeBgColor</span><span style="color:#393A34;">: </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">String</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;#277AFF&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u8FDB\u5EA6\u6761\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">progressBarHeight</span><span style="color:#393A34;">: </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">String</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;30&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u8FDB\u5EA6\u6761title</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">progressTitle</span><span style="color:#393A34;">: </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">require</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">String</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u8FDB\u5EA6\u6761&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u8FDB\u5EA6\u6761\u603B\u503C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">progressTotalNum</span><span style="color:#393A34;">: </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u8FDB\u5EA6\u6761\u503C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;">: </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">require</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">default</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">  mounted() </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u6C42 \u9009\u62E9\u7684\u8FDB\u5EA6\u6761\u90E8\u5206\u6240\u5360\u767E\u5206\u6BD4</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressTotalNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Number</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">progressTotalNum</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u8FDB\u5EA6\u6761\u503C &lt; 0 \u9ED8\u8BA4 \u7B49\u4E8E 0</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressTotalNum</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// \u5982\u679C\u8FD9\u4E2A\u8FDB\u5EA6\u6761\u6570\u91CF &gt; \u603B\u6570\u91CF \u9ED8\u8BA4\u4E3A\u603B\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">progressTotalNum</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// \u8FDB\u5EA6\u6240\u5360\u767E\u5206\u6BD4</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressPercentage</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">progressActiveNum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">/</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressTotalNum</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;%&quot;</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">barActiveStyle</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">backgroundColor</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">activeBgColor</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">      </span><span style="color:#A0ADA0;">// height: this.progressBarHeight + &quot;rpx&quot;,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;0%&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">setTimeout</span><span style="color:#8E8F8B;">(()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">barActiveStyle</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">width</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">progressPercentage</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">};</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">script</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">&lt;</span><span style="color:#2F8A89;">style</span><span style="color:#393A34;"> </span><span style="color:#B58451;">lang</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&quot;less&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">scoped</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">.progressBarBox </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">width</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">height</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">margin</span><span style="color:#393A34;">: 20</span><span style="color:#8C862B;">rpx</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">position</span><span style="color:#393A34;">: </span><span style="color:#8C862B;">relative</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">progressTitle</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    font-</span><span style="color:#B58451;">size</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 20</span><span style="color:#8C862B;">rpx</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">font</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">weight</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">500</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">color</span><span style="color:#393A34;">: #</span><span style="color:#296AA3;">576783</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">margin</span><span style="color:#393A34;">: 20</span><span style="color:#8C862B;">rpx</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">barBox</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">95</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">position</span><span style="color:#393A34;">: </span><span style="color:#8C862B;">relative</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">progressBarActive</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">height</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">height</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">border</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">radius</span><span style="color:#393A34;">: 20</span><span style="color:#8C862B;">rpx</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">position</span><span style="color:#393A34;">: </span><span style="color:#8C862B;">absolute</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">transition</span><span style="color:#393A34;">: </span><span style="color:#8C862B;">all</span><span style="color:#393A34;"> 0</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">6</span><span style="color:#8C862B;">s</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ease</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">progressBarTotal</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B58451;">width</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">height</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">100</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">background</span><span style="color:#393A34;">: #</span><span style="color:#8C862B;">eeeeee</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8C862B;">border</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">radius</span><span style="color:#393A34;">: 20</span><span style="color:#8C862B;">rpx</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">activeNumber</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">display</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">inline</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">block</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">font</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">size</span><span style="color:#393A34;">: 18</span><span style="color:#8C862B;">rpx</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">font</span><span style="color:#AB5959;">-</span><span style="color:#8C862B;">weight</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">500</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">color</span><span style="color:#393A34;">: #</span><span style="color:#296AA3;">576783</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">opacity</span><span style="color:#393A34;">: </span><span style="color:#296AA3;">0.6</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">position</span><span style="color:#393A34;">: </span><span style="color:#8C862B;">absolute</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">right</span><span style="color:#393A34;">: </span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">7</span><span style="color:#AB5959;">%</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">&lt;/</span><span style="color:#2F8A89;">style</span><span style="color:#8E8F8B;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h2>`,91),e=[o];function c(t,r,y,B,A,i){return a(),n("div",null,e)}var E=s(p,[["render",c]]);export{C as __pageData,E as default};
