import{aO as v,aP as $,aQ as b,aR as q,aS as d}from"./theme.Dw8QYP4n.js";import{a as B}from"./init-DjUOC4st-C8Nwz6AJ.BTi8F14B.js";import{E as D,i as E,t as K,K as M}from"./defaultLocale-D7EN2tov-CK6dgF7Y.fzCKKdue.js";function g(r,n){return r==null||n==null?NaN:r<n?-1:r>n?1:r>=n?0:NaN}function O(r,n){return r==null||n==null?NaN:n<r?-1:n>r?1:n>=r?0:NaN}function x(r){let n,a,t;r.length!==2?(n=g,a=(i,c)=>g(r(i),c),t=(i,c)=>r(i)-c):(n=r===g||r===O?r:R,a=r,t=r);function u(i,c,e=0,h=i.length){if(e<h){if(n(c,c)!==0)return h;do{const l=e+h>>>1;a(i[l],c)<0?e=l+1:h=l}while(e<h)}return e}function f(i,c,e=0,h=i.length){if(e<h){if(n(c,c)!==0)return h;do{const l=e+h>>>1;a(i[l],c)<=0?e=l+1:h=l}while(e<h)}return e}function o(i,c,e=0,h=i.length){const l=u(i,c,e,h-1);return l>e&&t(i[l-1],c)>-t(i[l],c)?l-1:l}return{left:u,center:o,right:f}}function R(){return 0}function S(r){return r===null?NaN:+r}const j=x(g),F=j.right;x(S).center;const H=Math.sqrt(50),P=Math.sqrt(10),Q=Math.sqrt(2);function p(r,n,a){const t=(n-r)/Math.max(0,a),u=Math.floor(Math.log10(t)),f=t/Math.pow(10,u),o=f>=H?10:f>=P?5:f>=Q?2:1;let i,c,e;return u<0?(e=Math.pow(10,-u)/o,i=Math.round(r*e),c=Math.round(n*e),i/e<r&&++i,c/e>n&&--c,e=-e):(e=Math.pow(10,u)*o,i=Math.round(r/e),c=Math.round(n/e),i*e<r&&++i,c*e>n&&--c),c<i&&.5<=a&&a<2?p(r,n,a*2):[i,c,e]}function T(r,n,a){if(n=+n,r=+r,a=+a,!(a>0))return[];if(r===n)return[r];const t=n<r,[u,f,o]=t?p(n,r,a):p(r,n,a);if(!(f>=u))return[];const i=f-u+1,c=new Array(i);if(t)if(o<0)for(let e=0;e<i;++e)c[e]=(f-e)/-o;else for(let e=0;e<i;++e)c[e]=(f-e)*o;else if(o<0)for(let e=0;e<i;++e)c[e]=(u+e)/-o;else for(let e=0;e<i;++e)c[e]=(u+e)*o;return c}function N(r,n,a){return n=+n,r=+r,a=+a,p(r,n,a)[2]}function U(r,n,a){n=+n,r=+r,a=+a;const t=n<r,u=t?N(n,r,a):N(r,n,a);return(t?-1:1)*(u<0?1/-u:u)}function V(r,n){n||(n=[]);var a=r?Math.min(n.length,r.length):0,t=n.slice(),u;return function(f){for(u=0;u<a;++u)t[u]=r[u]*(1-f)+n[u]*f;return t}}function Y(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function z(r,n){var a=n?n.length:0,t=r?Math.min(a,r.length):0,u=new Array(t),f=new Array(a),o;for(o=0;o<t;++o)u[o]=w(r[o],n[o]);for(;o<a;++o)f[o]=n[o];return function(i){for(o=0;o<t;++o)f[o]=u[o](i);return f}}function C(r,n){var a=new Date;return r=+r,n=+n,function(t){return a.setTime(r*(1-t)+n*t),a}}function G(r,n){var a={},t={},u;(r===null||typeof r!="object")&&(r={}),(n===null||typeof n!="object")&&(n={});for(u in n)u in r?a[u]=w(r[u],n[u]):t[u]=n[u];return function(f){for(u in a)t[u]=a[u](f);return t}}function w(r,n){var a=typeof n,t;return n==null||a==="boolean"?$(n):(a==="number"?v:a==="string"?(t=d(n))?(n=t,b):q:n instanceof d?b:n instanceof Date?C:Y(n)?V:Array.isArray(n)?z:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?G:v)(r,n)}function I(r,n){return r=+r,n=+n,function(a){return Math.round(r*(1-a)+n*a)}}function J(r){return Math.max(0,-M(Math.abs(r)))}function L(r,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(M(n)/3)))*3-M(Math.abs(r)))}function W(r,n){return r=Math.abs(r),n=Math.abs(n)-r,Math.max(0,M(n)-M(r))+1}function X(r){return function(){return r}}function Z(r){return+r}var A=[0,1];function m(r){return r}function y(r,n){return(n-=r=+r)?function(a){return(a-r)/n}:X(isNaN(n)?NaN:.5)}function _(r,n){var a;return r>n&&(a=r,r=n,n=a),function(t){return Math.max(r,Math.min(n,t))}}function rr(r,n,a){var t=r[0],u=r[1],f=n[0],o=n[1];return u<t?(t=y(u,t),f=a(o,f)):(t=y(t,u),f=a(f,o)),function(i){return f(t(i))}}function nr(r,n,a){var t=Math.min(r.length,n.length)-1,u=new Array(t),f=new Array(t),o=-1;for(r[t]<r[0]&&(r=r.slice().reverse(),n=n.slice().reverse());++o<t;)u[o]=y(r[o],r[o+1]),f[o]=a(n[o],n[o+1]);return function(i){var c=F(r,i,1,t)-1;return f[c](u[c](i))}}function tr(r,n){return n.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function er(){var r=A,n=A,a=w,t,u,f,o=m,i,c,e;function h(){var s=Math.min(r.length,n.length);return o!==m&&(o=_(r[0],r[s-1])),i=s>2?nr:rr,c=e=null,l}function l(s){return s==null||isNaN(s=+s)?f:(c||(c=i(r.map(t),n,a)))(t(o(s)))}return l.invert=function(s){return o(u((e||(e=i(n,r.map(t),v)))(s)))},l.domain=function(s){return arguments.length?(r=Array.from(s,Z),h()):r.slice()},l.range=function(s){return arguments.length?(n=Array.from(s),h()):n.slice()},l.rangeRound=function(s){return n=Array.from(s),a=I,h()},l.clamp=function(s){return arguments.length?(o=s?!0:m,h()):o!==m},l.interpolate=function(s){return arguments.length?(a=s,h()):a},l.unknown=function(s){return arguments.length?(f=s,l):f},function(s,k){return t=s,u=k,h()}}function ar(){return er()(m,m)}function ur(r,n,a,t){var u=U(r,n,a),f;switch(t=D(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(r),Math.abs(n));return t.precision==null&&!isNaN(f=L(u,o))&&(t.precision=f),E(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(f=W(u,Math.max(Math.abs(r),Math.abs(n))))&&(t.precision=f-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(f=J(u))&&(t.precision=f-(t.type==="%")*2);break}}return K(t)}function or(r){var n=r.domain;return r.ticks=function(a){var t=n();return T(t[0],t[t.length-1],a??10)},r.tickFormat=function(a,t){var u=n();return ur(u[0],u[u.length-1],a??10,t)},r.nice=function(a){a==null&&(a=10);var t=n(),u=0,f=t.length-1,o=t[u],i=t[f],c,e,h=10;for(i<o&&(e=o,o=i,i=e,e=u,u=f,f=e);h-- >0;){if(e=N(o,i,a),e===c)return t[u]=o,t[f]=i,n(t);if(e>0)o=Math.floor(o/e)*e,i=Math.ceil(i/e)*e;else if(e<0)o=Math.ceil(o*e)/e,i=Math.floor(i*e)/e;else break;c=e}return r},r}function ir(){var r=ar();return r.copy=function(){return tr(r,ir())},B.apply(r,arguments),or(r)}export{U as I,tr as e,ir as i,ar as u,x};
