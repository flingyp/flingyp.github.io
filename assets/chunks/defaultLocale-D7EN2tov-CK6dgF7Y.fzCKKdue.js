function I(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function j(i,r){if((o=(i=r?i.toExponential(r-1):i.toExponential()).indexOf("e"))<0)return null;var o,t=i.slice(0,o);return[t.length>1?t[0]+t.slice(2):t,+i.slice(o+1)]}function J(i){return i=j(Math.abs(i)),i?i[1]:NaN}function K(i,r){return function(o,t){for(var e=o.length,s=[],d=0,u=i[0],y=0;e>0&&u>0&&(y+u+1>t&&(u=Math.max(1,t-y)),s.push(o.substring(e-=u,e+u)),!((y+=u+1)>t));)u=i[d=(d+1)%i.length];return s.reverse().join(r)}}function Q(i){return function(r){return r.replace(/[0-9]/g,function(o){return i[+o]})}}var R=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function S(i){if(!(r=R.exec(i)))throw new Error("invalid format: "+i);var r;return new $({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}S.prototype=$.prototype;function $(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V(i){i:for(var r=i.length,o=1,t=-1,e;o<r;++o)switch(i[o]){case".":t=e=o;break;case"0":t===0&&(t=o),e=o;break;default:if(!+i[o])break i;t>0&&(t=0);break}return t>0?i.slice(0,t)+i.slice(e+1):i}var Z;function W(i,r){var o=j(i,r);if(!o)return i+"";var t=o[0],e=o[1],s=e-(Z=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,d=t.length;return s===d?t:s>d?t+new Array(s-d+1).join("0"):s>0?t.slice(0,s)+"."+t.slice(s):"0."+new Array(1-s).join("0")+j(i,Math.max(0,r+s-1))[0]}function G(i,r){var o=j(i,r);if(!o)return i+"";var t=o[0],e=o[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}const O={"%":(i,r)=>(i*100).toFixed(r),b:i=>Math.round(i).toString(2),c:i=>i+"",d:I,e:(i,r)=>i.toExponential(r),f:(i,r)=>i.toFixed(r),g:(i,r)=>i.toPrecision(r),o:i=>Math.round(i).toString(8),p:(i,r)=>G(i*100,r),r:G,s:W,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function T(i){return i}var U=Array.prototype.map,Y=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _(i){var r=i.grouping===void 0||i.thousands===void 0?T:K(U.call(i.grouping,Number),i.thousands+""),o=i.currency===void 0?"":i.currency[0]+"",t=i.currency===void 0?"":i.currency[1]+"",e=i.decimal===void 0?".":i.decimal+"",s=i.numerals===void 0?T:Q(U.call(i.numerals,String)),d=i.percent===void 0?"%":i.percent+"",u=i.minus===void 0?"−":i.minus+"",y=i.nan===void 0?"NaN":i.nan+"";function P(a){a=S(a);var M=a.fill,b=a.align,h=a.sign,w=a.symbol,v=a.zero,x=a.width,E=a.comma,g=a.precision,C=a.trim,c=a.type;c==="n"?(E=!0,c="g"):O[c]||(g===void 0&&(g=12),C=!0,c="g"),(v||M==="0"&&b==="=")&&(v=!0,M="0",b="=");var B=w==="$"?o:w==="#"&&/[boxX]/.test(c)?"0"+c.toLowerCase():"",D=w==="$"?t:/[%p]/.test(c)?d:"",F=O[c],H=/[defgprs%]/.test(c);g=g===void 0?6:/[gprs]/.test(c)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function L(n){var m=B,l=D,p,X,k;if(c==="c")l=F(n)+l,n="";else{n=+n;var z=n<0||1/n<0;if(n=isNaN(n)?y:F(Math.abs(n),g),C&&(n=V(n)),z&&+n==0&&h!=="+"&&(z=!1),m=(z?h==="("?h:u:h==="-"||h==="("?"":h)+m,l=(c==="s"?Y[8+Z/3]:"")+l+(z&&h==="("?")":""),H){for(p=-1,X=n.length;++p<X;)if(k=n.charCodeAt(p),48>k||k>57){l=(k===46?e+n.slice(p+1):n.slice(p))+l,n=n.slice(0,p);break}}}E&&!v&&(n=r(n,1/0));var A=m.length+n.length+l.length,f=A<x?new Array(x-A+1).join(M):"";switch(E&&v&&(n=r(f+n,f.length?x-l.length:1/0),f=""),b){case"<":n=m+n+l+f;break;case"=":n=m+f+n+l;break;case"^":n=f.slice(0,A=f.length>>1)+m+n+l+f.slice(A);break;default:n=f+m+n+l;break}return s(n)}return L.toString=function(){return a+""},L}function q(a,M){var b=P((a=S(a),a.type="f",a)),h=Math.max(-8,Math.min(8,Math.floor(J(M)/3)))*3,w=Math.pow(10,-h),v=Y[8+h/3];return function(x){return b(w*x)+v}}return{format:P,formatPrefix:q}}var N,ii,ri;ni({thousands:",",grouping:[3],currency:["$",""]});function ni(i){return N=_(i),ii=N.format,ri=N.formatPrefix,N}export{S as E,J as K,ri as i,ii as t};
